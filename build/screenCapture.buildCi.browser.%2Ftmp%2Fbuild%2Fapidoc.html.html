<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="http://www.easyrtc.com/">easyrtc (v1.1.0)</a>
</h1>
<h4>EasyRTC enables quick development of webRTC</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc">module easyrtc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.dontAddCloseButtons">
            function <span class="apidocSignatureSpan">easyrtc.</span>dontAddCloseButtons
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyApp">
            function <span class="apidocSignatureSpan">easyrtc.</span>easyApp
            <span class="apidocSignatureSpan">(applicationName, monitorVideoId, videoIds, onReady, onFailure)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.emit">
            function <span class="apidocSignatureSpan">easyrtc.</span>events.emit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.emitDefault">
            function <span class="apidocSignatureSpan">easyrtc.</span>events.emitDefault
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.on">
            function <span class="apidocSignatureSpan">easyrtc.</span>events.on
            <span class="apidocSignatureSpan">(eventName, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.removeAllListeners">
            function <span class="apidocSignatureSpan">easyrtc.</span>events.removeAllListeners
            <span class="apidocSignatureSpan">(eventName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.setDefaultListener">
            function <span class="apidocSignatureSpan">easyrtc.</span>events.setDefaultListener
            <span class="apidocSignatureSpan">(eventName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.setDefaultListeners">
            function <span class="apidocSignatureSpan">easyrtc.</span>events.setDefaultListeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.getDefaultOptions">
            function <span class="apidocSignatureSpan">easyrtc.</span>getDefaultOptions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.listen">
            function <span class="apidocSignatureSpan">easyrtc.</span>listen
            <span class="apidocSignatureSpan">(httpApp, socketServer, options, listenCallback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.on">
            function <span class="apidocSignatureSpan">easyrtc.</span>on
            <span class="apidocSignatureSpan">(event, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.removeAllListeners">
            function <span class="apidocSignatureSpan">easyrtc.</span>removeAllListeners
            <span class="apidocSignatureSpan">(event)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.setOption">
            function <span class="apidocSignatureSpan">easyrtc.</span>setOption
            <span class="apidocSignatureSpan">(optionName, optionValue)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ApplicationError">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.ApplicationError
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ApplicationWarning">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.ApplicationWarning
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ConnectionError">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.ConnectionError
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ConnectionWarning">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.ConnectionWarning
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ServerError">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.ServerError
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ServerWarning">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.ServerWarning
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.deepCopy">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.deepCopy
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.getAvailableEasyrtcid">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.getAvailableEasyrtcid
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.getErrorMsg">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.getErrorMsg
            <span class="apidocSignatureSpan">(errorCode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.getErrorText">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.getErrorText
            <span class="apidocSignatureSpan">(errorCode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.isError">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.isError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.isValidIncomingMessage">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.isValidIncomingMessage
            <span class="apidocSignatureSpan">(type, msg, appObj, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.isWarning">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.isWarning
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.log">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.log
            <span class="apidocSignatureSpan">(level, logText, logFields)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.logDebug">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.logDebug
            <span class="apidocSignatureSpan">(logText, logFields)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.logError">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.logError
            <span class="apidocSignatureSpan">(logText, logFields)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.logInfo">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.logInfo
            <span class="apidocSignatureSpan">(logText, logFields)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.logWarning">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.logWarning
            <span class="apidocSignatureSpan">(logText, logFields)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.nextToNowhere">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.nextToNowhere
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.sendSessionCookie">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.sendSessionCookie
            <span class="apidocSignatureSpan">(req, res)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.sendSocketCallbackAck">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.sendSocketCallbackAck
            <span class="apidocSignatureSpan">(easyrtcid, socketCallback, appObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.sendSocketCallbackMsg">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.sendSocketCallbackMsg
            <span class="apidocSignatureSpan">(easyrtcid, socketCallback, msg, appObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.updateCheck">
            function <span class="apidocSignatureSpan">easyrtc.</span>util.updateCheck
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.</span>easyrtc_default_event_listeners</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.</span>easyrtc_public_obj</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.</span>easyrtc_util</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.</span>events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.</span>events.defaultListeners</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.</span>general_util</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.</span>util</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.dontAddCloseButtons">module easyrtc.dontAddCloseButtons</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.dontAddCloseButtons.dontAddCloseButtons">
            function <span class="apidocSignatureSpan">easyrtc.</span>dontAddCloseButtons
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.easyApp">module easyrtc.easyApp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyApp.easyApp">
            function <span class="apidocSignatureSpan">easyrtc.</span>easyApp
            <span class="apidocSignatureSpan">(applicationName, monitorVideoId, videoIds, onReady, onFailure)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.easyrtc_default_event_listeners">module easyrtc.easyrtc_default_event_listeners</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onAuthenticate">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onAuthenticate
            <span class="apidocSignatureSpan">(socket, easyrtcid, appName, username, credential, easyrtcAuthMessage, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onAuthenticated">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onAuthenticated
            <span class="apidocSignatureSpan">(connectionObj, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onConnection">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onConnection
            <span class="apidocSignatureSpan">(socket, easyrtcid, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onDisconnect">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onDisconnect
            <span class="apidocSignatureSpan">(connectionObj, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEasyrtcAuth">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEasyrtcAuth
            <span class="apidocSignatureSpan">(socket, easyrtcid, msg, socketCallback, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEasyrtcCmd">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEasyrtcCmd
            <span class="apidocSignatureSpan">(connectionObj, msg, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEasyrtcMsg">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEasyrtcMsg
            <span class="apidocSignatureSpan">(connectionObj, msg, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitEasyrtcCmd">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEmitEasyrtcCmd
            <span class="apidocSignatureSpan">(connectionObj, msgType, msg, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitEasyrtcMsg">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEmitEasyrtcMsg
            <span class="apidocSignatureSpan">(connectionObj, msgType, msg, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitError">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEmitError
            <span class="apidocSignatureSpan">(connectionObj, errorCode, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitReturnAck">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEmitReturnAck
            <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitReturnError">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEmitReturnError
            <span class="apidocSignatureSpan">(connectionObj, socketCallback, errorCode, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitReturnToken">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEmitReturnToken
            <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onGetIceConfig">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onGetIceConfig
            <span class="apidocSignatureSpan">(connectionObj, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onLog">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onLog
            <span class="apidocSignatureSpan">(level, logText, logFields, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeGetIceConfig">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onMsgTypeGetIceConfig
            <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeGetRoomList">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onMsgTypeGetRoomList
            <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeRoomJoin">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onMsgTypeRoomJoin
            <span class="apidocSignatureSpan">(connectionObj, rooms, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeRoomLeave">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onMsgTypeRoomLeave
            <span class="apidocSignatureSpan">(connectionObj, rooms, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeSetPresence">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onMsgTypeSetPresence
            <span class="apidocSignatureSpan">(connectionObj, presenceObj, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeSetRoomApiField">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onMsgTypeSetRoomApiField
            <span class="apidocSignatureSpan">(connectionObj, roomApiFieldObj, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onRoomCreate">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onRoomCreate
            <span class="apidocSignatureSpan">(appObj, creatorConnectionObj, roomName, roomOptions, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onRoomJoin">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onRoomJoin
            <span class="apidocSignatureSpan">(connectionObj, roomName, roomParameter, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onRoomLeave">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onRoomLeave
            <span class="apidocSignatureSpan">(connectionObj, roomName, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onShutdown">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onShutdown
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onStartup">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onStartup
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.easyrtc_public_obj">module easyrtc.easyrtc_public_obj</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_public_obj._getPrivateObj">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>_getPrivateObj
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_public_obj.app">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>app
            <span class="apidocSignatureSpan">(appName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_public_obj.createApp">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>createApp
            <span class="apidocSignatureSpan">(appName, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_public_obj.getAppNames">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getAppNames
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_public_obj.getAppWithEasyrtcid">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getAppWithEasyrtcid
            <span class="apidocSignatureSpan">(easyrtcid, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_public_obj.getConnectionCount">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getConnectionCount
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_public_obj.getConnectionCountSync">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getConnectionCountSync
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_public_obj.getConnectionWithEasyrtcid">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getConnectionWithEasyrtcid
            <span class="apidocSignatureSpan">(easyrtcid, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_public_obj.getOption">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getOption
            <span class="apidocSignatureSpan">(optionName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_public_obj.getVersion">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getVersion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_public_obj.isApp">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>isApp
            <span class="apidocSignatureSpan">(appName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_public_obj.setOption">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>setOption
            <span class="apidocSignatureSpan">(optionName, optionValue)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>httpApp</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>socketServer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>util</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.easyrtc_util">module easyrtc.easyrtc_util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_util.ApplicationError">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>ApplicationError
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_util.ApplicationWarning">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>ApplicationWarning
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_util.ConnectionError">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>ConnectionError
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_util.ConnectionWarning">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>ConnectionWarning
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_util.ServerError">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>ServerError
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_util.ServerWarning">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>ServerWarning
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_util.getAvailableEasyrtcid">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>getAvailableEasyrtcid
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_util.isError">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>isError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_util.isWarning">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>isWarning
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.easyrtc_util.socketDisconnect">
            function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>socketDisconnect
            <span class="apidocSignatureSpan">(socket)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.events">module easyrtc.events</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.emit">
            function <span class="apidocSignatureSpan">easyrtc.events.</span>emit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.emitDefault">
            function <span class="apidocSignatureSpan">easyrtc.events.</span>emitDefault
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.on">
            function <span class="apidocSignatureSpan">easyrtc.events.</span>on
            <span class="apidocSignatureSpan">(eventName, listener)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.removeAllListeners">
            function <span class="apidocSignatureSpan">easyrtc.events.</span>removeAllListeners
            <span class="apidocSignatureSpan">(eventName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.setDefaultListener">
            function <span class="apidocSignatureSpan">easyrtc.events.</span>setDefaultListener
            <span class="apidocSignatureSpan">(eventName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.setDefaultListeners">
            function <span class="apidocSignatureSpan">easyrtc.events.</span>setDefaultListeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.events.</span>_eventListener</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">easyrtc.events.</span>defaultListeners</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.events.defaultListeners">module easyrtc.events.defaultListeners</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.authenticate">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>authenticate
            <span class="apidocSignatureSpan">(socket, easyrtcid, appName, username, credential, easyrtcAuthMessage, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.authenticated">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>authenticated
            <span class="apidocSignatureSpan">(connectionObj, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.connection">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>connection
            <span class="apidocSignatureSpan">(socket, easyrtcid, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.disconnect">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>disconnect
            <span class="apidocSignatureSpan">(connectionObj, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.easyrtcAuth">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>easyrtcAuth
            <span class="apidocSignatureSpan">(socket, easyrtcid, msg, socketCallback, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.easyrtcCmd">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>easyrtcCmd
            <span class="apidocSignatureSpan">(connectionObj, msg, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.easyrtcMsg">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>easyrtcMsg
            <span class="apidocSignatureSpan">(connectionObj, msg, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.emitEasyrtcCmd">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>emitEasyrtcCmd
            <span class="apidocSignatureSpan">(connectionObj, msgType, msg, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.emitEasyrtcMsg">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>emitEasyrtcMsg
            <span class="apidocSignatureSpan">(connectionObj, msgType, msg, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.emitError">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>emitError
            <span class="apidocSignatureSpan">(connectionObj, errorCode, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.emitReturnAck">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>emitReturnAck
            <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.emitReturnError">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>emitReturnError
            <span class="apidocSignatureSpan">(connectionObj, socketCallback, errorCode, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.emitReturnToken">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>emitReturnToken
            <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.getIceConfig">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>getIceConfig
            <span class="apidocSignatureSpan">(connectionObj, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.log">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>log
            <span class="apidocSignatureSpan">(level, logText, logFields, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.msgTypeGetIceConfig">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>msgTypeGetIceConfig
            <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.msgTypeGetRoomList">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>msgTypeGetRoomList
            <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.msgTypeRoomJoin">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>msgTypeRoomJoin
            <span class="apidocSignatureSpan">(connectionObj, rooms, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.msgTypeRoomLeave">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>msgTypeRoomLeave
            <span class="apidocSignatureSpan">(connectionObj, rooms, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.msgTypeSetPresence">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>msgTypeSetPresence
            <span class="apidocSignatureSpan">(connectionObj, presenceObj, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.msgTypeSetRoomApiField">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>msgTypeSetRoomApiField
            <span class="apidocSignatureSpan">(connectionObj, roomApiFieldObj, socketCallback, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.roomCreate">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>roomCreate
            <span class="apidocSignatureSpan">(appObj, creatorConnectionObj, roomName, roomOptions, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.roomJoin">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>roomJoin
            <span class="apidocSignatureSpan">(connectionObj, roomName, roomParameter, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.roomLeave">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>roomLeave
            <span class="apidocSignatureSpan">(connectionObj, roomName, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.shutdown">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>shutdown
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.defaultListeners.startup">
            function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>startup
            <span class="apidocSignatureSpan">(next)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.events.emit">module easyrtc.events.emit</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.emit.emit">
            function <span class="apidocSignatureSpan">easyrtc.events.</span>emit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.events.emitDefault">module easyrtc.events.emitDefault</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.emitDefault.emitDefault">
            function <span class="apidocSignatureSpan">easyrtc.events.</span>emitDefault
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.events.on">module easyrtc.events.on</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.on.on">
            function <span class="apidocSignatureSpan">easyrtc.events.</span>on
            <span class="apidocSignatureSpan">(eventName, listener)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.events.removeAllListeners">module easyrtc.events.removeAllListeners</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.removeAllListeners.removeAllListeners">
            function <span class="apidocSignatureSpan">easyrtc.events.</span>removeAllListeners
            <span class="apidocSignatureSpan">(eventName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.events.setDefaultListener">module easyrtc.events.setDefaultListener</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.setDefaultListener.setDefaultListener">
            function <span class="apidocSignatureSpan">easyrtc.events.</span>setDefaultListener
            <span class="apidocSignatureSpan">(eventName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.events.setDefaultListeners">module easyrtc.events.setDefaultListeners</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.events.setDefaultListeners.setDefaultListeners">
            function <span class="apidocSignatureSpan">easyrtc.events.</span>setDefaultListeners
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.general_util">module easyrtc.general_util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.general_util.AbstractError">
            function <span class="apidocSignatureSpan">easyrtc.general_util.</span>AbstractError
            <span class="apidocSignatureSpan">(msg, constr)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.general_util.checkModules">
            function <span class="apidocSignatureSpan">easyrtc.general_util.</span>checkModules
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.general_util.deepCopy">
            function <span class="apidocSignatureSpan">easyrtc.general_util.</span>deepCopy
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.general_util.getPackageData">
            function <span class="apidocSignatureSpan">easyrtc.general_util.</span>getPackageData
            <span class="apidocSignatureSpan">(fieldName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.general_util.randomString">
            function <span class="apidocSignatureSpan">easyrtc.general_util.</span>randomString
            <span class="apidocSignatureSpan">(stringLength, chars)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.getDefaultOptions">module easyrtc.getDefaultOptions</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.getDefaultOptions.getDefaultOptions">
            function <span class="apidocSignatureSpan">easyrtc.</span>getDefaultOptions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.listen">module easyrtc.listen</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.listen.listen">
            function <span class="apidocSignatureSpan">easyrtc.</span>listen
            <span class="apidocSignatureSpan">(httpApp, socketServer, options, listenCallback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.on">module easyrtc.on</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.on.on">
            function <span class="apidocSignatureSpan">easyrtc.</span>on
            <span class="apidocSignatureSpan">(event, listener)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.removeAllListeners">module easyrtc.removeAllListeners</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.removeAllListeners.removeAllListeners">
            function <span class="apidocSignatureSpan">easyrtc.</span>removeAllListeners
            <span class="apidocSignatureSpan">(event)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.setOption">module easyrtc.setOption</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.setOption.setOption">
            function <span class="apidocSignatureSpan">easyrtc.</span>setOption
            <span class="apidocSignatureSpan">(optionName, optionValue)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util">module easyrtc.util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ApplicationError">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>ApplicationError
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ApplicationWarning">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>ApplicationWarning
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ConnectionError">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>ConnectionError
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ConnectionWarning">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>ConnectionWarning
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ServerError">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>ServerError
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ServerWarning">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>ServerWarning
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.deepCopy">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>deepCopy
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.getAvailableEasyrtcid">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>getAvailableEasyrtcid
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.getErrorMsg">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>getErrorMsg
            <span class="apidocSignatureSpan">(errorCode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.getErrorText">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>getErrorText
            <span class="apidocSignatureSpan">(errorCode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.isError">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>isError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.isValidIncomingMessage">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>isValidIncomingMessage
            <span class="apidocSignatureSpan">(type, msg, appObj, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.isWarning">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>isWarning
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.log">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>log
            <span class="apidocSignatureSpan">(level, logText, logFields)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.logDebug">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>logDebug
            <span class="apidocSignatureSpan">(logText, logFields)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.logError">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>logError
            <span class="apidocSignatureSpan">(logText, logFields)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.logInfo">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>logInfo
            <span class="apidocSignatureSpan">(logText, logFields)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.logWarning">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>logWarning
            <span class="apidocSignatureSpan">(logText, logFields)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.nextToNowhere">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>nextToNowhere
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.sendSessionCookie">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>sendSessionCookie
            <span class="apidocSignatureSpan">(req, res)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.sendSocketCallbackAck">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>sendSocketCallbackAck
            <span class="apidocSignatureSpan">(easyrtcid, socketCallback, appObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.sendSocketCallbackMsg">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>sendSocketCallbackMsg
            <span class="apidocSignatureSpan">(easyrtcid, socketCallback, msg, appObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.updateCheck">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>updateCheck
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.ApplicationError">module easyrtc.util.ApplicationError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ApplicationError.ApplicationError">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>ApplicationError
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ApplicationError.super_">
            function <span class="apidocSignatureSpan">easyrtc.util.ApplicationError.</span>super_
            <span class="apidocSignatureSpan">(msg, constr)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.ApplicationWarning">module easyrtc.util.ApplicationWarning</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ApplicationWarning.ApplicationWarning">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>ApplicationWarning
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ApplicationWarning.super_">
            function <span class="apidocSignatureSpan">easyrtc.util.ApplicationWarning.</span>super_
            <span class="apidocSignatureSpan">(msg, constr)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.ConnectionError">module easyrtc.util.ConnectionError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ConnectionError.ConnectionError">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>ConnectionError
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ConnectionError.super_">
            function <span class="apidocSignatureSpan">easyrtc.util.ConnectionError.</span>super_
            <span class="apidocSignatureSpan">(msg, constr)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.ConnectionWarning">module easyrtc.util.ConnectionWarning</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ConnectionWarning.ConnectionWarning">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>ConnectionWarning
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ConnectionWarning.super_">
            function <span class="apidocSignatureSpan">easyrtc.util.ConnectionWarning.</span>super_
            <span class="apidocSignatureSpan">(msg, constr)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.ServerError">module easyrtc.util.ServerError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ServerError.ServerError">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>ServerError
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ServerError.super_">
            function <span class="apidocSignatureSpan">easyrtc.util.ServerError.</span>super_
            <span class="apidocSignatureSpan">(msg, constr)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.ServerWarning">module easyrtc.util.ServerWarning</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ServerWarning.ServerWarning">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>ServerWarning
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.ServerWarning.super_">
            function <span class="apidocSignatureSpan">easyrtc.util.ServerWarning.</span>super_
            <span class="apidocSignatureSpan">(msg, constr)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.deepCopy">module easyrtc.util.deepCopy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.deepCopy.deepCopy">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>deepCopy
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.getAvailableEasyrtcid">module easyrtc.util.getAvailableEasyrtcid</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.getAvailableEasyrtcid.getAvailableEasyrtcid">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>getAvailableEasyrtcid
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.getErrorMsg">module easyrtc.util.getErrorMsg</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.getErrorMsg.getErrorMsg">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>getErrorMsg
            <span class="apidocSignatureSpan">(errorCode)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.getErrorText">module easyrtc.util.getErrorText</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.getErrorText.getErrorText">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>getErrorText
            <span class="apidocSignatureSpan">(errorCode)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.isError">module easyrtc.util.isError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.isError.isError">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>isError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.isValidIncomingMessage">module easyrtc.util.isValidIncomingMessage</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.isValidIncomingMessage.isValidIncomingMessage">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>isValidIncomingMessage
            <span class="apidocSignatureSpan">(type, msg, appObj, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.isWarning">module easyrtc.util.isWarning</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.isWarning.isWarning">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>isWarning
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.log">module easyrtc.util.log</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.log.log">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>log
            <span class="apidocSignatureSpan">(level, logText, logFields)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.logDebug">module easyrtc.util.logDebug</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.logDebug.logDebug">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>logDebug
            <span class="apidocSignatureSpan">(logText, logFields)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.logError">module easyrtc.util.logError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.logError.logError">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>logError
            <span class="apidocSignatureSpan">(logText, logFields)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.logInfo">module easyrtc.util.logInfo</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.logInfo.logInfo">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>logInfo
            <span class="apidocSignatureSpan">(logText, logFields)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.logWarning">module easyrtc.util.logWarning</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.logWarning.logWarning">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>logWarning
            <span class="apidocSignatureSpan">(logText, logFields)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.nextToNowhere">module easyrtc.util.nextToNowhere</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.nextToNowhere.nextToNowhere">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>nextToNowhere
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.sendSessionCookie">module easyrtc.util.sendSessionCookie</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.sendSessionCookie.sendSessionCookie">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>sendSessionCookie
            <span class="apidocSignatureSpan">(req, res)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.sendSocketCallbackAck">module easyrtc.util.sendSocketCallbackAck</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.sendSocketCallbackAck.sendSocketCallbackAck">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>sendSocketCallbackAck
            <span class="apidocSignatureSpan">(easyrtcid, socketCallback, appObj)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.sendSocketCallbackMsg">module easyrtc.util.sendSocketCallbackMsg</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.sendSocketCallbackMsg.sendSocketCallbackMsg">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>sendSocketCallbackMsg
            <span class="apidocSignatureSpan">(easyrtcid, socketCallback, msg, appObj)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.easyrtc.util.updateCheck">module easyrtc.util.updateCheck</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.easyrtc.util.updateCheck.updateCheck">
            function <span class="apidocSignatureSpan">easyrtc.util.</span>updateCheck
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc" id="apidoc.module.easyrtc">module easyrtc</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.dontAddCloseButtons" id="apidoc.element.easyrtc.dontAddCloseButtons">
        function <span class="apidocSignatureSpan">easyrtc.</span>dontAddCloseButtons
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dontAddCloseButtons = function () {
    autoAddCloseButtons = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyApp" id="apidoc.element.easyrtc.easyApp">
        function <span class="apidocSignatureSpan">easyrtc.</span>easyApp
        <span class="apidocSignatureSpan">(applicationName, monitorVideoId, videoIds, onReady, onFailure)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">easyApp = function (applicationName, monitorVideoId, videoIds, onReady, onFailure) {

    var gotMediaCallback = null,
        gotConnectionCallback = null;

    easyAppBody(monitorVideoId, videoIds);

    easyrtc.setGotMedia = function(gotMediaCB) {
        gotMediaCallback = gotMediaCB;
    };

    //
    // try to restablish broken connections that weren't caused by a hangup
    //
    easyrtc.setPeerClosedListener( function(easyrtcid) {
       setTimeout( function() {
           if( easyrtc.getSlotOfCaller(easyrtcid)  &gt;= 0 &amp;&amp; easyrtc.isPeerInAnyRoom(easyrtcid)) {
                easyrtc.call(easyrtcid, function(){}, function() {}, function(){});
           }
       }, 1000);
    });

<span class="apidocCodeCommentSpan">    /** Sets an event handler that gets called when a connection to the signaling
     * server has or has not been made. Can only be called after calling easyrtc.easyApp.
     * @function
     * @memberOf Easyrtc_App
     * @param {Function} gotConnectionCB has the signature (gotConnection, errorText)
     * @example
     *    easyrtc.setGotConnection( function(gotConnection, errorText){
     *        if( gotConnection ){
     *            console.log("Successfully connected to signaling server");
     *        }
     *        else{
     *            console.log("Failed to connect to signaling server because: " + errorText);
     *        }
     *    });
     */
</span>    easyrtc.setGotConnection = function(gotConnectionCB) {
        gotConnectionCallback = gotConnectionCB;
    };

    function nextInitializationStep(/* token */) {
        if (gotConnectionCallback) {
            gotConnectionCallback(true, "");
        }
        onReady(easyrtc.myEasyrtcid);
    }

    function postGetUserMedia() {
        if (gotMediaCallback) {
            gotMediaCallback(true, null);
        }
        if (monitorVideoId !== null) {
            easyrtc.setVideoObjectSrc(document.getElementById(monitorVideoId), easyrtc.getLocalStream());
        }
        function connectError(errorCode, errorText) {
            if (gotConnectionCallback) {
                gotConnectionCallback(false, errorText);
            }
            else if (onFailure) {
                onFailure(easyrtc.errCodes.CONNECT_ERR, errorText);
            }
            else {
                easyrtc.showError(easyrtc.errCodes.CONNECT_ERR, errorText);
            }
        }

        easyrtc.connect(applicationName, nextInitializationStep, connectError);
    }

    var stream = easyrtc.getLocalStream(null);
    if (stream) {
        postGetUserMedia();
    }
    else {
        easyrtc.initMediaSource(
                postGetUserMedia,
                function(errorCode, errorText) {
                    if (gotMediaCallback) {
                        gotMediaCallback(false, errorText);
                    }
                    else if (onFailure) {
                        onFailure(easyrtc.errCodes.MEDIA_ERR, errorText);
                    }
                    else {
                        easyrtc.showError(easyrtc.errCodes.MEDIA_ERR, errorText);
                    }
                },
                null // default stream
            );
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.emit" id="apidoc.element.easyrtc.events.emit">
        function <span class="apidocSignatureSpan">easyrtc.</span>events.emit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">events.emit = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message: ["+JSON.stringify(msg)+"]");
    }
    catch(err) {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
    }
}

pub.<span class="apidocCodeKeywordSpan">events.emit</span>("easyrtcAuth", socket, easyrtcid, msg, socketCallback, function
(err, newConnectionObj){
    if(err){
        pub.util.logError("["+easyrtcid+"] Unhandled easyrtcCmd listener error.", err);
        return;
    }

    connectionObj = newConnectionObj;
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.emitDefault" id="apidoc.element.easyrtc.events.emitDefault">
        function <span class="apidocSignatureSpan">easyrtc.</span>events.emitDefault
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">events.emitDefault = function () {
    if (!pub.events.defaultListeners[arguments['0']]) {
        console.error("Error emitting listener. No default for event '" + arguments['0'] + "' exists.");
        return;
    }
    pub.events.defaultListeners[Array.prototype.shift.call(arguments)].apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.on" id="apidoc.element.easyrtc.events.on">
        function <span class="apidocSignatureSpan">easyrtc.</span>events.on
        <span class="apidocSignatureSpan">(eventName, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">events.on = function (eventName, listener) {
    if (eventName &amp;&amp; _.isFunction(listener)) {
        pub.events._eventListener.removeAllListeners(eventName);
        pub.events._eventListener.on(eventName, listener);
    }
    else {
        pub.util.logError("Unable to add listener to event '" + eventName + "'");
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.removeAllListeners" id="apidoc.element.easyrtc.events.removeAllListeners">
        function <span class="apidocSignatureSpan">easyrtc.</span>events.removeAllListeners
        <span class="apidocSignatureSpan">(eventName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">events.removeAllListeners = function (eventName) {
    if (eventName) {
        pub.events.setDefaultListener(eventName);
    } else {
        pub.events.setDefaultListeners();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.setDefaultListener" id="apidoc.element.easyrtc.events.setDefaultListener">
        function <span class="apidocSignatureSpan">easyrtc.</span>events.setDefaultListener
        <span class="apidocSignatureSpan">(eventName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">events.setDefaultListener = function (eventName) {
    if (!_.isFunction(pub.events.defaultListeners[eventName])) {
        console.error("Error setting default listener. No default for event '" + eventName + "' exists.");
    }
    pub.events._eventListener.removeAllListeners(eventName);
    pub.events._eventListener.on(eventName, pub.events.defaultListeners[eventName]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Removes all listeners for an event. If there is a default EasyRTC listener, it will be added. If eventName is `null`, all events
 will be removed than the defaults will be restored.
 *
 * @param       {?string} eventName     Listener name. If `null`, then all events will be removed.
 */
pub.events.removeAllListeners = function(eventName) {
    if (eventName) {
        pub.<span class="apidocCodeKeywordSpan">events.setDefaultListener</span>(eventName);
    } else {
        pub.events.setDefaultListeners();
    }
};


/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.setDefaultListeners" id="apidoc.element.easyrtc.events.setDefaultListeners">
        function <span class="apidocSignatureSpan">easyrtc.</span>events.setDefaultListeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">events.setDefaultListeners = function () {
    pub.events._eventListener.removeAllListeners();
    for (var currentEventName in pub.events.defaultListeners) {
        if (_.isFunction(pub.events.defaultListeners[currentEventName])) {
            pub.events._eventListener.on(currentEventName, pub.events.defaultListeners[currentEventName]);
        } else {
            throw new pub.util.ServerError("Error setting default listener. No default for event '" + currentEventName + "' exists
.");
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @param       {?string} eventName     Listener name. If `null`, then all events will be removed.
*/
pub.events.removeAllListeners = function(eventName) {
   if (eventName) {
       pub.events.setDefaultListener(eventName);
   } else {
       pub.<span class="apidocCodeKeywordSpan">events.setDefaultListeners</span>();
   }
};


/**
* General utility functions are grouped in this util object.  For convenience, this class has also been attached to the application
, connection, session, and room classes.
* @class
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.getDefaultOptions" id="apidoc.element.easyrtc.getDefaultOptions">
        function <span class="apidocSignatureSpan">easyrtc.</span>getDefaultOptions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDefaultOptions = function () {
    var defaultOptions = require("./easyrtc_default_options");
    return g.deepCopy(defaultOptions);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.listen" id="apidoc.element.easyrtc.listen">
        function <span class="apidocSignatureSpan">easyrtc.</span>listen
        <span class="apidocSignatureSpan">(httpApp, socketServer, options, listenCallback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listen = function (httpApp, socketServer, options, listenCallback) {
    pub.util.logInfo("Starting EasyRTC Server (v" + pub.getVersion() +") on Node (" + process.version + ")");

    // Set server object references in public object
    pub.httpApp         = httpApp;
    pub.socketServer    = socketServer;

    if (options){
        pub.util.logDebug("Overriding options", options);

        for (var optionName in options) {
            pub.setOption(optionName, options[optionName]);
        }
    }

    pub.util.logDebug("Emitting event 'startup'");
    pub.events.emit("startup", function(err) {
        if (err) {
            pub.util.logError("Error occurred upon startup", err);
            if(_.isFunction(listenCallback)) {
                listenCallback(err, null);
            }
        }
        else {
            pub.util.logInfo("EasyRTC Server Ready For Connections (v"+ pub.getVersion() + ")");
            if(_.isFunction(listenCallback)) {
                listenCallback(err, pub);
            }
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.on" id="apidoc.element.easyrtc.on">
        function <span class="apidocSignatureSpan">easyrtc.</span>on
        <span class="apidocSignatureSpan">(event, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (event, listener) {
    if (event &amp;&amp; _.isFunction(listener)) {
        pub.events.removeAllListeners(event);
        pub.events.on(event, listener);
    }
    else {
        pub.util.logError("Unable to add listener to event '" + event + "'");
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param       {String} easyrtcid      Unique identifier for an EasyRTC connection.
 * @param       {nextCallback} next     A success callback of form next(err).
 */
eventListener.onConnection = function(socket, easyrtcid, next){
    var connectionObj = {};             // prepare variables to house the connection object

    // Initially upon a connection, we are only concerned with receiving an easyrtcAuth message
    socket.<span class="apidocCodeKeywordSpan">on</span>("easyrtcAuth", function(msg, socketCallback) {

if (pub.getOption("logMessagesEnable")) {
    try {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message: ["+JSON.stringify(msg)+"]");
    }
    catch(err) {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.removeAllListeners" id="apidoc.element.easyrtc.removeAllListeners">
        function <span class="apidocSignatureSpan">easyrtc.</span>removeAllListeners
        <span class="apidocSignatureSpan">(event)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (event) {
    if (event) {
        pub.events.removeAllListeners(event);
        pub.events.setDefaultListener(event);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }catch(e){}
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with invalid message format [" + msgErrorCode
 + "]. Disconnecting socket.", msg);
    callback(new pub.util.ConnectionError("["+easyrtcid+"] EasyRTC Auth message received with invalid message format
 [" + msgErrorCode + "]. Disconnecting socket."));
    return;
}

// Remove any old listeners
socket.<span class="apidocCodeKeywordSpan">removeAllListeners</span>("easyrtcCmd");
socket.removeAllListeners("easyrtcMsg");
socket.removeAllListeners("disconnect"); // TODO: Come up with alternative to removing all disconnect listeners

pub.util.logDebug("Emitting Authenticate");

var username    = (msg.msgData.username     ? msg.msgData.username  : null);
var credential  = (msg.msgData.credential   ? msg.msgData.credential: null);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.setOption" id="apidoc.element.easyrtc.setOption">
        function <span class="apidocSignatureSpan">easyrtc.</span>setOption
        <span class="apidocSignatureSpan">(optionName, optionValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setOption = function (optionName, optionValue) {
    // Can only set options which currently exist
    if (typeof e.option[optionName] == "undefined") {
        pub.util.logError("Error setting option. Unrecognised option name '" + optionName + "'.");
        return false;
    }

    e.option[optionName] = pub.util.deepCopy(optionValue);
    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (err) {
    callback(err);
    return;
}

// Set all options in options object. If any fail, an error will be sent to the callback.
async.each(Object.keys(options), function(currentOptionName, asyncCallback) {
    appObj.<span class="apidocCodeKeywordSpan">setOption</span>(currentOptionName, options[currentOptionName]);
    asyncCallback(null);
},
        function(err) {
            if (err) {
                callback(new pub.util.ApplicationError("Could not set options when creating application: '" + appName
 + "'", err));
                return;
            }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ApplicationError" id="apidoc.element.easyrtc.util.ApplicationError">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.ApplicationError
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.ApplicationError = function (msg) {
    eu.ApplicationError.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Set all options in options object. If any fail, an error will be sent to the callback.
async.each(Object.keys(options), function(currentOptionName, asyncCallback) {
    appObj.setOption(currentOptionName, options[currentOptionName]);
    asyncCallback(null);
},
        function(err) {
            if (err) {
                callback(new pub.<span class="apidocCodeKeywordSpan">util.ApplicationError</span>("Could not set options when
 creating application: '" + appName + "'", err));
                return;
            }
            // Set default application fields
            var appDefaultFieldObj = appObj.getOption("appDefaultFieldObj");
            if (_.isObject(appDefaultFieldObj)) {
                for (var currentFieldName in appDefaultFieldObj) {
                    appObj.setField(
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ApplicationWarning" id="apidoc.element.easyrtc.util.ApplicationWarning">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.ApplicationWarning
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.ApplicationWarning = function (msg) {
    eu.ApplicationWarning.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
pub.createApp = function(appName, options, callback) {
if (!_.isFunction(callback)) {
    callback = function(err, appObj) {
    };
}
if (!appName || !pub.getOption("appNameRegExp").test(appName)) {
    pub.util.logWarning("Can not create application with improper name: '" + appName + "'");
    callback(new pub.<span class="apidocCodeKeywordSpan">util.ApplicationWarning</span>("Can not create application with improper
 name: '" + appName + "'"));
    return;
}
if (e.app[appName]) {
    pub.util.logWarning("Can not create application which already exists: '" + appName + "'");
    callback(new pub.util.ApplicationWarning("Can not create application which already exists: '" + appName + "
;'"));
    return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ConnectionError" id="apidoc.element.easyrtc.util.ConnectionError">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.ConnectionError
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.ConnectionError = function (msg) {
    eu.ConnectionError.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// If message structure is invalid, send error, disconnect socket, and write to log
if (!isMsgValid) {
    try{
        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
        socket.disconnect();
    }catch(e){}
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with invalid message format [" + msgErrorCode
 + "]. Disconnecting socket.", msg);
    callback(new pub.<span class="apidocCodeKeywordSpan">util.ConnectionError</span>("["+easyrtcid+"] EasyRTC Auth
 message received with invalid message format [" + msgErrorCode + "]. Disconnecting socket."));
    return;
}

// Remove any old listeners
socket.removeAllListeners("easyrtcCmd");
socket.removeAllListeners("easyrtcMsg");
socket.removeAllListeners("disconnect"); // TODO: Come up with alternative to removing all disconnect listeners
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ConnectionWarning" id="apidoc.element.easyrtc.util.ConnectionWarning">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.ConnectionWarning
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.ConnectionWarning = function (msg) {
    eu.ConnectionWarning.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   for (var key in e.app) {
       if (e.app[key].connection[easyrtcid] &amp;&amp; e.app[key].connection[easyrtcid].isAuthenticated) {
           pub.app(key, callback);
           return;
       }
   }
   pub.util.logWarning("Can not find connection [" + easyrtcid + "]");
   callback(new pub.<span class="apidocCodeKeywordSpan">util.ConnectionWarning</span>("Can not find connection [" + easyrtcid
 + "]"));
};


/**
* Sends the count of the number of connections to the server to a provided callback.
*
* @param       {function(?Error, Number)} callback Callback with error and array containing all easyrtcids.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ServerError" id="apidoc.element.easyrtc.util.ServerError">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.ServerError
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.ServerError = function (msg) {
    eu.ServerError.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*/
pub.events.setDefaultListeners = function() {
   pub.events._eventListener.removeAllListeners();
   for (var currentEventName in pub.events.defaultListeners) {
       if (_.isFunction(pub.events.defaultListeners[currentEventName])) {
           pub.events._eventListener.on(currentEventName, pub.events.defaultListeners[currentEventName]);
       } else {
           throw new pub.<span class="apidocCodeKeywordSpan">util.ServerError</span>("Error setting default listener. No default
 for event '" + currentEventName + "' exists.");
       }
   }
};


/**
* Map of EasyRTC event listener names to their default functions. This map can be used to run a default function manually.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ServerWarning" id="apidoc.element.easyrtc.util.ServerWarning">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.ServerWarning
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.ServerWarning = function (msg) {
    eu.ServerWarning.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.deepCopy" id="apidoc.element.easyrtc.util.deepCopy">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.deepCopy
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.deepCopy = function (input) {

    if (
        input === null || input === undefined ||
            typeof input !== "object" ||
                (input.constructor !== Object &amp;&amp; input.constructor !== Array)
    ) {
        return input;
    }

    if (
        input.constructor === Boolean ||
            input.constructor === Date ||
                input.constructor === Function ||
                    input.constructor === Number ||
                        input.constructor === RegExp ||
                            input.constructor === String
    ) {
        return new input.constructor(input);
    }

    var copy;
    if (input instanceof Array) {
        copy = [];
        for (var i = 0, len = input.length; i &lt; len; i++) {
            copy[i] = g.deepCopy(input[i]);
        }
        return copy;
    }

    if (input instanceof Object) {
        copy = {};
        for (var key in input) {
            if (input.hasOwnProperty(key)) {
                copy[key] = g.deepCopy(input[key]);
            }
        }
        return copy;
    }
    return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
pub.setOption = function(optionName, optionValue) {
   // Can only set options which currently exist
   if (typeof e.option[optionName] == "undefined") {
       pub.util.logError("Error setting option. Unrecognised option name '" + optionName + "'.");
       return false;
   }

   e.option[optionName] = pub.<span class="apidocCodeKeywordSpan">util.deepCopy</span>(optionValue);
   return true;
};


/**
* EasyRTC Event handling object which contain most methods for interacting with EasyRTC events. For convenience, this class has
also been attached to the application, connection, session, and room classes.
* @class
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.getAvailableEasyrtcid" id="apidoc.element.easyrtc.util.getAvailableEasyrtcid">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.getAvailableEasyrtcid
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.getAvailableEasyrtcid = function () {
    var newEasyrtcid = "";
    var easyrtcidExists = false;

    do {
        newEasyrtcid = g.randomString();
        easyrtcidExists = false;
        for (var key in e.app) {
            if (e.app[key].connection[newEasyrtcid]) {
                easyrtcidExists = true;
                break;
            }
        }
    } while (easyrtcidExists);

    return newEasyrtcid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            callback(null);
        },

        function(callback) {
            pub.util.logDebug("Configuring Socket server");

            pub.socketServer.sockets.on("connection", function (socket) {
var easyrtcid = pub.<span class="apidocCodeKeywordSpan">util.getAvailableEasyrtcid</span>();

pub.util.logDebug("["+easyrtcid+"]["+socket.id+"] Socket connected");
pub.util.logDebug("Emitting event 'connection'");
pub.events.emit("connection", socket, easyrtcid, function(err){
    if(err){
        socket.disconnect();
        pub.util.logError("["+easyrtcid+"] Connect error", err);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.getErrorMsg" id="apidoc.element.easyrtc.util.getErrorMsg">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.getErrorMsg
        <span class="apidocSignatureSpan">(errorCode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.getErrorMsg = function (errorCode) {
    var msg = {
        msgType: "error",
        serverTime: Date.now(),
        msgData: {
            errorCode: errorCode,
            errorText: pub.util.getErrorText(errorCode)
        }
    };

    if (!msg.msgData.errorText) {
        msg.msgData.errorText = "Error occurred with error code: " + errorCode;
        pub.util.logWarning("Emitted unknown error with error code [" + errorCode + "]");
    }

    return msg;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    try{socket.disconnect();}catch(e){}
    return;
}

// Only accept authenticate message
if(!_.isObject(msg) || !_.isString(msg.msgType) || msg.msgType != "authenticate") {
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received without msgType of 'authenticate'
;. Disconnecting socket.", msg);
    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.<span class="apidocCodeKeywordSpan">util.getErrorMsg</span>(&amp;#
x22;LOGIN_BAD_AUTH"), appObj);
    try{socket.disconnect();}catch(e){}
    return;
}

// Check msg structure.
if(!_.isObject(msg.msgData)
    || !_.isString(msg.msgData.apiVersion)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.getErrorText" id="apidoc.element.easyrtc.util.getErrorText">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.getErrorText
        <span class="apidocSignatureSpan">(errorCode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.getErrorText = function (errorCode) {
    switch (errorCode) {
        case "BANNED_IP_ADDR":
            return "Client IP address is banned. Socket will be disconnected.";
            break;
        case "LOGIN_APP_AUTH_FAIL":
            return "Authentication for application failed. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_APP_NAME":
            return "Provided application name is improper. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_AUTH":
            return "Authentication for application failed. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_ROOM":
            return "Requested room is invalid or does not exist. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_STRUCTURE":
            return "Authentication for application failed. The provided structure is improper. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_USER_CFG":
            return "Provided configuration options improper or invalid. Socket will be disconnected.";
            break;
        case "LOGIN_GEN_FAIL":
            return "Authentication failed. Socket will be disconnected.";
            break;
        case "LOGIN_NO_SOCKETS":
            return "No sockets available for account. Socket will be disconnected.";
            break;
        case "LOGIN_TIMEOUT":
            return "Login has timed out. Socket will be disconnected.";
            break;
        case "MSG_REJECT_BAD_DATA":
            return "Message rejected. The provided msgData is improper.";
            break;
        case "MSG_REJECT_BAD_ROOM":
            return "Message rejected. Requested room is invalid or does not exist.";
            break;
        case "MSG_REJECT_BAD_FIELD":
            return "Message rejected. Problem with field structure or name.";
            break;
        case "MSG_REJECT_BAD_SIZE":
            return "Message rejected. Packet size is too large.";
            break;
        case "MSG_REJECT_BAD_STRUCTURE":
            return "Message rejected. The provided structure is improper.";
            break;
        case "MSG_REJECT_BAD_TYPE":
            return "Message rejected. The provided msgType is unsupported.";
            break;
        case "MSG_REJECT_GEN_FAIL":
            return "Message rejected. General failure occurred.";
            break;
        case "MSG_REJECT_NO_AUTH":
            return "Message rejected. Not logged in or client not authorized.";
            break;
        case "MSG_REJECT_NO_ROOM_LIST":
            return "Message rejected. Room list unavailable.";
            break;
        case "MSG_REJECT_PRESENCE":
            return "Message rejected. Presence could could not be set.";
            break;
        case "MSG_REJECT_TARGET_EASYRTCID":
            return "Message rejected. Target easyrtcid is invalid, not using same application, or no longer online.";
            break;
        case "MSG_REJECT_TARGET_GROUP":
            return "Message rejected. Target group is invalid or not defined.";
            break;
        case "MSG_REJECT_TARGET_ROOM":
            return "Message rejected. Target room is invalid or not created.";
            break;
        case "SERVER_SHUTDOWN":
            return "Server is being shutdown. Socket will be disconnected.";
            break;
        default:
            pub.util.logWarning("Unknown message errorCode requested [" + errorCode + "]");
            return null;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
pub.util.getErrorMsg = function(errorCode) {
var msg = {
    msgType: "error",
    serverTime: Date.now(),
    msgData: {
        errorCode: errorCode,
        errorText: pub.<span class="apidocCodeKeywordSpan">util.getErrorText</span>(errorCode)
    }
};

if (!msg.msgData.errorText) {
    msg.msgData.errorText = "Error occurred with error code: " + errorCode;
    pub.util.logWarning("Emitted unknown error with error code [" + errorCode + "]");
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.isError" id="apidoc.element.easyrtc.util.isError">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.isError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.isError = function (err) {
    if (err &amp;&amp; ((err instanceof eu.ConnectionError)||(err instanceof eu.ApplicationError)||(err instanceof eu.ServerError)||(err
 instanceof Error))) {
        return true;
    } else {
        return false;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        consoleText += currentDate.toISOString() + " - ";
    }
    consoleText += level;
    consoleText += " - " + "EasyRTC: " + logText;
}

if (logFields != undefined &amp;&amp; logFields != null) {
    if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.<span class="apidocCodeKeywordSpan">util.isError</span>(
logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.util.isWarning(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else {
        console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth
:pub.getOption("logObjectDepth")}));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.isValidIncomingMessage" id="apidoc.element.easyrtc.util.isValidIncomingMessage">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.isValidIncomingMessage
        <span class="apidocSignatureSpan">(type, msg, appObj, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.isValidIncomingMessage = function (type, msg, appObj, callback) {
    // A generic getOption variable which points to the getOption function at either the top or application level
    var getOption = (_.isObject(appObj) ? appObj.getOption : pub.getOption);

    // All messages follow the basic structure
    if (!_.isString(type)) {
        callback(null, false, "MSG_REJECT_BAD_TYPE");
        return;
    }
    if (!_.isObject(msg)) {
        callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
        return;
    }
    if (!_.isString(msg.msgType)) {
        callback(null, false, "MSG_REJECT_BAD_TYPE");
        return;
    }

    switch (type) {
        case "easyrtcAuth":
            if (msg.msgType != "authenticate") {
                callback(null, false, "MSG_REJECT_BAD_TYPE");
                return;
            }
            if (!_.isObject(msg.msgData)) {
                callback(null, false, "MSG_REJECT_BAD_DATA");
                return;
            }

            // msgData.apiVersion (required)
            if (msg.msgData.apiVersion === undefined || !_.isString(msg.msgData.apiVersion) || !getOption("apiVersionRegExp").test
(msg.msgData.apiVersion)) {
                callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                return;
            }

            // msgData.appName
            if (msg.msgData.applicationName !== undefined &amp;&amp; (!_.isString(msg.msgData.applicationName) || !getOption("appNameRegExp
").test(msg.msgData.applicationName))) {
                callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                return;
            }

            // msgData.easyrtcsid
            if (msg.msgData.easyrtcsid !== undefined &amp;&amp; (!_.isString(msg.msgData.easyrtcsid) || !getOption("easyrtcsidRegExp").test
(msg.msgData.easyrtcsid))) {
                callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                return;
            }

            var isCallbackRun = false;
            async.waterfall([
                function(asyncCallback) {
                    if (!appObj) {
                        pub.app((msg.msgData.applicationName !== undefined ? msg.msgData.applicationName : getOption("appDefaultName
")), function(err, newAppObj) {
                            if (!err) {
                                appObj = newAppObj;
                                getOption = appObj.getOption;
                            }
                            asyncCallback(null);
                        });
                    }
                    else {
                        asyncCallback(null);
                    }
                },
                function(asyncCallback) {
                    // msgData.username
                    if (msg.msgData.username !== undefined &amp;&amp; (!_.isString(msg.msgData.username) || !getOption("usernameRegExp").
test(msg.msgData.username))) {
                        callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                        isCallbackRun = true;
                        return;
                    }

                    // msgData.credential
                    if (msg.msgData.credential !== undefined &amp;&amp; (!_.isObject(msg.msgData.credential) || _.isEmpty(msg.msgData.credential
))) {
                        callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                        isCallbackRun = true;
                        return;
                    }

                    // msgData.roomJoin
                    if (msg.msgData.roomJoin !== undefined) {
                        if (!_.isObject(msg.msgData.roomJoin)) {
                            callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                            isCallbackRun = true;
                            return;
                        }

                        for (var currentRoomName in msg.msgData.roomJoin) {
                            if (!getOption("roomNameRegExp").test(currentRoomName) || !_.isObject(msg.msgData.roomJoin[currentRoomName
]) || !_.isString(msg.msgData.roomJoin[currentRoomName].roomName) || currentRoomName != ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
try{socket.disconnect();}catch(e){}
return;
    }

    async.waterfall([
function(asyncCallback) {
    // Check message structure
    pub.<span class="apidocCodeKeywordSpan">util.isValidIncomingMessage</span>("easyrtcAuth", msg, null, asyncCallback
);
},

function(isMsgValid, msgErrorCode, asyncCallback) {
    // If message structure is invalid, send error, disconnect socket, and write to log
    if (!isMsgValid) {
        try{
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.isWarning" id="apidoc.element.easyrtc.util.isWarning">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.isWarning
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.isWarning = function (err) {
    if (err &amp;&amp; ((err instanceof eu.ConnectionWarning)||(err instanceof eu.ApplicationWarning)||(err instanceof eu.ServerWarning))) {
        return true;
    } else {
        return false;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    consoleText += " - " + "EasyRTC: " + logText;
}

if (logFields != undefined &amp;&amp; logFields != null) {
    if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.util.isError(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.<span class="apidocCodeKeywordSpan">util.isWarning
</span>(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else {
        console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth
:pub.getOption("logObjectDepth")}));
    }
} else {
    console.log(consoleText);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.log" id="apidoc.element.easyrtc.util.log">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.log
        <span class="apidocSignatureSpan">(level, logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.log = function (level, logText, logFields) {
    switch (e.option.logLevel) {
        case "error":
            if (level != "error") {
                break;
            }

        case "warning":
            if (level == "info") {
                break;
            }

        case "info":
            if (level == "debug") {
                break;
            }

        case "debug":
            pub.events.emit("log", level, logText, logFields);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
* Convenience function for logging "debug" level items.
*
* @param       {string} logText        Text for log.
* @param       {?*} [logFields]        Simple JSON object which contains extra fields to be logged.
*/
pub.util.logDebug = function(logText, logFields) {
   pub.<span class="apidocCodeKeywordSpan">util.log</span>("debug", logText, logFields);
};


/**
* Convenience function for logging "info" level items.
*
* @param       {string} logText        Text for log.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.logDebug" id="apidoc.element.easyrtc.util.logDebug">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.logDebug
        <span class="apidocSignatureSpan">(logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.logDebug = function (logText, logFields) {
    pub.util.log("debug", logText, logFields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var connectionObj = {};             // prepare variables to house the connection object

    // Initially upon a connection, we are only concerned with receiving an easyrtcAuth message
    socket.on("easyrtcAuth", function(msg, socketCallback) {

if (pub.getOption("logMessagesEnable")) {
    try {
        pub.<span class="apidocCodeKeywordSpan">util.logDebug</span>("["+easyrtcid+"] Incoming socket.io message: [&amp;#
x22;+JSON.stringify(msg)+"]");
    }
    catch(err) {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
    }
}

pub.events.emit("easyrtcAuth", socket, easyrtcid, msg, socketCallback, function(err, newConnectionObj){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.logError" id="apidoc.element.easyrtc.util.logError">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.logError
        <span class="apidocSignatureSpan">(logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.logError = function (logText, logFields) {
    pub.util.log("error", logText, logFields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        catch(err) {
            pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
        }
    }

    pub.events.emit("easyrtcAuth", socket, easyrtcid, msg, socketCallback, function(err, newConnectionObj){
        if(err){
            pub.<span class="apidocCodeKeywordSpan">util.logError</span>("["+easyrtcid+"] Unhandled easyrtcCmd listener
 error.", err);
            return;
        }

        connectionObj = newConnectionObj;
    });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.logInfo" id="apidoc.element.easyrtc.util.logInfo">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.logInfo
        <span class="apidocSignatureSpan">(logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.logInfo = function (logText, logFields) {
    pub.util.log("info", logText, logFields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    // Authenticate is responsible for authenticating the connection
    pub.events.emit("authenticate", socket, easyrtcid, newAppName, username, credential, msg, function(err){
        if (err) {
            try{
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("LOGIN_BAD_AUTH"), appObj
);
                socket.disconnect();
                pub.<span class="apidocCodeKeywordSpan">util.logInfo</span>("["+newAppName+"]["+easyrtcid+&amp;#
x22;] Authentication denied. Socket disconnected.", err);
            }catch(e){}
        } else {
            asyncCallback(null);
        }
    });
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.logWarning" id="apidoc.element.easyrtc.util.logWarning">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.logWarning
        <span class="apidocSignatureSpan">(logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.logWarning = function (logText, logFields) {
    pub.util.log("warning", logText, logFields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

var appName;
var newAppName = (_.isObject(msg.msgData) &amp;&amp;_.isString(msg.msgData.applicationName)) ? msg.msgData.applicationName : pub
.getOption("appDefaultName");

// Ensure socketCallback is present
if(!_.isFunction(socketCallback)) {
    pub.<span class="apidocCodeKeywordSpan">util.logWarning</span>("["+easyrtcid+"] EasyRTC Auth message received
 with no callback. Disconnecting socket.", msg);
    try{socket.disconnect();}catch(e){}
    return;
}

// Only accept authenticate message
if(!_.isObject(msg) || !_.isString(msg.msgType) || msg.msgType != "authenticate") {
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received without msgType of 'authenticate'
;. Disconnecting socket.", msg);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.nextToNowhere" id="apidoc.element.easyrtc.util.nextToNowhere">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.nextToNowhere
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.nextToNowhere = function (err) {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.sendSessionCookie" id="apidoc.element.easyrtc.util.sendSessionCookie">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.sendSessionCookie
        <span class="apidocSignatureSpan">(req, res)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.sendSessionCookie = function (req, res) {
    // If sessions or session cookies are disabled, return without an error.
    if (!pub.getOption("sessionEnable") || !pub.getOption("sessionCookieEnable")) {
        return;
    }
    if (req.sessionID &amp;&amp; (!req.cookies || !req.cookies["easyrtcsid"] || req.cookies["easyrtcsid"] != req.sessionID)) {
        try {
            pub.util.logDebug("Sending easyrtcsid cookie [" + req.sessionID + "] to [" + req.ip + "] for request [" + req.url + "]");
            res.cookie("easyrtcsid", req.sessionID, {maxAge: 2592000000, httpOnly: false});
        } catch (e) {
            pub.util.logWarning("Problem setting easyrtcsid cookie [" + req.sessionID + "] to [" + req.ip + "] for request [" +
req.url + "]");
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // Forward people who forget the trailing slash to the folder.
    pub.httpApp.get(pub.getOption("demosPublicFolder"), function(req, res) {res.redirect(pub.getOption("demosPublicFolder
") + "/");});
}

if (pub.getOption("apiEnable")) {
    // Set the EasyRTC API files
    pub.util.logDebug("Setting up API files to be accessed from '" + pub.getOption("apiPublicFolder") + &amp;#
x22;/'");
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.js",                  function(req, res) {pub
.<span class="apidocCodeKeywordSpan">util.sendSessionCookie</span>(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc
.js",                   {root:__dirname + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc_ft.js",               function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc_ft.js",                {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.css",                 function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc.css",                  {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.min.js",              function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"open_source/api/easyrtc.min.js",   {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc_ft.min.js",           function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc_ft.min.js",            {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.min.css",             function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"open_source/api/easyrtc.min.css",  {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/img/*", function(req, res) {
        pub.util.sendSessionCookie(req, res);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.sendSocketCallbackAck" id="apidoc.element.easyrtc.util.sendSocketCallbackAck">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.sendSocketCallbackAck
        <span class="apidocSignatureSpan">(easyrtcid, socketCallback, appObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.sendSocketCallbackAck = function (easyrtcid, socketCallback, appObj) {
    return pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"ack"}, appObj);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            asyncCallback(null);
        },
        function(asyncCallback) {
            // The msgType controls how each message is handled
            switch(msg.msgType) {
case "setUserCfg":
    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] WebRTC setUserCfg
 command received. This feature is not yet complete.");
    pub.<span class="apidocCodeKeywordSpan">util.sendSocketCallbackAck</span>(easyrtcid, socketCallback, appObj);
    next(null);
    break;

case "setPresence":
    pub.events.emit("msgTypeSetPresence", connectionObj, msg.msgData.setPresence, socketCallback, next);
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.sendSocketCallbackMsg" id="apidoc.element.easyrtc.util.sendSocketCallbackMsg">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.sendSocketCallbackMsg
        <span class="apidocSignatureSpan">(easyrtcid, socketCallback, msg, appObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.sendSocketCallbackMsg = function (easyrtcid, socketCallback, msg, appObj) {
    var appName;

    if (appObj) {
        appName = appObj.getAppName();
        if (!appObj.isConnectedSync(easyrtcid)) {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Unable to return socket message. Peer no longer connected.");
            return false;
        }
    }

    if (!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+appName+"]["+easyrtcid+"] Unable to return socket message. Provided socketCallback was not a function
.");
        return false;
    }

    try {
        socketCallback(msg);
    } catch(err) {
        pub.util.logWarning("["+appName+"]["+easyrtcid+"] Unable to return socket message. Call to socketCallback failed.");
    }

    if (e.option.logMessagesEnable) {
        try {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Returning socket.io message: ["+JSON.stringify(msg)+"]");
        }
        catch(err) {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Returning socket.io message");
        }
    }
    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    try{socket.disconnect();}catch(e){}
    return;
}

// Only accept authenticate message
if(!_.isObject(msg) || !_.isString(msg.msgType) || msg.msgType != "authenticate") {
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received without msgType of 'authenticate'
;. Disconnecting socket.", msg);
    pub.<span class="apidocCodeKeywordSpan">util.sendSocketCallbackMsg</span>(easyrtcid, socketCallback, pub.util.getErrorMsg(&amp;#
x22;LOGIN_BAD_AUTH"), appObj);
    try{socket.disconnect();}catch(e){}
    return;
}

// Check msg structure.
if(!_.isObject(msg.msgData)
    || !_.isString(msg.msgData.apiVersion)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.updateCheck" id="apidoc.element.easyrtc.util.updateCheck">
        function <span class="apidocSignatureSpan">easyrtc.</span>util.updateCheck
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util.updateCheck = function () {
    var easyrtcVersion = pub.getVersion();

    require("http").get("http://easyrtc.com/version/?app=easyrtc&amp;ver=" + easyrtcVersion + "&amp;platform=" + process.platform + "&amp;nodever
=" + process.version, function(res) {
        if (res.statusCode == 200)
            res.on('data', function(latestVersion) {
                latestVersion = (latestVersion + "").replace(/[^0-9a-z.]/g, "");
                if (latestVersion != easyrtcVersion) {
                    var l = latestVersion.replace(/[^0-9.]/g, "").split(".", 3);
                    l[0] = parseInt(l[0]);
                    l[1] = parseInt(l[1]);
                    l[2] = parseInt(l[2]);
                    var v = easyrtcVersion.replace(/[^0-9.]/g, "").split(".", 3);
                    v[0] = parseInt(v[0]);
                    v[1] = parseInt(v[1]);
                    v[2] = parseInt(v[2]);
                    if (v[0] &lt; l[0] || (v[0] == l[0] &amp;&amp; v[1] &lt; l[1]) || (v[0] == l[0] &amp;&amp; v[1] == l[1] &amp;&amp; v[2] &lt; l[2]))
                        pub.util.logWarning("Update Check: New version of EasyRTC is available (" + latestVersion + "). Visit http
://easyrtc.com/ for details or run 'npm update' to upgrade.");
                    else if (v[0] == l[0] &amp;&amp; v[1] == l[1] &amp;&amp; v[2] == l[2] &amp;&amp; easyrtcVersion.replace(/[^a-z]/gi, "") != "")
                        pub.util.logWarning("Update Check: New non-beta version of EasyRTC is available (" + latestVersion + ").
Visit http://easyrtc.com/ for details.");
                }
            });
    }).on('error', function(e) {
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    function(callback) {
        pub.createApp(pub.getOption("appDefaultName"), null, callback);
    },

    function(appObj, callback) {
        // Checks to see if there is a newer version of EasyRTC available
        if (pub.getOption("updateCheckEnable")) {
            pub.<span class="apidocCodeKeywordSpan">util.updateCheck</span>();
        }
        callback(null);
    }
],
// This function is called upon completion of the async waterfall, or upon an error being thrown.
function (err) {
    next(err);
...</pre></li>
    </ul>
















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.dontAddCloseButtons" id="apidoc.module.easyrtc.dontAddCloseButtons">module easyrtc.dontAddCloseButtons</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.dontAddCloseButtons.dontAddCloseButtons" id="apidoc.element.easyrtc.dontAddCloseButtons.dontAddCloseButtons">
        function <span class="apidocSignatureSpan">easyrtc.</span>dontAddCloseButtons
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dontAddCloseButtons = function () {
    autoAddCloseButtons = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.easyApp" id="apidoc.module.easyrtc.easyApp">module easyrtc.easyApp</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.easyApp.easyApp" id="apidoc.element.easyrtc.easyApp.easyApp">
        function <span class="apidocSignatureSpan">easyrtc.</span>easyApp
        <span class="apidocSignatureSpan">(applicationName, monitorVideoId, videoIds, onReady, onFailure)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">easyApp = function (applicationName, monitorVideoId, videoIds, onReady, onFailure) {

    var gotMediaCallback = null,
        gotConnectionCallback = null;

    easyAppBody(monitorVideoId, videoIds);

    easyrtc.setGotMedia = function(gotMediaCB) {
        gotMediaCallback = gotMediaCB;
    };

    //
    // try to restablish broken connections that weren't caused by a hangup
    //
    easyrtc.setPeerClosedListener( function(easyrtcid) {
       setTimeout( function() {
           if( easyrtc.getSlotOfCaller(easyrtcid)  &gt;= 0 &amp;&amp; easyrtc.isPeerInAnyRoom(easyrtcid)) {
                easyrtc.call(easyrtcid, function(){}, function() {}, function(){});
           }
       }, 1000);
    });

<span class="apidocCodeCommentSpan">    /** Sets an event handler that gets called when a connection to the signaling
     * server has or has not been made. Can only be called after calling easyrtc.easyApp.
     * @function
     * @memberOf Easyrtc_App
     * @param {Function} gotConnectionCB has the signature (gotConnection, errorText)
     * @example
     *    easyrtc.setGotConnection( function(gotConnection, errorText){
     *        if( gotConnection ){
     *            console.log("Successfully connected to signaling server");
     *        }
     *        else{
     *            console.log("Failed to connect to signaling server because: " + errorText);
     *        }
     *    });
     */
</span>    easyrtc.setGotConnection = function(gotConnectionCB) {
        gotConnectionCallback = gotConnectionCB;
    };

    function nextInitializationStep(/* token */) {
        if (gotConnectionCallback) {
            gotConnectionCallback(true, "");
        }
        onReady(easyrtc.myEasyrtcid);
    }

    function postGetUserMedia() {
        if (gotMediaCallback) {
            gotMediaCallback(true, null);
        }
        if (monitorVideoId !== null) {
            easyrtc.setVideoObjectSrc(document.getElementById(monitorVideoId), easyrtc.getLocalStream());
        }
        function connectError(errorCode, errorText) {
            if (gotConnectionCallback) {
                gotConnectionCallback(false, errorText);
            }
            else if (onFailure) {
                onFailure(easyrtc.errCodes.CONNECT_ERR, errorText);
            }
            else {
                easyrtc.showError(easyrtc.errCodes.CONNECT_ERR, errorText);
            }
        }

        easyrtc.connect(applicationName, nextInitializationStep, connectError);
    }

    var stream = easyrtc.getLocalStream(null);
    if (stream) {
        postGetUserMedia();
    }
    else {
        easyrtc.initMediaSource(
                postGetUserMedia,
                function(errorCode, errorText) {
                    if (gotMediaCallback) {
                        gotMediaCallback(false, errorText);
                    }
                    else if (onFailure) {
                        onFailure(easyrtc.errCodes.MEDIA_ERR, errorText);
                    }
                    else {
                        easyrtc.showError(easyrtc.errCodes.MEDIA_ERR, errorText);
                    }
                },
                null // default stream
            );
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.easyrtc_default_event_listeners" id="apidoc.module.easyrtc.easyrtc_default_event_listeners">module easyrtc.easyrtc_default_event_listeners</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onAuthenticate" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onAuthenticate">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onAuthenticate
        <span class="apidocSignatureSpan">(socket, easyrtcid, appName, username, credential, easyrtcAuthMessage, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onAuthenticate = function (socket, easyrtcid, appName, username, credential, easyrtcAuthMessage, next) {
    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onAuthenticated" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onAuthenticated">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onAuthenticated
        <span class="apidocSignatureSpan">(connectionObj, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onAuthenticated = function (connectionObj, next) {
    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onConnection" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onConnection">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onConnection
        <span class="apidocSignatureSpan">(socket, easyrtcid, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onConnection = function (socket, easyrtcid, next){
    var connectionObj = {};             // prepare variables to house the connection object

    // Initially upon a connection, we are only concerned with receiving an easyrtcAuth message
    socket.on("easyrtcAuth", function(msg, socketCallback) {

        if (pub.getOption("logMessagesEnable")) {
            try {
                pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message: ["+JSON.stringify(msg)+"]");
            }
            catch(err) {
                pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
            }
        }

        pub.events.emit("easyrtcAuth", socket, easyrtcid, msg, socketCallback, function(err, newConnectionObj){
            if(err){
                pub.util.logError("["+easyrtcid+"] Unhandled easyrtcCmd listener error.", err);
                return;
            }

            connectionObj = newConnectionObj;
        });
    });

    pub.util.logDebug("Running func 'onConnection'");
    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onDisconnect" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onDisconnect">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onDisconnect
        <span class="apidocSignatureSpan">(connectionObj, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onDisconnect = function (connectionObj, next){
    pub.util.logDebug("Running func 'onDisconnect'");

    async.waterfall([
        function(asyncCallback) {
            // Get array of rooms
            connectionObj.getRoomNames(asyncCallback);
        },
        function(roomNames, asyncCallback) {
            // leave all rooms
            async.each(roomNames,
                function(currentRoomName, asyncEachCallback) {
                    pub.events.emit("roomLeave", connectionObj, currentRoomName, function(err){asyncEachCallback(null);});
                },
                function(err){
                    asyncCallback(null);
                }
            );
        },
        function(asyncCallback) {
            // log all connections as ended
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Disconnected");
            connectionObj.removeConnection(asyncCallback);
        }
    ], function(err) {
        next(null);
    });

    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEasyrtcAuth" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onEasyrtcAuth">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEasyrtcAuth
        <span class="apidocSignatureSpan">(socket, easyrtcid, msg, socketCallback, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEasyrtcAuth = function (socket, easyrtcid, msg, socketCallback, callback){
    pub.util.logDebug("["+easyrtcid+"] Running func 'onEasyrtcAuth'");

    var appObj, connectionObj, sessionObj;  // prepare variables to house the application, connection, and session objects

    var tokenMsg = {
        msgType: "token",
        msgData:{}
    };

    var appName;
    var newAppName = (_.isObject(msg.msgData) &amp;&amp;_.isString(msg.msgData.applicationName)) ? msg.msgData.applicationName : pub.getOption
("appDefaultName");

    // Ensure socketCallback is present
    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with no callback. Disconnecting socket.", msg);
        try{socket.disconnect();}catch(e){}
        return;
    }

    // Only accept authenticate message
    if(!_.isObject(msg) || !_.isString(msg.msgType) || msg.msgType != "authenticate") {
        pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received without msgType of 'authenticate'. Disconnecting socket
.", msg);
        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("LOGIN_BAD_AUTH"), appObj);
        try{socket.disconnect();}catch(e){}
        return;
    }

    // Check msg structure.
    if(!_.isObject(msg.msgData)
        || !_.isString(msg.msgData.apiVersion)
        || (msg.msgData.roomJoin !== undefined &amp;&amp; !_.isObject(msg.msgData.roomJoin))
    ) {
        pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with improper msgData. Disconnecting socket.", msg);
        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("LOGIN_BAD_STRUCTURE"), appObj);
        try{socket.disconnect();}catch(e){}
        return;
    }

    async.waterfall([
        function(asyncCallback) {
            // Check message structure
            pub.util.isValidIncomingMessage("easyrtcAuth", msg, null, asyncCallback);
        },

        function(isMsgValid, msgErrorCode, asyncCallback) {
            // If message structure is invalid, send error, disconnect socket, and write to log
            if (!isMsgValid) {
                try{
                    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
                    socket.disconnect();
                }catch(e){}
                pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with invalid message format [" + msgErrorCode
 + "]. Disconnecting socket.", msg);
                callback(new pub.util.ConnectionError("["+easyrtcid+"] EasyRTC Auth message received with invalid message format
 [" + msgErrorCode + "]. Disconnecting socket."));
                return;
            }

            // Remove any old listeners
            socket.removeAllListeners("easyrtcCmd");
            socket.removeAllListeners("easyrtcMsg");
            socket.removeAllListeners("disconnect"); // TODO: Come up with alternative to removing all disconnect listeners

            pub.util.logDebug("Emitting Authenticate");

            var username    = (msg.msgData.username     ? msg.msgData.username  : null);
            var credential  = (msg.msgData.credential   ? msg.msgData.credential: null);

            // Authenticate is responsible for authenticating the connection
            pub.events.emit("authenticate", socket, easyrtcid, newAppName, username, credential, msg, function(err){
                if (err) {
                    try{
                        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("LOGIN_BAD_AUTH"), appObj
);
                        socket.disconnect();
                        pub.util.logInfo("["+newAppName+"]["+easyrtcid+"] Authentication denied. Socket disconnected.", err);
                    }catch(e){}
                } else {
                    asyncCallback(null);
                }
            });
        },

        function(asyncCallback) {
            // Check to see if the requested app currently exists.
            pub.isApp(newAppName, asyncCallback);

        },

        functi ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEasyrtcCmd" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onEasyrtcCmd">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEasyrtcCmd
        <span class="apidocSignatureSpan">(connectionObj, msg, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEasyrtcCmd = function (connectionObj, msg, socketCallback, next){
    var appName = connectionObj.getAppName();
    var appObj = connectionObj.getApp();
    var easyrtcid = connectionObj.getEasyrtcid();


    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC command received with msgType [" +
msg.msgType + "]");
    if (!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC command message received
 with no callback. Ignoring.", msg);
        return;
    }

    async.waterfall([
        function(asyncCallback) {
            // Check message structure
            pub.util.isValidIncomingMessage("easyrtcCmd", msg, connectionObj.getApp(), asyncCallback);
        },

        function(isMsgValid, msgErrorCode, asyncCallback) {
            // If message structure is invalid, send error, and write to log
            if (!isMsgValid) {
                try{
                    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
                }catch(e){}
                pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC Auth message received
 with invalid message format [" + msgErrorCode + "]. Disconnecting socket.", msg);
                return;
            }
            asyncCallback(null);
        },
        function(asyncCallback) {
            // The msgType controls how each message is handled
            switch(msg.msgType) {
                case "setUserCfg":
                    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] WebRTC setUserCfg command
 received. This feature is not yet complete.");
                    pub.util.sendSocketCallbackAck(easyrtcid, socketCallback, appObj);
                    next(null);
                    break;

                case "setPresence":
                    pub.events.emit("msgTypeSetPresence", connectionObj, msg.msgData.setPresence, socketCallback, next);
                    break;

                case "setRoomApiField":
                    pub.events.emit("msgTypeSetRoomApiField", connectionObj, msg.msgData.setRoomApiField, socketCallback, next);
                    break;

                case "roomJoin":
                    pub.events.emit("msgTypeRoomJoin", connectionObj, msg.msgData.roomJoin, socketCallback, next);
                    break;

                case "roomLeave":
                    pub.events.emit("msgTypeRoomLeave", connectionObj, msg.msgData.roomLeave, socketCallback, next);
                    break;

                case "getIceConfig":
                    pub.events.emit("msgTypeGetIceConfig", connectionObj, socketCallback, next);
                    break;

                case "getRoomList":
                    pub.events.emit("msgTypeGetRoomList", connectionObj, socketCallback, next);
                    break;

                case "candidate":
                case "offer":
                case "answer":
                case "reject":
                case "hangup":
                    // Relay message to targetEasyrtcid
                    var outgoingMsg = {senderEasyrtcid: connectionObj.getEasyrtcid(), msgData:msg.msgData};

                    connectionObj.getApp().connection(msg.targetEasyrtcid, function(err,targetConnectionObj){
                        if (err){
                            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_TARGET_EASYRTCID
"), appObj);
                            pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Could not send
 WebRTC signal to client [" + msg.targetEasyrtcid + "]. They may no longer be online.");
                            return;
                        }
                        pub.events.emit("emitEasyrtcCmd", targetConnectionObj, msg.msgType, outgoingMsg, null, next);
                        pub ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEasyrtcMsg" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onEasyrtcMsg">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEasyrtcMsg
        <span class="apidocSignatureSpan">(connectionObj, msg, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEasyrtcMsg = function (connectionObj, msg, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();


    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message received of type [" +
msg.msgType + "]");

    if (!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message received with no
 callback. Ignoring message.", msg);
        return;
    }

    async.waterfall([
        function(asyncCallback) {
            // Check message structure
            pub.util.isValidIncomingMessage("easyrtcMsg", msg, connectionObj.getApp(), asyncCallback);
        },

        function(isMsgValid, msgErrorCode, asyncCallback) {
            // If message structure is invalid, send error, and write to log
            if (!isMsgValid) {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
                pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message received
 with invalid message format [" + msgErrorCode + "].", msg);
                return;
            }
            asyncCallback(null);
        },
        function(asyncCallback) {

            // test targetEasyrtcid (if defined). Will prevent client from sending to themselves
            if (msg.targetEasyrtcid  !== undefined &amp;&amp; msg.targetEasyrtcid == connectionObj.getEasyrtcid()) {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_TARGET_EASYRTCID"), appObj
);
                pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message received
 with improper targetEasyrtcid", msg);
                return;
            }

            // Determine if sending message to single client, an entire room, or an entire group
            if (msg.targetEasyrtcid !== undefined) {
                // Relay a message to a single client
                var outgoingMsg = {
                    senderEasyrtcid: connectionObj.getEasyrtcid(),
                    targetEasyrtcid: msg.targetEasyrtcid,
                    msgType: msg.msgType,
                    msgData: msg.msgData
                };
                var targetConnectionObj = {};

                async.waterfall([
                    function(asyncCallback) {
                        // getting connection object for targetEasyrtcid
                        connectionObj.getApp().connection(msg.targetEasyrtcid, asyncCallback);
                    },
                    function(newTargetConnectionObj, asyncCallback) {
                        targetConnectionObj = newTargetConnectionObj;

                        // TODO: Add option to restrict users not in same room from sending messages to users in room

                        // Handle targetRoom (if present)
                        if (msg.targetRoom) {
                            targetConnectionObj.isInRoom(msg.targetRoom, function(err, isAllowed){
                                if (err || !isAllowed) {
                                    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_TARGET_ROOM
"), appObj);
                                    pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC
 message received with improper target room", msg);
                                    return;
                                }
                                outgoingMsg.targetRoom = msg.targetRoom;
                                asyncCallback(null);
                            });
                        }
                        else {
                            asyncCallback(null);
                        }
                    },

                    function(asyncCallback) {
                        // Handle targetGroup (if present) ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitEasyrtcCmd" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitEasyrtcCmd">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEmitEasyrtcCmd
        <span class="apidocSignatureSpan">(connectionObj, msgType, msg, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEmitEasyrtcCmd = function (connectionObj, msgType, msg, socketCallback, next){
    if (!_.isObject(connectionObj)){
        next(new pub.util.ConnectionError("Connection object invalid. Client may have disconnected."));
        return;
    }

    var easyrtcid = connectionObj.getEasyrtcid();
    var appName = connectionObj.getAppName();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onEmitEasyrtcCmd' with msgType
 ["+msgType+"]");
    if (!msg) {
        msg = {};
    }
    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            if (_.isObject(returnMsg) &amp;&amp; _.isString(returnMsg.msgType) &amp;&amp; returnMsg.msgType == "ack"){
                // pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message: unhandled
 Ack return message.");
            }
            else {
                pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message: unhandled
 return message.", returnMsg);
            }
        };
    }

    msg.easyrtcid   = connectionObj.getEasyrtcid();
    msg.msgType     = msgType;
    msg.serverTime  = Date.now();

    connectionObj.socket.emit( "easyrtcCmd", msg, socketCallback);

    if (pub.getOption("logMessagesEnable")) {
        try {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Sending socket.io message: ["+JSON.stringify(msg)+"]");
        }
        catch(err) {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Sending socket.io message");
        }
    }

    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitEasyrtcMsg" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitEasyrtcMsg">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEmitEasyrtcMsg
        <span class="apidocSignatureSpan">(connectionObj, msgType, msg, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEmitEasyrtcMsg = function (connectionObj, msgType, msg, socketCallback, next){
    if (!_.isObject(connectionObj)){
        next(new pub.util.ConnectionError("Connection object invalid. Client may have disconnected."));
        return;
    }

    var easyrtcid = connectionObj.getEasyrtcid();
    var appName = connectionObj.getAppName();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onEmitEasyrtcMsg' with msgType
 ["+msgType+"]");


    if (!msg) {
        msg = {};
    }
    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            if (_.isObject(returnMsg) &amp;&amp; _.isString(returnMsg.msgType) &amp;&amp; returnMsg.msgType == "ack"){
                // pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message: unhandled
 Ack return message.");
            }
            else {
                pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message: unhandled
 return message.", returnMsg);
            }
        };
    }
    msg.easyrtcid   = connectionObj.getEasyrtcid();
    msg.msgType     = msgType;
    msg.serverTime  = Date.now();

    connectionObj.socket.emit( "easyrtcMsg", msg, socketCallback);

    if (pub.getOption("logMessagesEnable")) {
        try {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Sending socket.io message: ["+JSON.stringify(msg)+"]");
        }
        catch(err) {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Sending socket.io message");
        }
    }

    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitError" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitError">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEmitError
        <span class="apidocSignatureSpan">(connectionObj, errorCode, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEmitError = function (connectionObj, errorCode, socketCallback, next){
    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onEmitError'");
    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled ACK return
 message.", returnMsg);
        };
    }
    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    pub.events.emit("emitEasyrtcCmd", connectionObj, "error", pub.util.getErrorMsg(errorCode), socketCallback, next);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitReturnAck" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitReturnAck">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEmitReturnAck
        <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEmitReturnAck = function (connectionObj, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onEmitReturnAck'");
    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC: unable to return ack to
 socket.");
        return;
    }
    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    var msg = {
        msgType: "ack",
        msgData:{}
    };

    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, msg, appObj);

    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitReturnError" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitReturnError">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEmitReturnError
        <span class="apidocSignatureSpan">(connectionObj, socketCallback, errorCode, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEmitReturnError = function (connectionObj, socketCallback, errorCode, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onEmitReturnError'");
    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC: unable to return error
to socket. Error code was [" + errorCode + "]");

        next(new pub.util.ConnectionError("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Unable to return error
 to socket. Error code was [" + errorCode + "]"));
        return;
    }
    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    var msg = pub.util.getErrorMsg(errorCode);

    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, msg, appObj);

    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitReturnToken" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onEmitReturnToken">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onEmitReturnToken
        <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEmitReturnToken = function (connectionObj, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onSendToken'");

    var tokenMsg = {
        msgType: "token",
        msgData:{}
    };

    // Ensure socketCallback is present
    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC onSendToken called with
no socketCallback.");
        try{connectionObj.socket.disconnect();}catch(e){}
        return;
    }

    async.waterfall([
        function(asyncCallback){
            // Get rooms user is in along with list
            connectionObj.generateRoomClientList("join", null, asyncCallback);
        },
        function(roomData, asyncCallback) {
            // Set roomData
            tokenMsg.msgData.roomData = roomData;

            // Retrieve ice config
            connectionObj.events.emit("getIceConfig", connectionObj, asyncCallback);
        },

        function(iceServers, asyncCallback) {
            tokenMsg.msgData.application        = {applicationName:connectionObj.getAppName()};
            tokenMsg.msgData.easyrtcid          = connectionObj.getEasyrtcid();
            tokenMsg.msgData.iceConfig          = {iceServers: iceServers};
            tokenMsg.msgData.serverTime         = Date.now();

            easyrtcid = tokenMsg.msgData.easyrtcid;

            // Get Application fields
            appObj.getFields(true, asyncCallback);
        },

        function(fieldObj, asyncCallback) {
            if (!_.isEmpty(fieldObj)){
                tokenMsg.msgData.application.field = fieldObj;
            }

            // Get Connection fields
            connectionObj.getFields(true, asyncCallback);
        },

        function(fieldObj, asyncCallback) {
            if (!_.isEmpty(fieldObj)){
                tokenMsg.msgData.field = fieldObj;
            }

            // get session object
            connectionObj.getSessionObj(asyncCallback);
        },

        function(sessionObj, asyncCallback) {
            if (sessionObj) {
                tokenMsg.msgData.sessionData = {"easyrtcsid":sessionObj.getEasyrtcsid()};

                // Get session fields
                sessionObj.getFields(true, asyncCallback);
            }
            else {
                asyncCallback(null, null);
            }
        },

        function(fieldObj, asyncCallback) {
            // Set session field (if present)
            if (fieldObj &amp;&amp; !_.isEmpty(fieldObj)){
                tokenMsg.msgData.sessionData.field = fieldObj;
            }

            // Emit token back to socket (SUCCESS!)
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, tokenMsg, appObj);

            asyncCallback(null);
        }

    ],
    // This function is called upon completion of the async waterfall, or upon an error being thrown.
    function (err) {
        if (err){
            next(err);
        } else {
            next(null);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onGetIceConfig" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onGetIceConfig">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onGetIceConfig
        <span class="apidocSignatureSpan">(connectionObj, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onGetIceConfig = function (connectionObj, callback){
    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onGetIceConfig'");
    callback(null, connectionObj.getApp().getOption("appIceServers"));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onLog" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onLog">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onLog
        <span class="apidocSignatureSpan">(level, logText, logFields, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onLog = function (level, logText, logFields, next) {
    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    var consoleText = "";

    var currentDate = new Date();
    if (pub.getOption("logColorEnable")) {
        var colors = require("colors");
        if(pub.getOption("logDateEnable")) {
            consoleText += currentDate.toISOString().grey + " - ";
        }
        switch (level) {
            case "debug":
                consoleText += "debug  ".bold.blue;
                break;
            case "info":
                consoleText += "info   ".bold.green;
                break;
            case "warning":
                consoleText += "warning".bold.yellow;
                break;
            case "error":
                consoleText += "error  ".bold.red;
                break;
            default:
                consoleText += level.bold;
        }
        consoleText += " - " + "EasyRTC: ".bold + logText;
    }
    else {
        if(pub.getOption("logDateEnable")) {
            consoleText += currentDate.toISOString() + " - ";
        }
        consoleText += level;
        consoleText += " - " + "EasyRTC: " + logText;
    }

    if (logFields != undefined &amp;&amp; logFields != null) {
        if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.util.isError(logFields)) {
            console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold + logFields.stack
.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
        }
        else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.util.isWarning(logFields)) {
            console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold + logFields.stack
.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
        }
        else {
            console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth:pub
.getOption("logObjectDepth")}));
        }
    } else {
        console.log(consoleText);
    }
    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeGetIceConfig" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeGetIceConfig">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onMsgTypeGetIceConfig
        <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onMsgTypeGetIceConfig = function (connectionObj, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onMsgTypeGetIceConfig'");

    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled ACK return
 message.", returnMsg);
        };
    }

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    connectionObj.events.emit("getIceConfig", connectionObj, function(err, iceConfigObj){
        if (err) {
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_GEN_FAIL"), appObj);
        }
        else {
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"iceConfig", "msgData":{"iceConfig":{"iceServers
":iceConfigObj}}}, appObj);
        }
        next(null);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeGetRoomList" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeGetRoomList">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onMsgTypeGetRoomList
        <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onMsgTypeGetRoomList = function (connectionObj, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onMsgTypeGetRoomList'");

    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled ACK return
 message.", returnMsg);
        };
    }

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    connectionObj.generateRoomList(
        function(err, roomList) {
            if(err) {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_NO_ROOM_LIST"), appObj
);
            }
            else {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"roomList", "msgData":{"roomList":roomList}},
appObj);
            }
            next(null);
        }
    );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeRoomJoin" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeRoomJoin">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onMsgTypeRoomJoin
        <span class="apidocSignatureSpan">(connectionObj, rooms, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onMsgTypeRoomJoin = function (connectionObj, rooms, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onMsgTypeRoomJoin'");
    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled socket message
 callback.");
        return;
    }

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    if(!_.isObject(rooms) || _.isEmpty(rooms)) {
        pub.events.emit("emitReturnError", socketCallback, "MSG_REJECT_BAD_STRUCTURE", pub.util.nextToNowhere);
        return;
    }

    for (var currentRoomName in rooms) {
        if (!_.isString(currentRoomName) || !connectionObj.getApp().getOption("roomNameRegExp").test(currentRoomName)) {
            pub.events.emit("emitReturnError", socketCallback, "MSG_REJECT_TARGET_ROOM", pub.util.nextToNowhere);
            return;
        }
    }

    async.each(Object.keys(rooms), function(currentRoomName, roomCallback) {
        appObj.isRoom(currentRoomName, function(err, isRoom){

            // Set roomParameter map. This may be used by custom listeners.
            var currentRoomParameter;
            if (rooms[currentRoomName] &amp;&amp; _.isObject(rooms[currentRoomName].roomParameter)){
                currentRoomParameter = rooms[currentRoomName].roomParameter;
            }

            if (isRoom) {
                pub.events.emit("roomJoin", connectionObj, currentRoomName, currentRoomParameter, roomCallback);
            }
            else if (appObj.getOption("roomAutoCreateEnable")) {
                pub.events.emit("roomCreate", appObj, connectionObj, currentRoomName, null, function(err, roomObj){
                    if (err) {
                        roomCallback(err);
                        return;
                    }
                    pub.events.emit("roomJoin", connectionObj, currentRoomName, currentRoomParameter, roomCallback);
                });
            }
            else {
                pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"]["+currentRoomName+"] Unable
 to join non-existent room.");
                roomCallback(new pub.util.ConnectionError("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"]["+
currentRoomName+"] Unable to join room."));
            }
        });
    }, function(err, newRoomObj) {
        if (err) {
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_BAD_ROOM"), appObj);
            next(null); // Error has been handled
            return;
        }

        connectionObj.generateRoomClientList("join", rooms, function(err, roomData){
            if (err) {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_BAD_ROOM"), appObj);
                next(null); // Error has been handled
            }
            else {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"roomData", "msgData":{"roomData":roomData}},
appObj);
            }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeRoomLeave" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeRoomLeave">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onMsgTypeRoomLeave
        <span class="apidocSignatureSpan">(connectionObj, rooms, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onMsgTypeRoomLeave = function (connectionObj, rooms, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onMsgTypeRoomLeave' with
 rooms: ",rooms);
    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled ACK return
 message.", returnMsg);
        };
    }

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    // Loop through each room in the rooms object. Emit the leaveRoom event for each one.
    async.each(Object.keys(rooms), function(currentRoomName, asyncCallback) {
        connectionObj.events.emit("roomLeave", connectionObj, currentRoomName, function(err){
            if (err) {
                pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Error leaving room ["+currentRoomName
+"].", err);
            }
            asyncCallback(null);
        });
    }, function(err, newRoomObj) {
        var roomData = {};
        for (var currentRoomName in rooms) {
            roomData[currentRoomName]={
                "roomName":     currentRoomName,
                "roomStatus":   "leave"
            };
        }
        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"roomData", "msgData":{"roomData":roomData}}, appObj
);
        next(null);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeSetPresence" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeSetPresence">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onMsgTypeSetPresence
        <span class="apidocSignatureSpan">(connectionObj, presenceObj, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onMsgTypeSetPresence = function (connectionObj, presenceObj, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onMsgTypeSetPresence' with
 setPresence: ",presenceObj);
    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled ACK return
 message.", returnMsg);
        };
    }

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    connectionObj.setPresence(
        presenceObj,
        function(err){
            if (err) {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_PRESENCE"), appObj);
            }
            else {
                connectionObj.emitRoomDataDelta(false, function(err, roomDataObj){
                    if (err) {
                        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_PRESENCE"), appObj
);
                    }
                    else {
                        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"roomData", "msgData":{"roomData":roomDataObj
}}, appObj);
                    }
                });
            }
            next(null);
        }
    );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeSetRoomApiField" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onMsgTypeSetRoomApiField">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onMsgTypeSetRoomApiField
        <span class="apidocSignatureSpan">(connectionObj, roomApiFieldObj, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onMsgTypeSetRoomApiField = function (connectionObj, roomApiFieldObj, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onMsgTypeSetRoomApiField
' with apiFieldObj: ",roomApiFieldObj);
    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled ACK return
 message.", returnMsg);
        };
    }

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    connectionObj.room(roomApiFieldObj.roomName, function(err, connectionRoomObj){
        if (err) {
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_BAD_ROOM"), appObj);
            next(null);
            return;
        }
        connectionRoomObj.setApiField(roomApiFieldObj.field, function(err){
            if (err) {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_BAD_FIELD"), appObj);
                next(null);
                return;
            }
            connectionRoomObj.emitRoomDataDelta(false, function(err, roomDataDelta){
                if (err) {
                    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_GEN_FAIL"), appObj
);
                    next(null);
                    return;
                }

                var msg = {"msgType":"roomData", "msgData": {"roomData": {}}};
                msg.msgData.roomData[roomApiFieldObj.roomName] = roomDataDelta;
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, msg, appObj);
            });
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onRoomCreate" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onRoomCreate">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onRoomCreate
        <span class="apidocSignatureSpan">(appObj, creatorConnectionObj, roomName, roomOptions, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onRoomCreate = function (appObj, creatorConnectionObj, roomName, roomOptions, callback){
    pub.util.logDebug("["+appObj.getAppName()+"]" + (creatorConnectionObj?"["+creatorConnectionObj.getEasyrtcid()+"]":"") +  " Room
 ["+ roomName +"] Running func 'onRoomCreate'");
    appObj.createRoom(roomName, roomOptions, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onRoomJoin" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onRoomJoin">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onRoomJoin
        <span class="apidocSignatureSpan">(connectionObj, roomName, roomParameter, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onRoomJoin = function (connectionObj, roomName, roomParameter, callback){
    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onRoomJoin'");

    // roomParameter is a new field. To ease upgrading we'll just show a warning to server applications which haven't updated
    if (_.isFunction(roomParameter)){
        pub.util.logWarning("Upgrade notice: EasyRTC roomJoin event called without roomParameter object.");
        callback = roomParameter;
        roomParameter = null;
    }

    connectionObj.joinRoom(roomName, function(err, connectionRoomObj){
        if (err) {
            callback(err);
            return;
        }
        connectionRoomObj.emitRoomDataDelta(false, function(err, roomDataDelta){
            // Return connectionRoomObj regardless of if there was a problem sending out the deltas
            callback(null, connectionRoomObj);
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onRoomLeave" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onRoomLeave">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onRoomLeave
        <span class="apidocSignatureSpan">(connectionObj, roomName, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onRoomLeave = function (connectionObj, roomName, next){
    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onRoomLeave' with rooms ["+
roomName+"]");

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    connectionObj.room(roomName, function(err, connectionRoomObj){
        if (err) {
            pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Couldn't leave room [" + roomName
 + "]");
            next(err);
            return;
        }

        pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Leave room [" + roomName + "]");
        connectionRoomObj.leaveRoom(next);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onShutdown" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onShutdown">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onShutdown
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onShutdown = function (next){
    pub.util.logDebug("Running func 'onShutdown'");
    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_default_event_listeners.onStartup" id="apidoc.element.easyrtc.easyrtc_default_event_listeners.onStartup">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_default_event_listeners.</span>onStartup
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onStartup = function (next){
    if (!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    pub.util.logDebug("Running func 'onStartup'");
    async.waterfall([
        function(callback) {
            pub.util.logDebug("Configuring Http server");

            // Set the EasyRTC demos
            if (pub.getOption("demosEnable")) {
                pub.util.logDebug("Setting up demos to be accessed from '" + pub.getOption("demosPublicFolder") + "/'");
                pub.httpApp.get(pub.getOption("demosPublicFolder") + "/*", function(req, res) {
                    (res.sendFile||res.sendfile).call(res,
                        "./demos/" + (req.params[0] ? req.params[0] : "index.html"),
                        // TODO security check
                        {root:__dirname + "/../"},
                        function(err) {
                            try{if (err &amp;&amp; err.status &amp;&amp; res &amp;&amp; !res._headerSent) {
                                res.status(404);
                                var body =    "&lt;html&gt;&lt;head&gt;&lt;title&gt;File Not Found&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;File Not Found&lt;/h1&gt;&lt;/body
&gt;&lt;/html&gt;";
                                res.setHeader("Content-Type", "text/html");
                                res.setHeader("Content-Length", body.length);
                                res.end(body);
                            }}catch(e){}
                        }
                    );
                });
                // Forward people who forget the trailing slash to the folder.
                pub.httpApp.get(pub.getOption("demosPublicFolder"), function(req, res) {res.redirect(pub.getOption("demosPublicFolder
") + "/");});
            }

            if (pub.getOption("apiEnable")) {
                // Set the EasyRTC API files
                pub.util.logDebug("Setting up API files to be accessed from '" + pub.getOption("apiPublicFolder") + "/'");
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.js",                  function(req, res) {pub.util.
sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc.js",                   {root:__dirname + "/../"});});
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc_ft.js",               function(req, res) {pub.util.
sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc_ft.js",                {root:__dirname + "/../"});});
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.css",                 function(req, res) {pub.util.
sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc.css",                  {root:__dirname + "/../"});});
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.min.js",              function(req, res) {pub.util.
sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"open_source/api/easyrtc.min.js",   {root:__dirname + "/../"});});
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc_ft.min.js",           function(req, res) {pub.util.
sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc_ft.min.js",            {root:__dirname + "/../"});});
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.min.css",             function(req, res) {pub.util.
sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"open_source/api/easyrtc.min.css",  {root:__dirname + "/../"});});
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/img/*", function(req, res) {
                    pub.util.sendSessionCookie(req, res);
                    (res.sendFile||res.sendfile).call(res,
                        "./api/img/" + (req.params[0] ? req.params[0] : "index.html"),
                        {root:__dirname + "/../"},
                        function(err) {
                            try{if (err &amp;&amp; err.status &amp;&amp; res &amp;&amp; !res._headerSent) {
                                res.status(404);
                                var body =    "&lt;html&gt;&lt;head&gt;&lt;title&gt;File Not Found&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;File ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.easyrtc_public_obj" id="apidoc.module.easyrtc.easyrtc_public_obj">module easyrtc.easyrtc_public_obj</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_public_obj._getPrivateObj" id="apidoc.element.easyrtc.easyrtc_public_obj._getPrivateObj">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>_getPrivateObj
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getPrivateObj = function () {
    return e;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_public_obj.app" id="apidoc.element.easyrtc.easyrtc_public_obj.app">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>app
        <span class="apidocSignatureSpan">(appName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">app = function (appName, callback) {

    /**
     * The primary method for interfacing with an EasyRTC application.
     *
     * @class       appObj
     * @memberof    pub
     */
    var appObj = {};
    if (!appName) {
        appName = pub.getOption("appDefaultName");
    }
    if (!_.isFunction(callback)) {
        callback = function(err, appObj) {
        };
    }
    if (!e.app[appName]) {
        pub.util.logDebug("Attempt to request non-existent application name: '" + appName + "'");
        callback(new pub.util.ApplicationWarning("Attempt to request non-existent application name: '" + appName + "'"));
        return;
    }


    /**
     * Expose all event functions
     *
     * @memberof    pub.appObj
     */
    appObj.events = pub.events;


    /**
     * Expose all utility functions
     *
     * @memberof    pub.appObj
     */
    appObj.util = pub.util;


    /**
     * Returns the application name for the application. Note that unlike most EasyRTC functions, this returns a value and does
not use a callback.
     *
     * @memberof    pub.appObj
     * @return      {string}    The application name.
     */
    appObj.getAppName = function() {
        return appName;
    };


    /**
     * Sends the count of the number of connections in the app to a provided callback.
     *
     * @memberof    pub.appObj
     * @param       {function(?Error, Number)} callback Callback with error and array containing all easyrtcids.
     */
    appObj.getConnectionCount = function(callback) {
        callback(null, appObj.getConnectionCountSync());
    };


    /**
     * Sends the count of the number of connections in the app to a provided callback.
     *
     * @memberof    pub.appObj
     * @returns     {Number} The current number of connections in a room.
     */
    appObj.getConnectionCountSync = function() {
        return _.size(e.app[appName].connection);
    };


    /**
     * Returns an array of all easyrtcids connected to the application
     *
     * @memberof    pub.appObj
     * @param       {function(?Error, Array.&lt;string&gt;)} callback Callback with error and array of easyrtcids.
     */
    appObj.getConnectionEasyrtcids = function(callback) {
        var easyrtcids = [];
        for (var key in e.app[appName].connection) {
            easyrtcids.push(key);
        }
        callback(null, easyrtcids);
    };


    /**
     * Returns application level field object for a given field name to a provided callback.
     *
     * @memberof    pub.appObj
     * @param       {string}        fieldName   Field name
     * @param       {function(?Error, Object=)} callback Callback with error and field object (any type)
     */
    appObj.getField = function(fieldName, callback) {
        if (!e.app[appName].field[fieldName]) {
            pub.util.logDebug("Can not find app field: '" + fieldName + "'");
            callback(new pub.util.ApplicationWarning("Can not find app field: '" + fieldName + "'"));
            return;
        }
        callback(null, pub.util.deepCopy(e.app[appName].field[fieldName]));
    };


    /**
     * Returns application level field object for a given field name. If the field is not set, it will return a field object will
 a null field value.  This is a synchronous function, thus may not be available in custom cases where state is not kept in memory
.
     *
     * @memberof    pub.appObj
     * @param       {string}        fieldName   Field name
     * @returns     {Object}        Field object
     */
    appObj.getFieldSync = function(fieldName) {
        if (!e.app[appName].field[fieldName]) {
            return {"fieldName": fieldName, "fieldOption": {}, "fieldValue": null};
        }
        return pub.util.deepCopy(e.app[appName].field[fieldName]);
    };


    /**
     * Returns application level field value for a given field name. If the field is not set, it will return a null field value.
This is a synchronous function, thus may not be available in custom ca ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    pub.isApp(newAppName, asyncCallback);

},

function(isApp, asyncCallback) {
    // If requested app exists, then call it, otherwise create it.
    if (isApp) {
        pub.<span class="apidocCodeKeywordSpan">app</span>(newAppName, asyncCallback);
    } else {
        // if appAutoCreateEnable is true, then a new app will be created using the default options
        if(pub.getOption("appAutoCreateEnable")) {
            pub.createApp(newAppName, null, asyncCallback);
        } else {
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("LOGIN_APP_AUTH_FAIL"), appObj
);
            socket.disconnect();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_public_obj.createApp" id="apidoc.element.easyrtc.easyrtc_public_obj.createApp">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>createApp
        <span class="apidocSignatureSpan">(appName, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createApp = function (appName, options, callback) {
    if (!_.isFunction(callback)) {
        callback = function(err, appObj) {
        };
    }
    if (!appName || !pub.getOption("appNameRegExp").test(appName)) {
        pub.util.logWarning("Can not create application with improper name: '" + appName + "'");
        callback(new pub.util.ApplicationWarning("Can not create application with improper name: '" + appName + "'"));
        return;
    }
    if (e.app[appName]) {
        pub.util.logWarning("Can not create application which already exists: '" + appName + "'");
        callback(new pub.util.ApplicationWarning("Can not create application which already exists: '" + appName + "'"));
        return;
    }
    if (!_.isObject(options)) {
        options = {};
    }

    pub.util.logDebug("Creating application: '" + appName + "'");

    e.app[appName] = {
        appName: appName,
        connection: {},
        field: {},
        group: {},
        option: {},
        room: {},
        session: {}
    };

    // Get the new app object
    pub.app(appName, function(err, appObj) {
        if (err) {
            callback(err);
            return;
        }

        // Set all options in options object. If any fail, an error will be sent to the callback.
        async.each(Object.keys(options), function(currentOptionName, asyncCallback) {
            appObj.setOption(currentOptionName, options[currentOptionName]);
            asyncCallback(null);
        },
                function(err) {
                    if (err) {
                        callback(new pub.util.ApplicationError("Could not set options when creating application: '" + appName + "'",
err));
                        return;
                    }
                    // Set default application fields
                    var appDefaultFieldObj = appObj.getOption("appDefaultFieldObj");
                    if (_.isObject(appDefaultFieldObj)) {
                        for (var currentFieldName in appDefaultFieldObj) {
                            appObj.setField(
                                    currentFieldName,
                                    appDefaultFieldObj[currentFieldName].fieldValue,
                                    appDefaultFieldObj[currentFieldName].fieldOption,
                                    null
                                    );
                        }
                    }

                    if (appObj.getOption("roomDefaultEnable")) {
                        pub.events.emit("roomCreate", appObj, null, appObj.getOption("roomDefaultName"), null, function(err, roomObj
){
                            if (err) {
                                callback(err);
                                return;
                            }
                            // Return app object to callback
                            callback(null, appObj);
                        });
                    }
                    else {
                        // Return app object to callback
                        callback(null, appObj);
                    }
                });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function(isApp, asyncCallback) {
    // If requested app exists, then call it, otherwise create it.
    if (isApp) {
        pub.app(newAppName, asyncCallback);
    } else {
        // if appAutoCreateEnable is true, then a new app will be created using the default options
        if(pub.getOption("appAutoCreateEnable")) {
            pub.<span class="apidocCodeKeywordSpan">createApp</span>(newAppName, null, asyncCallback);
        } else {
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("LOGIN_APP_AUTH_FAIL"), appObj
);
            socket.disconnect();
            pub.util.logWarning("[" + easyrtcid + "] Authentication failed. Requested application not found ["
; + newAppName + "]. Socket disconnected.");
        }
    }
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_public_obj.getAppNames" id="apidoc.element.easyrtc.easyrtc_public_obj.getAppNames">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getAppNames
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAppNames = function (callback) {
    var appNames = [];
    for (var key in e.app) {
        appNames.push(key);
    }
    callback(null, appNames);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_public_obj.getAppWithEasyrtcid" id="apidoc.element.easyrtc.easyrtc_public_obj.getAppWithEasyrtcid">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getAppWithEasyrtcid
        <span class="apidocSignatureSpan">(easyrtcid, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAppWithEasyrtcid = function (easyrtcid, callback) {
    for (var key in e.app) {
        if (e.app[key].connection[easyrtcid] &amp;&amp; e.app[key].connection[easyrtcid].isAuthenticated) {
            pub.app(key, callback);
            return;
        }
    }
    pub.util.logWarning("Can not find connection [" + easyrtcid + "]");
    callback(new pub.util.ConnectionWarning("Can not find connection [" + easyrtcid + "]"));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_public_obj.getConnectionCount" id="apidoc.element.easyrtc.easyrtc_public_obj.getConnectionCount">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getConnectionCount
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getConnectionCount = function (callback) {
    callback(null, pub.getConnectionCountSync());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_public_obj.getConnectionCountSync" id="apidoc.element.easyrtc.easyrtc_public_obj.getConnectionCountSync">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getConnectionCountSync
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getConnectionCountSync = function () {
    var connectionCount = 0;
    for (var key in e.app) {
        connectionCount = connectionCount + _.size(e.app[key].connection);
    }
    return connectionCount;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
* Sends the count of the number of connections to the server to a provided callback.
*
* @param       {function(?Error, Number)} callback Callback with error and array containing all easyrtcids.
*/
pub.getConnectionCount = function(callback) {
   callback(null, pub.<span class="apidocCodeKeywordSpan">getConnectionCountSync</span>());
};


/**
* Sends the count of the number of connections to the server to a provided callback.
*
* @returns     {Number} The current number of connections in a room.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_public_obj.getConnectionWithEasyrtcid" id="apidoc.element.easyrtc.easyrtc_public_obj.getConnectionWithEasyrtcid">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getConnectionWithEasyrtcid
        <span class="apidocSignatureSpan">(easyrtcid, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getConnectionWithEasyrtcid = function (easyrtcid, callback) {
    for (var key in e.app) {
        if (e.app[key].connection[easyrtcid] &amp;&amp; e.app[key].connection[easyrtcid].isAuthenticated) {
            pub.app(key, function(err, appObj) {
                if (err) {
                    callback(err);
                    return;
                }
                appObj.connection(easyrtcid, callback);
            });
            return;
        }
    }
    pub.util.logWarning("Can not find connection [" + easyrtcid + "]");
    callback(new pub.util.ConnectionWarning("Can not find connection [" + easyrtcid + "]"));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_public_obj.getOption" id="apidoc.element.easyrtc.easyrtc_public_obj.getOption">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getOption
        <span class="apidocSignatureSpan">(optionName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getOption = function (optionName) {
    if(typeof e.option[optionName] === "undefined"){
        pub.util.logError("Unknown option requested. Unrecognised option name '" + optionName + "'.");
        return null;
    }
    return e.option[optionName];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
eventListener.onConnection = function(socket, easyrtcid, next){
    var connectionObj = {};             // prepare variables to house the connection object

    // Initially upon a connection, we are only concerned with receiving an easyrtcAuth message
    socket.on("easyrtcAuth", function(msg, socketCallback) {

if (pub.<span class="apidocCodeKeywordSpan">getOption</span>("logMessagesEnable")) {
    try {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message: ["+JSON.stringify(msg)+"]");
    }
    catch(err) {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
    }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_public_obj.getVersion" id="apidoc.element.easyrtc.easyrtc_public_obj.getVersion">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>getVersion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getVersion = function () {
    return e.version;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return true;
};

/**
 *  Checks with EasyRTC site for latest version. Writes to the log if a version can be found. If connection cannot be established
 than no error will be shown.
 */
pub.util.updateCheck = function() {
var easyrtcVersion = pub.<span class="apidocCodeKeywordSpan">getVersion</span>();

require("http").get("http://easyrtc.com/version/?app=easyrtc&amp;ver=" + easyrtcVersion + "&amp;platform
=" + process.platform + "&amp;nodever=" + process.version, function(res) {
    if (res.statusCode == 200)
        res.on('data', function(latestVersion) {
            latestVersion = (latestVersion + "").replace(/[^0-9a-z.]/g, "");
            if (latestVersion != easyrtcVersion) {
                var l = latestVersion.replace(/[^0-9.]/g, "").split(".", 3);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_public_obj.isApp" id="apidoc.element.easyrtc.easyrtc_public_obj.isApp">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>isApp
        <span class="apidocSignatureSpan">(appName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isApp = function (appName, callback) {
    callback(null, (e.app[appName] ? true : false));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            asyncCallback(null);
        }
    });
},

function(asyncCallback) {
    // Check to see if the requested app currently exists.
    pub.<span class="apidocCodeKeywordSpan">isApp</span>(newAppName, asyncCallback);

},

function(isApp, asyncCallback) {
    // If requested app exists, then call it, otherwise create it.
    if (isApp) {
        pub.app(newAppName, asyncCallback);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_public_obj.setOption" id="apidoc.element.easyrtc.easyrtc_public_obj.setOption">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_public_obj.</span>setOption
        <span class="apidocSignatureSpan">(optionName, optionValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setOption = function (optionName, optionValue) {
    // Can only set options which currently exist
    if (typeof e.option[optionName] == "undefined") {
        pub.util.logError("Error setting option. Unrecognised option name '" + optionName + "'.");
        return false;
    }

    e.option[optionName] = pub.util.deepCopy(optionValue);
    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (err) {
    callback(err);
    return;
}

// Set all options in options object. If any fail, an error will be sent to the callback.
async.each(Object.keys(options), function(currentOptionName, asyncCallback) {
    appObj.<span class="apidocCodeKeywordSpan">setOption</span>(currentOptionName, options[currentOptionName]);
    asyncCallback(null);
},
        function(err) {
            if (err) {
                callback(new pub.util.ApplicationError("Could not set options when creating application: '" + appName
 + "'", err));
                return;
            }
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.easyrtc_util" id="apidoc.module.easyrtc.easyrtc_util">module easyrtc.easyrtc_util</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_util.ApplicationError" id="apidoc.element.easyrtc.easyrtc_util.ApplicationError">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>ApplicationError
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ApplicationError = function (msg) {
    eu.ApplicationError.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Set all options in options object. If any fail, an error will be sent to the callback.
async.each(Object.keys(options), function(currentOptionName, asyncCallback) {
    appObj.setOption(currentOptionName, options[currentOptionName]);
    asyncCallback(null);
},
        function(err) {
            if (err) {
                callback(new pub.util.<span class="apidocCodeKeywordSpan">ApplicationError</span>("Could not set options when
 creating application: '" + appName + "'", err));
                return;
            }
            // Set default application fields
            var appDefaultFieldObj = appObj.getOption("appDefaultFieldObj");
            if (_.isObject(appDefaultFieldObj)) {
                for (var currentFieldName in appDefaultFieldObj) {
                    appObj.setField(
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_util.ApplicationWarning" id="apidoc.element.easyrtc.easyrtc_util.ApplicationWarning">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>ApplicationWarning
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ApplicationWarning = function (msg) {
    eu.ApplicationWarning.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
pub.createApp = function(appName, options, callback) {
if (!_.isFunction(callback)) {
    callback = function(err, appObj) {
    };
}
if (!appName || !pub.getOption("appNameRegExp").test(appName)) {
    pub.util.logWarning("Can not create application with improper name: '" + appName + "'");
    callback(new pub.util.<span class="apidocCodeKeywordSpan">ApplicationWarning</span>("Can not create application with improper
 name: '" + appName + "'"));
    return;
}
if (e.app[appName]) {
    pub.util.logWarning("Can not create application which already exists: '" + appName + "'");
    callback(new pub.util.ApplicationWarning("Can not create application which already exists: '" + appName + "
;'"));
    return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_util.ConnectionError" id="apidoc.element.easyrtc.easyrtc_util.ConnectionError">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>ConnectionError
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ConnectionError = function (msg) {
    eu.ConnectionError.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// If message structure is invalid, send error, disconnect socket, and write to log
if (!isMsgValid) {
    try{
        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
        socket.disconnect();
    }catch(e){}
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with invalid message format [" + msgErrorCode
 + "]. Disconnecting socket.", msg);
    callback(new pub.util.<span class="apidocCodeKeywordSpan">ConnectionError</span>("["+easyrtcid+"] EasyRTC Auth
 message received with invalid message format [" + msgErrorCode + "]. Disconnecting socket."));
    return;
}

// Remove any old listeners
socket.removeAllListeners("easyrtcCmd");
socket.removeAllListeners("easyrtcMsg");
socket.removeAllListeners("disconnect"); // TODO: Come up with alternative to removing all disconnect listeners
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_util.ConnectionWarning" id="apidoc.element.easyrtc.easyrtc_util.ConnectionWarning">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>ConnectionWarning
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ConnectionWarning = function (msg) {
    eu.ConnectionWarning.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   for (var key in e.app) {
       if (e.app[key].connection[easyrtcid] &amp;&amp; e.app[key].connection[easyrtcid].isAuthenticated) {
           pub.app(key, callback);
           return;
       }
   }
   pub.util.logWarning("Can not find connection [" + easyrtcid + "]");
   callback(new pub.util.<span class="apidocCodeKeywordSpan">ConnectionWarning</span>("Can not find connection [" + easyrtcid
 + "]"));
};


/**
* Sends the count of the number of connections to the server to a provided callback.
*
* @param       {function(?Error, Number)} callback Callback with error and array containing all easyrtcids.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_util.ServerError" id="apidoc.element.easyrtc.easyrtc_util.ServerError">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>ServerError
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ServerError = function (msg) {
    eu.ServerError.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*/
pub.events.setDefaultListeners = function() {
   pub.events._eventListener.removeAllListeners();
   for (var currentEventName in pub.events.defaultListeners) {
       if (_.isFunction(pub.events.defaultListeners[currentEventName])) {
           pub.events._eventListener.on(currentEventName, pub.events.defaultListeners[currentEventName]);
       } else {
           throw new pub.util.<span class="apidocCodeKeywordSpan">ServerError</span>("Error setting default listener. No default
 for event '" + currentEventName + "' exists.");
       }
   }
};


/**
* Map of EasyRTC event listener names to their default functions. This map can be used to run a default function manually.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_util.ServerWarning" id="apidoc.element.easyrtc.easyrtc_util.ServerWarning">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>ServerWarning
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ServerWarning = function (msg) {
    eu.ServerWarning.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_util.getAvailableEasyrtcid" id="apidoc.element.easyrtc.easyrtc_util.getAvailableEasyrtcid">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>getAvailableEasyrtcid
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAvailableEasyrtcid = function () {
    var newEasyrtcid = "";
    var easyrtcidExists = false;

    do {
        newEasyrtcid = g.randomString();
        easyrtcidExists = false;
        for (var key in e.app) {
            if (e.app[key].connection[newEasyrtcid]) {
                easyrtcidExists = true;
                break;
            }
        }
    } while (easyrtcidExists);

    return newEasyrtcid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            callback(null);
        },

        function(callback) {
            pub.util.logDebug("Configuring Socket server");

            pub.socketServer.sockets.on("connection", function (socket) {
var easyrtcid = pub.util.<span class="apidocCodeKeywordSpan">getAvailableEasyrtcid</span>();

pub.util.logDebug("["+easyrtcid+"]["+socket.id+"] Socket connected");
pub.util.logDebug("Emitting event 'connection'");
pub.events.emit("connection", socket, easyrtcid, function(err){
    if(err){
        socket.disconnect();
        pub.util.logError("["+easyrtcid+"] Connect error", err);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_util.isError" id="apidoc.element.easyrtc.easyrtc_util.isError">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>isError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isError = function (err) {
    if (err &amp;&amp; ((err instanceof eu.ConnectionError)||(err instanceof eu.ApplicationError)||(err instanceof eu.ServerError)||(err
 instanceof Error))) {
        return true;
    } else {
        return false;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        consoleText += currentDate.toISOString() + " - ";
    }
    consoleText += level;
    consoleText += " - " + "EasyRTC: " + logText;
}

if (logFields != undefined &amp;&amp; logFields != null) {
    if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.util.<span class="apidocCodeKeywordSpan">isError</span>(
logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.util.isWarning(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else {
        console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth
:pub.getOption("logObjectDepth")}));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_util.isWarning" id="apidoc.element.easyrtc.easyrtc_util.isWarning">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>isWarning
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isWarning = function (err) {
    if (err &amp;&amp; ((err instanceof eu.ConnectionWarning)||(err instanceof eu.ApplicationWarning)||(err instanceof eu.ServerWarning))) {
        return true;
    } else {
        return false;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    consoleText += " - " + "EasyRTC: " + logText;
}

if (logFields != undefined &amp;&amp; logFields != null) {
    if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.util.isError(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.util.<span class="apidocCodeKeywordSpan">isWarning
</span>(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else {
        console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth
:pub.getOption("logObjectDepth")}));
    }
} else {
    console.log(consoleText);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.easyrtc_util.socketDisconnect" id="apidoc.element.easyrtc.easyrtc_util.socketDisconnect">
        function <span class="apidocSignatureSpan">easyrtc.easyrtc_util.</span>socketDisconnect
        <span class="apidocSignatureSpan">(socket)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">socketDisconnect = function (socket) {
    try {
        socket.disconnect();
    } catch(err) {
        eu.log("debug", "Socket disconnection command failed. Socket may already be disconnected.");
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.events" id="apidoc.module.easyrtc.events">module easyrtc.events</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.events.emit" id="apidoc.element.easyrtc.events.emit">
        function <span class="apidocSignatureSpan">easyrtc.events.</span>emit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message: ["+JSON.stringify(msg)+"]");
    }
    catch(err) {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
    }
}

pub.events.<span class="apidocCodeKeywordSpan">emit</span>("easyrtcAuth", socket, easyrtcid, msg, socketCallback, function
(err, newConnectionObj){
    if(err){
        pub.util.logError("["+easyrtcid+"] Unhandled easyrtcCmd listener error.", err);
        return;
    }

    connectionObj = newConnectionObj;
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.emitDefault" id="apidoc.element.easyrtc.events.emitDefault">
        function <span class="apidocSignatureSpan">easyrtc.events.</span>emitDefault
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitDefault = function () {
    if (!pub.events.defaultListeners[arguments['0']]) {
        console.error("Error emitting listener. No default for event '" + arguments['0'] + "' exists.");
        return;
    }
    pub.events.defaultListeners[Array.prototype.shift.call(arguments)].apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.on" id="apidoc.element.easyrtc.events.on">
        function <span class="apidocSignatureSpan">easyrtc.events.</span>on
        <span class="apidocSignatureSpan">(eventName, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (eventName, listener) {
    if (eventName &amp;&amp; _.isFunction(listener)) {
        pub.events._eventListener.removeAllListeners(eventName);
        pub.events._eventListener.on(eventName, listener);
    }
    else {
        pub.util.logError("Unable to add listener to event '" + eventName + "'");
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param       {String} easyrtcid      Unique identifier for an EasyRTC connection.
 * @param       {nextCallback} next     A success callback of form next(err).
 */
eventListener.onConnection = function(socket, easyrtcid, next){
    var connectionObj = {};             // prepare variables to house the connection object

    // Initially upon a connection, we are only concerned with receiving an easyrtcAuth message
    socket.<span class="apidocCodeKeywordSpan">on</span>("easyrtcAuth", function(msg, socketCallback) {

if (pub.getOption("logMessagesEnable")) {
    try {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message: ["+JSON.stringify(msg)+"]");
    }
    catch(err) {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.removeAllListeners" id="apidoc.element.easyrtc.events.removeAllListeners">
        function <span class="apidocSignatureSpan">easyrtc.events.</span>removeAllListeners
        <span class="apidocSignatureSpan">(eventName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (eventName) {
    if (eventName) {
        pub.events.setDefaultListener(eventName);
    } else {
        pub.events.setDefaultListeners();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }catch(e){}
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with invalid message format [" + msgErrorCode
 + "]. Disconnecting socket.", msg);
    callback(new pub.util.ConnectionError("["+easyrtcid+"] EasyRTC Auth message received with invalid message format
 [" + msgErrorCode + "]. Disconnecting socket."));
    return;
}

// Remove any old listeners
socket.<span class="apidocCodeKeywordSpan">removeAllListeners</span>("easyrtcCmd");
socket.removeAllListeners("easyrtcMsg");
socket.removeAllListeners("disconnect"); // TODO: Come up with alternative to removing all disconnect listeners

pub.util.logDebug("Emitting Authenticate");

var username    = (msg.msgData.username     ? msg.msgData.username  : null);
var credential  = (msg.msgData.credential   ? msg.msgData.credential: null);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.setDefaultListener" id="apidoc.element.easyrtc.events.setDefaultListener">
        function <span class="apidocSignatureSpan">easyrtc.events.</span>setDefaultListener
        <span class="apidocSignatureSpan">(eventName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDefaultListener = function (eventName) {
    if (!_.isFunction(pub.events.defaultListeners[eventName])) {
        console.error("Error setting default listener. No default for event '" + eventName + "' exists.");
    }
    pub.events._eventListener.removeAllListeners(eventName);
    pub.events._eventListener.on(eventName, pub.events.defaultListeners[eventName]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Removes all listeners for an event. If there is a default EasyRTC listener, it will be added. If eventName is `null`, all events
 will be removed than the defaults will be restored.
 *
 * @param       {?string} eventName     Listener name. If `null`, then all events will be removed.
 */
pub.events.removeAllListeners = function(eventName) {
    if (eventName) {
        pub.events.<span class="apidocCodeKeywordSpan">setDefaultListener</span>(eventName);
    } else {
        pub.events.setDefaultListeners();
    }
};


/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.setDefaultListeners" id="apidoc.element.easyrtc.events.setDefaultListeners">
        function <span class="apidocSignatureSpan">easyrtc.events.</span>setDefaultListeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDefaultListeners = function () {
    pub.events._eventListener.removeAllListeners();
    for (var currentEventName in pub.events.defaultListeners) {
        if (_.isFunction(pub.events.defaultListeners[currentEventName])) {
            pub.events._eventListener.on(currentEventName, pub.events.defaultListeners[currentEventName]);
        } else {
            throw new pub.util.ServerError("Error setting default listener. No default for event '" + currentEventName + "' exists
.");
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @param       {?string} eventName     Listener name. If `null`, then all events will be removed.
*/
pub.events.removeAllListeners = function(eventName) {
   if (eventName) {
       pub.events.setDefaultListener(eventName);
   } else {
       pub.events.<span class="apidocCodeKeywordSpan">setDefaultListeners</span>();
   }
};


/**
* General utility functions are grouped in this util object.  For convenience, this class has also been attached to the application
, connection, session, and room classes.
* @class
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.events.defaultListeners" id="apidoc.module.easyrtc.events.defaultListeners">module easyrtc.events.defaultListeners</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.authenticate" id="apidoc.element.easyrtc.events.defaultListeners.authenticate">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>authenticate
        <span class="apidocSignatureSpan">(socket, easyrtcid, appName, username, credential, easyrtcAuthMessage, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">authenticate = function (socket, easyrtcid, appName, username, credential, easyrtcAuthMessage, next) {
    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.authenticated" id="apidoc.element.easyrtc.events.defaultListeners.authenticated">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>authenticated
        <span class="apidocSignatureSpan">(connectionObj, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">authenticated = function (connectionObj, next) {
    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.connection" id="apidoc.element.easyrtc.events.defaultListeners.connection">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>connection
        <span class="apidocSignatureSpan">(socket, easyrtcid, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">connection = function (socket, easyrtcid, next){
    var connectionObj = {};             // prepare variables to house the connection object

    // Initially upon a connection, we are only concerned with receiving an easyrtcAuth message
    socket.on("easyrtcAuth", function(msg, socketCallback) {

        if (pub.getOption("logMessagesEnable")) {
            try {
                pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message: ["+JSON.stringify(msg)+"]");
            }
            catch(err) {
                pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
            }
        }

        pub.events.emit("easyrtcAuth", socket, easyrtcid, msg, socketCallback, function(err, newConnectionObj){
            if(err){
                pub.util.logError("["+easyrtcid+"] Unhandled easyrtcCmd listener error.", err);
                return;
            }

            connectionObj = newConnectionObj;
        });
    });

    pub.util.logDebug("Running func 'onConnection'");
    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                case "offer":
                case "answer":
                case "reject":
                case "hangup":
// Relay message to targetEasyrtcid
var outgoingMsg = {senderEasyrtcid: connectionObj.getEasyrtcid(), msgData:msg.msgData};

connectionObj.getApp().<span class="apidocCodeKeywordSpan">connection</span>(msg.targetEasyrtcid, function(err,targetConnectionObj
){
    if (err){
        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_TARGET_EASYRTCID"),
appObj);
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Could not
 send WebRTC signal to client [" + msg.targetEasyrtcid + "]. They may no longer be online.");
        return;
    }
    pub.events.emit("emitEasyrtcCmd", targetConnectionObj, msg.msgType, outgoingMsg, null, next);
    pub.util.sendSocketCallbackAck(easyrtcid, socketCallback, appObj);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.disconnect" id="apidoc.element.easyrtc.events.defaultListeners.disconnect">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>disconnect
        <span class="apidocSignatureSpan">(connectionObj, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disconnect = function (connectionObj, next){
    pub.util.logDebug("Running func 'onDisconnect'");

    async.waterfall([
        function(asyncCallback) {
            // Get array of rooms
            connectionObj.getRoomNames(asyncCallback);
        },
        function(roomNames, asyncCallback) {
            // leave all rooms
            async.each(roomNames,
                function(currentRoomName, asyncEachCallback) {
                    pub.events.emit("roomLeave", connectionObj, currentRoomName, function(err){asyncEachCallback(null);});
                },
                function(err){
                    asyncCallback(null);
                }
            );
        },
        function(asyncCallback) {
            // log all connections as ended
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Disconnected");
            connectionObj.removeConnection(asyncCallback);
        }
    ], function(err) {
        next(null);
    });

    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var appName;
var newAppName = (_.isObject(msg.msgData) &amp;&amp;_.isString(msg.msgData.applicationName)) ? msg.msgData.applicationName : pub
.getOption("appDefaultName");

// Ensure socketCallback is present
if(!_.isFunction(socketCallback)) {
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with no callback. Disconnecting socket."
;, msg);
    try{socket.<span class="apidocCodeKeywordSpan">disconnect</span>();}catch(e){}
    return;
}

// Only accept authenticate message
if(!_.isObject(msg) || !_.isString(msg.msgType) || msg.msgType != "authenticate") {
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received without msgType of 'authenticate'
;. Disconnecting socket.", msg);
    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("LOGIN_BAD_AUTH"), appObj);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.easyrtcAuth" id="apidoc.element.easyrtc.events.defaultListeners.easyrtcAuth">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>easyrtcAuth
        <span class="apidocSignatureSpan">(socket, easyrtcid, msg, socketCallback, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">easyrtcAuth = function (socket, easyrtcid, msg, socketCallback, callback){
    pub.util.logDebug("["+easyrtcid+"] Running func 'onEasyrtcAuth'");

    var appObj, connectionObj, sessionObj;  // prepare variables to house the application, connection, and session objects

    var tokenMsg = {
        msgType: "token",
        msgData:{}
    };

    var appName;
    var newAppName = (_.isObject(msg.msgData) &amp;&amp;_.isString(msg.msgData.applicationName)) ? msg.msgData.applicationName : pub.getOption
("appDefaultName");

    // Ensure socketCallback is present
    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with no callback. Disconnecting socket.", msg);
        try{socket.disconnect();}catch(e){}
        return;
    }

    // Only accept authenticate message
    if(!_.isObject(msg) || !_.isString(msg.msgType) || msg.msgType != "authenticate") {
        pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received without msgType of 'authenticate'. Disconnecting socket
.", msg);
        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("LOGIN_BAD_AUTH"), appObj);
        try{socket.disconnect();}catch(e){}
        return;
    }

    // Check msg structure.
    if(!_.isObject(msg.msgData)
        || !_.isString(msg.msgData.apiVersion)
        || (msg.msgData.roomJoin !== undefined &amp;&amp; !_.isObject(msg.msgData.roomJoin))
    ) {
        pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with improper msgData. Disconnecting socket.", msg);
        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("LOGIN_BAD_STRUCTURE"), appObj);
        try{socket.disconnect();}catch(e){}
        return;
    }

    async.waterfall([
        function(asyncCallback) {
            // Check message structure
            pub.util.isValidIncomingMessage("easyrtcAuth", msg, null, asyncCallback);
        },

        function(isMsgValid, msgErrorCode, asyncCallback) {
            // If message structure is invalid, send error, disconnect socket, and write to log
            if (!isMsgValid) {
                try{
                    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
                    socket.disconnect();
                }catch(e){}
                pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with invalid message format [" + msgErrorCode
 + "]. Disconnecting socket.", msg);
                callback(new pub.util.ConnectionError("["+easyrtcid+"] EasyRTC Auth message received with invalid message format
 [" + msgErrorCode + "]. Disconnecting socket."));
                return;
            }

            // Remove any old listeners
            socket.removeAllListeners("easyrtcCmd");
            socket.removeAllListeners("easyrtcMsg");
            socket.removeAllListeners("disconnect"); // TODO: Come up with alternative to removing all disconnect listeners

            pub.util.logDebug("Emitting Authenticate");

            var username    = (msg.msgData.username     ? msg.msgData.username  : null);
            var credential  = (msg.msgData.credential   ? msg.msgData.credential: null);

            // Authenticate is responsible for authenticating the connection
            pub.events.emit("authenticate", socket, easyrtcid, newAppName, username, credential, msg, function(err){
                if (err) {
                    try{
                        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("LOGIN_BAD_AUTH"), appObj
);
                        socket.disconnect();
                        pub.util.logInfo("["+newAppName+"]["+easyrtcid+"] Authentication denied. Socket disconnected.", err);
                    }catch(e){}
                } else {
                    asyncCallback(null);
                }
            });
        },

        function(asyncCallback) {
            // Check to see if the requested app currently exists.
            pub.isApp(newAppName, asyncCallback);

        },

        functi ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.easyrtcCmd" id="apidoc.element.easyrtc.events.defaultListeners.easyrtcCmd">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>easyrtcCmd
        <span class="apidocSignatureSpan">(connectionObj, msg, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">easyrtcCmd = function (connectionObj, msg, socketCallback, next){
    var appName = connectionObj.getAppName();
    var appObj = connectionObj.getApp();
    var easyrtcid = connectionObj.getEasyrtcid();


    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC command received with msgType [" +
msg.msgType + "]");
    if (!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC command message received
 with no callback. Ignoring.", msg);
        return;
    }

    async.waterfall([
        function(asyncCallback) {
            // Check message structure
            pub.util.isValidIncomingMessage("easyrtcCmd", msg, connectionObj.getApp(), asyncCallback);
        },

        function(isMsgValid, msgErrorCode, asyncCallback) {
            // If message structure is invalid, send error, and write to log
            if (!isMsgValid) {
                try{
                    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
                }catch(e){}
                pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC Auth message received
 with invalid message format [" + msgErrorCode + "]. Disconnecting socket.", msg);
                return;
            }
            asyncCallback(null);
        },
        function(asyncCallback) {
            // The msgType controls how each message is handled
            switch(msg.msgType) {
                case "setUserCfg":
                    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] WebRTC setUserCfg command
 received. This feature is not yet complete.");
                    pub.util.sendSocketCallbackAck(easyrtcid, socketCallback, appObj);
                    next(null);
                    break;

                case "setPresence":
                    pub.events.emit("msgTypeSetPresence", connectionObj, msg.msgData.setPresence, socketCallback, next);
                    break;

                case "setRoomApiField":
                    pub.events.emit("msgTypeSetRoomApiField", connectionObj, msg.msgData.setRoomApiField, socketCallback, next);
                    break;

                case "roomJoin":
                    pub.events.emit("msgTypeRoomJoin", connectionObj, msg.msgData.roomJoin, socketCallback, next);
                    break;

                case "roomLeave":
                    pub.events.emit("msgTypeRoomLeave", connectionObj, msg.msgData.roomLeave, socketCallback, next);
                    break;

                case "getIceConfig":
                    pub.events.emit("msgTypeGetIceConfig", connectionObj, socketCallback, next);
                    break;

                case "getRoomList":
                    pub.events.emit("msgTypeGetRoomList", connectionObj, socketCallback, next);
                    break;

                case "candidate":
                case "offer":
                case "answer":
                case "reject":
                case "hangup":
                    // Relay message to targetEasyrtcid
                    var outgoingMsg = {senderEasyrtcid: connectionObj.getEasyrtcid(), msgData:msg.msgData};

                    connectionObj.getApp().connection(msg.targetEasyrtcid, function(err,targetConnectionObj){
                        if (err){
                            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_TARGET_EASYRTCID
"), appObj);
                            pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Could not send
 WebRTC signal to client [" + msg.targetEasyrtcid + "]. They may no longer be online.");
                            return;
                        }
                        pub.events.emit("emitEasyrtcCmd", targetConnectionObj, msg.msgType, outgoingMsg, null, next);
                        pub ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.easyrtcMsg" id="apidoc.element.easyrtc.events.defaultListeners.easyrtcMsg">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>easyrtcMsg
        <span class="apidocSignatureSpan">(connectionObj, msg, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">easyrtcMsg = function (connectionObj, msg, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();


    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message received of type [" +
msg.msgType + "]");

    if (!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message received with no
 callback. Ignoring message.", msg);
        return;
    }

    async.waterfall([
        function(asyncCallback) {
            // Check message structure
            pub.util.isValidIncomingMessage("easyrtcMsg", msg, connectionObj.getApp(), asyncCallback);
        },

        function(isMsgValid, msgErrorCode, asyncCallback) {
            // If message structure is invalid, send error, and write to log
            if (!isMsgValid) {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
                pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message received
 with invalid message format [" + msgErrorCode + "].", msg);
                return;
            }
            asyncCallback(null);
        },
        function(asyncCallback) {

            // test targetEasyrtcid (if defined). Will prevent client from sending to themselves
            if (msg.targetEasyrtcid  !== undefined &amp;&amp; msg.targetEasyrtcid == connectionObj.getEasyrtcid()) {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_TARGET_EASYRTCID"), appObj
);
                pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message received
 with improper targetEasyrtcid", msg);
                return;
            }

            // Determine if sending message to single client, an entire room, or an entire group
            if (msg.targetEasyrtcid !== undefined) {
                // Relay a message to a single client
                var outgoingMsg = {
                    senderEasyrtcid: connectionObj.getEasyrtcid(),
                    targetEasyrtcid: msg.targetEasyrtcid,
                    msgType: msg.msgType,
                    msgData: msg.msgData
                };
                var targetConnectionObj = {};

                async.waterfall([
                    function(asyncCallback) {
                        // getting connection object for targetEasyrtcid
                        connectionObj.getApp().connection(msg.targetEasyrtcid, asyncCallback);
                    },
                    function(newTargetConnectionObj, asyncCallback) {
                        targetConnectionObj = newTargetConnectionObj;

                        // TODO: Add option to restrict users not in same room from sending messages to users in room

                        // Handle targetRoom (if present)
                        if (msg.targetRoom) {
                            targetConnectionObj.isInRoom(msg.targetRoom, function(err, isAllowed){
                                if (err || !isAllowed) {
                                    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_TARGET_ROOM
"), appObj);
                                    pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC
 message received with improper target room", msg);
                                    return;
                                }
                                outgoingMsg.targetRoom = msg.targetRoom;
                                asyncCallback(null);
                            });
                        }
                        else {
                            asyncCallback(null);
                        }
                    },

                    function(asyncCallback) {
                        // Handle targetGroup (if present) ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.emitEasyrtcCmd" id="apidoc.element.easyrtc.events.defaultListeners.emitEasyrtcCmd">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>emitEasyrtcCmd
        <span class="apidocSignatureSpan">(connectionObj, msgType, msg, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitEasyrtcCmd = function (connectionObj, msgType, msg, socketCallback, next){
    if (!_.isObject(connectionObj)){
        next(new pub.util.ConnectionError("Connection object invalid. Client may have disconnected."));
        return;
    }

    var easyrtcid = connectionObj.getEasyrtcid();
    var appName = connectionObj.getAppName();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onEmitEasyrtcCmd' with msgType
 ["+msgType+"]");
    if (!msg) {
        msg = {};
    }
    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            if (_.isObject(returnMsg) &amp;&amp; _.isString(returnMsg.msgType) &amp;&amp; returnMsg.msgType == "ack"){
                // pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message: unhandled
 Ack return message.");
            }
            else {
                pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message: unhandled
 return message.", returnMsg);
            }
        };
    }

    msg.easyrtcid   = connectionObj.getEasyrtcid();
    msg.msgType     = msgType;
    msg.serverTime  = Date.now();

    connectionObj.socket.emit( "easyrtcCmd", msg, socketCallback);

    if (pub.getOption("logMessagesEnable")) {
        try {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Sending socket.io message: ["+JSON.stringify(msg)+"]");
        }
        catch(err) {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Sending socket.io message");
        }
    }

    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.emitEasyrtcMsg" id="apidoc.element.easyrtc.events.defaultListeners.emitEasyrtcMsg">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>emitEasyrtcMsg
        <span class="apidocSignatureSpan">(connectionObj, msgType, msg, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitEasyrtcMsg = function (connectionObj, msgType, msg, socketCallback, next){
    if (!_.isObject(connectionObj)){
        next(new pub.util.ConnectionError("Connection object invalid. Client may have disconnected."));
        return;
    }

    var easyrtcid = connectionObj.getEasyrtcid();
    var appName = connectionObj.getAppName();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onEmitEasyrtcMsg' with msgType
 ["+msgType+"]");


    if (!msg) {
        msg = {};
    }
    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            if (_.isObject(returnMsg) &amp;&amp; _.isString(returnMsg.msgType) &amp;&amp; returnMsg.msgType == "ack"){
                // pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message: unhandled
 Ack return message.");
            }
            else {
                pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC message: unhandled
 return message.", returnMsg);
            }
        };
    }
    msg.easyrtcid   = connectionObj.getEasyrtcid();
    msg.msgType     = msgType;
    msg.serverTime  = Date.now();

    connectionObj.socket.emit( "easyrtcMsg", msg, socketCallback);

    if (pub.getOption("logMessagesEnable")) {
        try {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Sending socket.io message: ["+JSON.stringify(msg)+"]");
        }
        catch(err) {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Sending socket.io message");
        }
    }

    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.emitError" id="apidoc.element.easyrtc.events.defaultListeners.emitError">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>emitError
        <span class="apidocSignatureSpan">(connectionObj, errorCode, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitError = function (connectionObj, errorCode, socketCallback, next){
    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onEmitError'");
    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled ACK return
 message.", returnMsg);
        };
    }
    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    pub.events.emit("emitEasyrtcCmd", connectionObj, "error", pub.util.getErrorMsg(errorCode), socketCallback, next);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.emitReturnAck" id="apidoc.element.easyrtc.events.defaultListeners.emitReturnAck">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>emitReturnAck
        <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitReturnAck = function (connectionObj, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onEmitReturnAck'");
    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC: unable to return ack to
 socket.");
        return;
    }
    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    var msg = {
        msgType: "ack",
        msgData:{}
    };

    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, msg, appObj);

    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.emitReturnError" id="apidoc.element.easyrtc.events.defaultListeners.emitReturnError">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>emitReturnError
        <span class="apidocSignatureSpan">(connectionObj, socketCallback, errorCode, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitReturnError = function (connectionObj, socketCallback, errorCode, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onEmitReturnError'");
    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC: unable to return error
to socket. Error code was [" + errorCode + "]");

        next(new pub.util.ConnectionError("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Unable to return error
 to socket. Error code was [" + errorCode + "]"));
        return;
    }
    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    var msg = pub.util.getErrorMsg(errorCode);

    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, msg, appObj);

    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.emitReturnToken" id="apidoc.element.easyrtc.events.defaultListeners.emitReturnToken">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>emitReturnToken
        <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitReturnToken = function (connectionObj, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onSendToken'");

    var tokenMsg = {
        msgType: "token",
        msgData:{}
    };

    // Ensure socketCallback is present
    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC onSendToken called with
no socketCallback.");
        try{connectionObj.socket.disconnect();}catch(e){}
        return;
    }

    async.waterfall([
        function(asyncCallback){
            // Get rooms user is in along with list
            connectionObj.generateRoomClientList("join", null, asyncCallback);
        },
        function(roomData, asyncCallback) {
            // Set roomData
            tokenMsg.msgData.roomData = roomData;

            // Retrieve ice config
            connectionObj.events.emit("getIceConfig", connectionObj, asyncCallback);
        },

        function(iceServers, asyncCallback) {
            tokenMsg.msgData.application        = {applicationName:connectionObj.getAppName()};
            tokenMsg.msgData.easyrtcid          = connectionObj.getEasyrtcid();
            tokenMsg.msgData.iceConfig          = {iceServers: iceServers};
            tokenMsg.msgData.serverTime         = Date.now();

            easyrtcid = tokenMsg.msgData.easyrtcid;

            // Get Application fields
            appObj.getFields(true, asyncCallback);
        },

        function(fieldObj, asyncCallback) {
            if (!_.isEmpty(fieldObj)){
                tokenMsg.msgData.application.field = fieldObj;
            }

            // Get Connection fields
            connectionObj.getFields(true, asyncCallback);
        },

        function(fieldObj, asyncCallback) {
            if (!_.isEmpty(fieldObj)){
                tokenMsg.msgData.field = fieldObj;
            }

            // get session object
            connectionObj.getSessionObj(asyncCallback);
        },

        function(sessionObj, asyncCallback) {
            if (sessionObj) {
                tokenMsg.msgData.sessionData = {"easyrtcsid":sessionObj.getEasyrtcsid()};

                // Get session fields
                sessionObj.getFields(true, asyncCallback);
            }
            else {
                asyncCallback(null, null);
            }
        },

        function(fieldObj, asyncCallback) {
            // Set session field (if present)
            if (fieldObj &amp;&amp; !_.isEmpty(fieldObj)){
                tokenMsg.msgData.sessionData.field = fieldObj;
            }

            // Emit token back to socket (SUCCESS!)
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, tokenMsg, appObj);

            asyncCallback(null);
        }

    ],
    // This function is called upon completion of the async waterfall, or upon an error being thrown.
    function (err) {
        if (err){
            next(err);
        } else {
            next(null);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.getIceConfig" id="apidoc.element.easyrtc.events.defaultListeners.getIceConfig">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>getIceConfig
        <span class="apidocSignatureSpan">(connectionObj, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getIceConfig = function (connectionObj, callback){
    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onGetIceConfig'");
    callback(null, connectionObj.getApp().getOption("appIceServers"));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.log" id="apidoc.element.easyrtc.events.defaultListeners.log">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>log
        <span class="apidocSignatureSpan">(level, logText, logFields, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function (level, logText, logFields, next) {
    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    var consoleText = "";

    var currentDate = new Date();
    if (pub.getOption("logColorEnable")) {
        var colors = require("colors");
        if(pub.getOption("logDateEnable")) {
            consoleText += currentDate.toISOString().grey + " - ";
        }
        switch (level) {
            case "debug":
                consoleText += "debug  ".bold.blue;
                break;
            case "info":
                consoleText += "info   ".bold.green;
                break;
            case "warning":
                consoleText += "warning".bold.yellow;
                break;
            case "error":
                consoleText += "error  ".bold.red;
                break;
            default:
                consoleText += level.bold;
        }
        consoleText += " - " + "EasyRTC: ".bold + logText;
    }
    else {
        if(pub.getOption("logDateEnable")) {
            consoleText += currentDate.toISOString() + " - ";
        }
        consoleText += level;
        consoleText += " - " + "EasyRTC: " + logText;
    }

    if (logFields != undefined &amp;&amp; logFields != null) {
        if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.util.isError(logFields)) {
            console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold + logFields.stack
.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
        }
        else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.util.isWarning(logFields)) {
            console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold + logFields.stack
.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
        }
        else {
            console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth:pub
.getOption("logObjectDepth")}));
        }
    } else {
        console.log(consoleText);
    }
    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
    consoleText += level;
    consoleText += " - " + "EasyRTC: " + logText;
}

if (logFields != undefined &amp;&amp; logFields != null) {
    if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.util.isError(logFields)) {
        console.<span class="apidocCodeKeywordSpan">log</span>(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold + logFields.stack.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.util.isWarning(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else {
        console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth
:pub.getOption("logObjectDepth")}));
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.msgTypeGetIceConfig" id="apidoc.element.easyrtc.events.defaultListeners.msgTypeGetIceConfig">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>msgTypeGetIceConfig
        <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">msgTypeGetIceConfig = function (connectionObj, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onMsgTypeGetIceConfig'");

    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled ACK return
 message.", returnMsg);
        };
    }

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    connectionObj.events.emit("getIceConfig", connectionObj, function(err, iceConfigObj){
        if (err) {
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_GEN_FAIL"), appObj);
        }
        else {
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"iceConfig", "msgData":{"iceConfig":{"iceServers
":iceConfigObj}}}, appObj);
        }
        next(null);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.msgTypeGetRoomList" id="apidoc.element.easyrtc.events.defaultListeners.msgTypeGetRoomList">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>msgTypeGetRoomList
        <span class="apidocSignatureSpan">(connectionObj, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">msgTypeGetRoomList = function (connectionObj, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onMsgTypeGetRoomList'");

    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled ACK return
 message.", returnMsg);
        };
    }

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    connectionObj.generateRoomList(
        function(err, roomList) {
            if(err) {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_NO_ROOM_LIST"), appObj
);
            }
            else {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"roomList", "msgData":{"roomList":roomList}},
appObj);
            }
            next(null);
        }
    );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.msgTypeRoomJoin" id="apidoc.element.easyrtc.events.defaultListeners.msgTypeRoomJoin">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>msgTypeRoomJoin
        <span class="apidocSignatureSpan">(connectionObj, rooms, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">msgTypeRoomJoin = function (connectionObj, rooms, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onMsgTypeRoomJoin'");
    if(!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled socket message
 callback.");
        return;
    }

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    if(!_.isObject(rooms) || _.isEmpty(rooms)) {
        pub.events.emit("emitReturnError", socketCallback, "MSG_REJECT_BAD_STRUCTURE", pub.util.nextToNowhere);
        return;
    }

    for (var currentRoomName in rooms) {
        if (!_.isString(currentRoomName) || !connectionObj.getApp().getOption("roomNameRegExp").test(currentRoomName)) {
            pub.events.emit("emitReturnError", socketCallback, "MSG_REJECT_TARGET_ROOM", pub.util.nextToNowhere);
            return;
        }
    }

    async.each(Object.keys(rooms), function(currentRoomName, roomCallback) {
        appObj.isRoom(currentRoomName, function(err, isRoom){

            // Set roomParameter map. This may be used by custom listeners.
            var currentRoomParameter;
            if (rooms[currentRoomName] &amp;&amp; _.isObject(rooms[currentRoomName].roomParameter)){
                currentRoomParameter = rooms[currentRoomName].roomParameter;
            }

            if (isRoom) {
                pub.events.emit("roomJoin", connectionObj, currentRoomName, currentRoomParameter, roomCallback);
            }
            else if (appObj.getOption("roomAutoCreateEnable")) {
                pub.events.emit("roomCreate", appObj, connectionObj, currentRoomName, null, function(err, roomObj){
                    if (err) {
                        roomCallback(err);
                        return;
                    }
                    pub.events.emit("roomJoin", connectionObj, currentRoomName, currentRoomParameter, roomCallback);
                });
            }
            else {
                pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"]["+currentRoomName+"] Unable
 to join non-existent room.");
                roomCallback(new pub.util.ConnectionError("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"]["+
currentRoomName+"] Unable to join room."));
            }
        });
    }, function(err, newRoomObj) {
        if (err) {
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_BAD_ROOM"), appObj);
            next(null); // Error has been handled
            return;
        }

        connectionObj.generateRoomClientList("join", rooms, function(err, roomData){
            if (err) {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_BAD_ROOM"), appObj);
                next(null); // Error has been handled
            }
            else {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"roomData", "msgData":{"roomData":roomData}},
appObj);
            }
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.msgTypeRoomLeave" id="apidoc.element.easyrtc.events.defaultListeners.msgTypeRoomLeave">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>msgTypeRoomLeave
        <span class="apidocSignatureSpan">(connectionObj, rooms, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">msgTypeRoomLeave = function (connectionObj, rooms, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onMsgTypeRoomLeave' with
 rooms: ",rooms);
    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled ACK return
 message.", returnMsg);
        };
    }

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    // Loop through each room in the rooms object. Emit the leaveRoom event for each one.
    async.each(Object.keys(rooms), function(currentRoomName, asyncCallback) {
        connectionObj.events.emit("roomLeave", connectionObj, currentRoomName, function(err){
            if (err) {
                pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Error leaving room ["+currentRoomName
+"].", err);
            }
            asyncCallback(null);
        });
    }, function(err, newRoomObj) {
        var roomData = {};
        for (var currentRoomName in rooms) {
            roomData[currentRoomName]={
                "roomName":     currentRoomName,
                "roomStatus":   "leave"
            };
        }
        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"roomData", "msgData":{"roomData":roomData}}, appObj
);
        next(null);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.msgTypeSetPresence" id="apidoc.element.easyrtc.events.defaultListeners.msgTypeSetPresence">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>msgTypeSetPresence
        <span class="apidocSignatureSpan">(connectionObj, presenceObj, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">msgTypeSetPresence = function (connectionObj, presenceObj, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onMsgTypeSetPresence' with
 setPresence: ",presenceObj);
    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled ACK return
 message.", returnMsg);
        };
    }

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    connectionObj.setPresence(
        presenceObj,
        function(err){
            if (err) {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_PRESENCE"), appObj);
            }
            else {
                connectionObj.emitRoomDataDelta(false, function(err, roomDataObj){
                    if (err) {
                        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_PRESENCE"), appObj
);
                    }
                    else {
                        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"roomData", "msgData":{"roomData":roomDataObj
}}, appObj);
                    }
                });
            }
            next(null);
        }
    );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.msgTypeSetRoomApiField" id="apidoc.element.easyrtc.events.defaultListeners.msgTypeSetRoomApiField">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>msgTypeSetRoomApiField
        <span class="apidocSignatureSpan">(connectionObj, roomApiFieldObj, socketCallback, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">msgTypeSetRoomApiField = function (connectionObj, roomApiFieldObj, socketCallback, next){
    var easyrtcid = connectionObj.getEasyrtcid();
    var appObj = connectionObj.getApp();

    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onMsgTypeSetRoomApiField
' with apiFieldObj: ",roomApiFieldObj);
    if(!_.isFunction(socketCallback)) {
        socketCallback = function(returnMsg) {
            pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] EasyRTC info: unhandled ACK return
 message.", returnMsg);
        };
    }

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    connectionObj.room(roomApiFieldObj.roomName, function(err, connectionRoomObj){
        if (err) {
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_BAD_ROOM"), appObj);
            next(null);
            return;
        }
        connectionRoomObj.setApiField(roomApiFieldObj.field, function(err){
            if (err) {
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_BAD_FIELD"), appObj);
                next(null);
                return;
            }
            connectionRoomObj.emitRoomDataDelta(false, function(err, roomDataDelta){
                if (err) {
                    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("MSG_REJECT_GEN_FAIL"), appObj
);
                    next(null);
                    return;
                }

                var msg = {"msgType":"roomData", "msgData": {"roomData": {}}};
                msg.msgData.roomData[roomApiFieldObj.roomName] = roomDataDelta;
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, msg, appObj);
            });
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.roomCreate" id="apidoc.element.easyrtc.events.defaultListeners.roomCreate">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>roomCreate
        <span class="apidocSignatureSpan">(appObj, creatorConnectionObj, roomName, roomOptions, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">roomCreate = function (appObj, creatorConnectionObj, roomName, roomOptions, callback){
    pub.util.logDebug("["+appObj.getAppName()+"]" + (creatorConnectionObj?"["+creatorConnectionObj.getEasyrtcid()+"]":"") +  " Room
 ["+ roomName +"] Running func 'onRoomCreate'");
    appObj.createRoom(roomName, roomOptions, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.roomJoin" id="apidoc.element.easyrtc.events.defaultListeners.roomJoin">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>roomJoin
        <span class="apidocSignatureSpan">(connectionObj, roomName, roomParameter, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">roomJoin = function (connectionObj, roomName, roomParameter, callback){
    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onRoomJoin'");

    // roomParameter is a new field. To ease upgrading we'll just show a warning to server applications which haven't updated
    if (_.isFunction(roomParameter)){
        pub.util.logWarning("Upgrade notice: EasyRTC roomJoin event called without roomParameter object.");
        callback = roomParameter;
        roomParameter = null;
    }

    connectionObj.joinRoom(roomName, function(err, connectionRoomObj){
        if (err) {
            callback(err);
            return;
        }
        connectionRoomObj.emitRoomDataDelta(false, function(err, roomDataDelta){
            // Return connectionRoomObj regardless of if there was a problem sending out the deltas
            callback(null, connectionRoomObj);
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.roomLeave" id="apidoc.element.easyrtc.events.defaultListeners.roomLeave">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>roomLeave
        <span class="apidocSignatureSpan">(connectionObj, roomName, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">roomLeave = function (connectionObj, roomName, next){
    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Running func 'onRoomLeave' with rooms ["+
roomName+"]");

    if(!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    connectionObj.room(roomName, function(err, connectionRoomObj){
        if (err) {
            pub.util.logWarning("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Couldn't leave room [" + roomName
 + "]");
            next(err);
            return;
        }

        pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] Leave room [" + roomName + "]");
        connectionRoomObj.leaveRoom(next);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.shutdown" id="apidoc.element.easyrtc.events.defaultListeners.shutdown">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>shutdown
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shutdown = function (next){
    pub.util.logDebug("Running func 'onShutdown'");
    next(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.events.defaultListeners.startup" id="apidoc.element.easyrtc.events.defaultListeners.startup">
        function <span class="apidocSignatureSpan">easyrtc.events.defaultListeners.</span>startup
        <span class="apidocSignatureSpan">(next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">startup = function (next){
    if (!_.isFunction(next)) {
        next = pub.util.nextToNowhere;
    }

    pub.util.logDebug("Running func 'onStartup'");
    async.waterfall([
        function(callback) {
            pub.util.logDebug("Configuring Http server");

            // Set the EasyRTC demos
            if (pub.getOption("demosEnable")) {
                pub.util.logDebug("Setting up demos to be accessed from '" + pub.getOption("demosPublicFolder") + "/'");
                pub.httpApp.get(pub.getOption("demosPublicFolder") + "/*", function(req, res) {
                    (res.sendFile||res.sendfile).call(res,
                        "./demos/" + (req.params[0] ? req.params[0] : "index.html"),
                        // TODO security check
                        {root:__dirname + "/../"},
                        function(err) {
                            try{if (err &amp;&amp; err.status &amp;&amp; res &amp;&amp; !res._headerSent) {
                                res.status(404);
                                var body =    "&lt;html&gt;&lt;head&gt;&lt;title&gt;File Not Found&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;File Not Found&lt;/h1&gt;&lt;/body
&gt;&lt;/html&gt;";
                                res.setHeader("Content-Type", "text/html");
                                res.setHeader("Content-Length", body.length);
                                res.end(body);
                            }}catch(e){}
                        }
                    );
                });
                // Forward people who forget the trailing slash to the folder.
                pub.httpApp.get(pub.getOption("demosPublicFolder"), function(req, res) {res.redirect(pub.getOption("demosPublicFolder
") + "/");});
            }

            if (pub.getOption("apiEnable")) {
                // Set the EasyRTC API files
                pub.util.logDebug("Setting up API files to be accessed from '" + pub.getOption("apiPublicFolder") + "/'");
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.js",                  function(req, res) {pub.util.
sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc.js",                   {root:__dirname + "/../"});});
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc_ft.js",               function(req, res) {pub.util.
sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc_ft.js",                {root:__dirname + "/../"});});
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.css",                 function(req, res) {pub.util.
sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc.css",                  {root:__dirname + "/../"});});
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.min.js",              function(req, res) {pub.util.
sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"open_source/api/easyrtc.min.js",   {root:__dirname + "/../"});});
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc_ft.min.js",           function(req, res) {pub.util.
sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc_ft.min.js",            {root:__dirname + "/../"});});
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.min.css",             function(req, res) {pub.util.
sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"open_source/api/easyrtc.min.css",  {root:__dirname + "/../"});});
                pub.httpApp.get(pub.getOption("apiPublicFolder") + "/img/*", function(req, res) {
                    pub.util.sendSessionCookie(req, res);
                    (res.sendFile||res.sendfile).call(res,
                        "./api/img/" + (req.params[0] ? req.params[0] : "index.html"),
                        {root:__dirname + "/../"},
                        function(err) {
                            try{if (err &amp;&amp; err.status &amp;&amp; res &amp;&amp; !res._headerSent) {
                                res.status(404);
                                var body =    "&lt;html&gt;&lt;head&gt;&lt;title&gt;File Not Found&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;File ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.events.emit" id="apidoc.module.easyrtc.events.emit">module easyrtc.events.emit</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.events.emit.emit" id="apidoc.element.easyrtc.events.emit.emit">
        function <span class="apidocSignatureSpan">easyrtc.events.</span>emit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emit = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message: ["+JSON.stringify(msg)+"]");
    }
    catch(err) {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
    }
}

pub.events.<span class="apidocCodeKeywordSpan">emit</span>("easyrtcAuth", socket, easyrtcid, msg, socketCallback, function
(err, newConnectionObj){
    if(err){
        pub.util.logError("["+easyrtcid+"] Unhandled easyrtcCmd listener error.", err);
        return;
    }

    connectionObj = newConnectionObj;
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.events.emitDefault" id="apidoc.module.easyrtc.events.emitDefault">module easyrtc.events.emitDefault</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.events.emitDefault.emitDefault" id="apidoc.element.easyrtc.events.emitDefault.emitDefault">
        function <span class="apidocSignatureSpan">easyrtc.events.</span>emitDefault
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">emitDefault = function () {
    if (!pub.events.defaultListeners[arguments['0']]) {
        console.error("Error emitting listener. No default for event '" + arguments['0'] + "' exists.");
        return;
    }
    pub.events.defaultListeners[Array.prototype.shift.call(arguments)].apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.events.on" id="apidoc.module.easyrtc.events.on">module easyrtc.events.on</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.events.on.on" id="apidoc.element.easyrtc.events.on.on">
        function <span class="apidocSignatureSpan">easyrtc.events.</span>on
        <span class="apidocSignatureSpan">(eventName, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (eventName, listener) {
    if (eventName &amp;&amp; _.isFunction(listener)) {
        pub.events._eventListener.removeAllListeners(eventName);
        pub.events._eventListener.on(eventName, listener);
    }
    else {
        pub.util.logError("Unable to add listener to event '" + eventName + "'");
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param       {String} easyrtcid      Unique identifier for an EasyRTC connection.
 * @param       {nextCallback} next     A success callback of form next(err).
 */
eventListener.onConnection = function(socket, easyrtcid, next){
    var connectionObj = {};             // prepare variables to house the connection object

    // Initially upon a connection, we are only concerned with receiving an easyrtcAuth message
    socket.<span class="apidocCodeKeywordSpan">on</span>("easyrtcAuth", function(msg, socketCallback) {

if (pub.getOption("logMessagesEnable")) {
    try {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message: ["+JSON.stringify(msg)+"]");
    }
    catch(err) {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.events.removeAllListeners" id="apidoc.module.easyrtc.events.removeAllListeners">module easyrtc.events.removeAllListeners</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.events.removeAllListeners.removeAllListeners" id="apidoc.element.easyrtc.events.removeAllListeners.removeAllListeners">
        function <span class="apidocSignatureSpan">easyrtc.events.</span>removeAllListeners
        <span class="apidocSignatureSpan">(eventName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (eventName) {
    if (eventName) {
        pub.events.setDefaultListener(eventName);
    } else {
        pub.events.setDefaultListeners();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }catch(e){}
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with invalid message format [" + msgErrorCode
 + "]. Disconnecting socket.", msg);
    callback(new pub.util.ConnectionError("["+easyrtcid+"] EasyRTC Auth message received with invalid message format
 [" + msgErrorCode + "]. Disconnecting socket."));
    return;
}

// Remove any old listeners
socket.<span class="apidocCodeKeywordSpan">removeAllListeners</span>("easyrtcCmd");
socket.removeAllListeners("easyrtcMsg");
socket.removeAllListeners("disconnect"); // TODO: Come up with alternative to removing all disconnect listeners

pub.util.logDebug("Emitting Authenticate");

var username    = (msg.msgData.username     ? msg.msgData.username  : null);
var credential  = (msg.msgData.credential   ? msg.msgData.credential: null);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.events.setDefaultListener" id="apidoc.module.easyrtc.events.setDefaultListener">module easyrtc.events.setDefaultListener</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.events.setDefaultListener.setDefaultListener" id="apidoc.element.easyrtc.events.setDefaultListener.setDefaultListener">
        function <span class="apidocSignatureSpan">easyrtc.events.</span>setDefaultListener
        <span class="apidocSignatureSpan">(eventName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDefaultListener = function (eventName) {
    if (!_.isFunction(pub.events.defaultListeners[eventName])) {
        console.error("Error setting default listener. No default for event '" + eventName + "' exists.");
    }
    pub.events._eventListener.removeAllListeners(eventName);
    pub.events._eventListener.on(eventName, pub.events.defaultListeners[eventName]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * Removes all listeners for an event. If there is a default EasyRTC listener, it will be added. If eventName is `null`, all events
 will be removed than the defaults will be restored.
 *
 * @param       {?string} eventName     Listener name. If `null`, then all events will be removed.
 */
pub.events.removeAllListeners = function(eventName) {
    if (eventName) {
        pub.events.<span class="apidocCodeKeywordSpan">setDefaultListener</span>(eventName);
    } else {
        pub.events.setDefaultListeners();
    }
};


/**
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.events.setDefaultListeners" id="apidoc.module.easyrtc.events.setDefaultListeners">module easyrtc.events.setDefaultListeners</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.events.setDefaultListeners.setDefaultListeners" id="apidoc.element.easyrtc.events.setDefaultListeners.setDefaultListeners">
        function <span class="apidocSignatureSpan">easyrtc.events.</span>setDefaultListeners
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDefaultListeners = function () {
    pub.events._eventListener.removeAllListeners();
    for (var currentEventName in pub.events.defaultListeners) {
        if (_.isFunction(pub.events.defaultListeners[currentEventName])) {
            pub.events._eventListener.on(currentEventName, pub.events.defaultListeners[currentEventName]);
        } else {
            throw new pub.util.ServerError("Error setting default listener. No default for event '" + currentEventName + "' exists
.");
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @param       {?string} eventName     Listener name. If `null`, then all events will be removed.
*/
pub.events.removeAllListeners = function(eventName) {
   if (eventName) {
       pub.events.setDefaultListener(eventName);
   } else {
       pub.events.<span class="apidocCodeKeywordSpan">setDefaultListeners</span>();
   }
};


/**
* General utility functions are grouped in this util object.  For convenience, this class has also been attached to the application
, connection, session, and room classes.
* @class
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.general_util" id="apidoc.module.easyrtc.general_util">module easyrtc.general_util</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.general_util.AbstractError" id="apidoc.element.easyrtc.general_util.AbstractError">
        function <span class="apidocSignatureSpan">easyrtc.general_util.</span>AbstractError
        <span class="apidocSignatureSpan">(msg, constr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">AbstractError = function (msg, constr){
    Error.captureStackTrace(this, constr || this);
    this.message = msg || "Error";
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.general_util.checkModules" id="apidoc.element.easyrtc.general_util.checkModules">
        function <span class="apidocSignatureSpan">easyrtc.general_util.</span>checkModules
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checkModules = function () {

    var easyrtcPackage;

    try {
        easyrtcPackage = require("../package");
    }
    catch( e ) {
        console.log("ERROR: Could not load package.json from project root. This file is required for reading project properties.");
        process.exit(1);
    }

    var moduleExists = function (modName) {
        try { return require.resolve(modName); }
        catch( e ) { return false; }
    };

    var isModuleMissing = false;
    for (var key in easyrtcPackage.dependencies) {
        if (!moduleExists(key)) {
            isModuleMissing = true;
            console.log("ERROR: Missing module '" + key + "'");
        }
    }

    if (isModuleMissing) {
        console.log("ERROR: Required modules are not installed. Run 'npm install' from command line.");
        process.exit(1);
    }

    delete require.cache[easyrtcPackage];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.general_util.deepCopy" id="apidoc.element.easyrtc.general_util.deepCopy">
        function <span class="apidocSignatureSpan">easyrtc.general_util.</span>deepCopy
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deepCopy = function (input) {

    if (
        input === null || input === undefined ||
            typeof input !== "object" ||
                (input.constructor !== Object &amp;&amp; input.constructor !== Array)
    ) {
        return input;
    }

    if (
        input.constructor === Boolean ||
            input.constructor === Date ||
                input.constructor === Function ||
                    input.constructor === Number ||
                        input.constructor === RegExp ||
                            input.constructor === String
    ) {
        return new input.constructor(input);
    }

    var copy;
    if (input instanceof Array) {
        copy = [];
        for (var i = 0, len = input.length; i &lt; len; i++) {
            copy[i] = g.deepCopy(input[i]);
        }
        return copy;
    }

    if (input instanceof Object) {
        copy = {};
        for (var key in input) {
            if (input.hasOwnProperty(key)) {
                copy[key] = g.deepCopy(input[key]);
            }
        }
        return copy;
    }
    return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
pub.setOption = function(optionName, optionValue) {
   // Can only set options which currently exist
   if (typeof e.option[optionName] == "undefined") {
       pub.util.logError("Error setting option. Unrecognised option name '" + optionName + "'.");
       return false;
   }

   e.option[optionName] = pub.util.<span class="apidocCodeKeywordSpan">deepCopy</span>(optionValue);
   return true;
};


/**
* EasyRTC Event handling object which contain most methods for interacting with EasyRTC events. For convenience, this class has
also been attached to the application, connection, session, and room classes.
* @class
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.general_util.getPackageData" id="apidoc.element.easyrtc.general_util.getPackageData">
        function <span class="apidocSignatureSpan">easyrtc.general_util.</span>getPackageData
        <span class="apidocSignatureSpan">(fieldName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPackageData = function (fieldName) {
    var packageFile = require("../package");
    if (!fieldName) {
        return g.deepCopy(packageFile);
    }
    else if (packageFile[fieldName]) {
        return g.deepCopy(packageFile[fieldName]);
    }
    else {
        return null;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.general_util.randomString" id="apidoc.element.easyrtc.general_util.randomString">
        function <span class="apidocSignatureSpan">easyrtc.general_util.</span>randomString
        <span class="apidocSignatureSpan">(stringLength, chars)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">randomString = function (stringLength, chars){
    var newString = "";

    if (!chars) {
        chars = "ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz0123456789";
    }

    if (!stringLength) {
        stringLength = 16;
    }

    for (var i=0; i &lt; stringLength; i=i+1) {
        var randomNumber = Math.floor(Math.random() * chars.length);
        newString += chars.substring(randomNumber, randomNumber + 1);
    }

    return newString;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @return  {String} Available easyrtcid. A unique identifier for an EasyRTC connection.
 */
eu.getAvailableEasyrtcid = function() {
var newEasyrtcid = "";
var easyrtcidExists = false;

do {
    newEasyrtcid = g.<span class="apidocCodeKeywordSpan">randomString</span>();
    easyrtcidExists = false;
    for (var key in e.app) {
        if (e.app[key].connection[newEasyrtcid]) {
            easyrtcidExists = true;
            break;
        }
    }
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.getDefaultOptions" id="apidoc.module.easyrtc.getDefaultOptions">module easyrtc.getDefaultOptions</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.getDefaultOptions.getDefaultOptions" id="apidoc.element.easyrtc.getDefaultOptions.getDefaultOptions">
        function <span class="apidocSignatureSpan">easyrtc.</span>getDefaultOptions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDefaultOptions = function () {
    var defaultOptions = require("./easyrtc_default_options");
    return g.deepCopy(defaultOptions);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.listen" id="apidoc.module.easyrtc.listen">module easyrtc.listen</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.listen.listen" id="apidoc.element.easyrtc.listen.listen">
        function <span class="apidocSignatureSpan">easyrtc.</span>listen
        <span class="apidocSignatureSpan">(httpApp, socketServer, options, listenCallback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listen = function (httpApp, socketServer, options, listenCallback) {
    pub.util.logInfo("Starting EasyRTC Server (v" + pub.getVersion() +") on Node (" + process.version + ")");

    // Set server object references in public object
    pub.httpApp         = httpApp;
    pub.socketServer    = socketServer;

    if (options){
        pub.util.logDebug("Overriding options", options);

        for (var optionName in options) {
            pub.setOption(optionName, options[optionName]);
        }
    }

    pub.util.logDebug("Emitting event 'startup'");
    pub.events.emit("startup", function(err) {
        if (err) {
            pub.util.logError("Error occurred upon startup", err);
            if(_.isFunction(listenCallback)) {
                listenCallback(err, null);
            }
        }
        else {
            pub.util.logInfo("EasyRTC Server Ready For Connections (v"+ pub.getVersion() + ")");
            if(_.isFunction(listenCallback)) {
                listenCallback(err, pub);
            }
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.on" id="apidoc.module.easyrtc.on">module easyrtc.on</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.on.on" id="apidoc.element.easyrtc.on.on">
        function <span class="apidocSignatureSpan">easyrtc.</span>on
        <span class="apidocSignatureSpan">(event, listener)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (event, listener) {
    if (event &amp;&amp; _.isFunction(listener)) {
        pub.events.removeAllListeners(event);
        pub.events.on(event, listener);
    }
    else {
        pub.util.logError("Unable to add listener to event '" + event + "'");
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param       {String} easyrtcid      Unique identifier for an EasyRTC connection.
 * @param       {nextCallback} next     A success callback of form next(err).
 */
eventListener.onConnection = function(socket, easyrtcid, next){
    var connectionObj = {};             // prepare variables to house the connection object

    // Initially upon a connection, we are only concerned with receiving an easyrtcAuth message
    socket.<span class="apidocCodeKeywordSpan">on</span>("easyrtcAuth", function(msg, socketCallback) {

if (pub.getOption("logMessagesEnable")) {
    try {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message: ["+JSON.stringify(msg)+"]");
    }
    catch(err) {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.removeAllListeners" id="apidoc.module.easyrtc.removeAllListeners">module easyrtc.removeAllListeners</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.removeAllListeners.removeAllListeners" id="apidoc.element.easyrtc.removeAllListeners.removeAllListeners">
        function <span class="apidocSignatureSpan">easyrtc.</span>removeAllListeners
        <span class="apidocSignatureSpan">(event)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">removeAllListeners = function (event) {
    if (event) {
        pub.events.removeAllListeners(event);
        pub.events.setDefaultListener(event);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }catch(e){}
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with invalid message format [" + msgErrorCode
 + "]. Disconnecting socket.", msg);
    callback(new pub.util.ConnectionError("["+easyrtcid+"] EasyRTC Auth message received with invalid message format
 [" + msgErrorCode + "]. Disconnecting socket."));
    return;
}

// Remove any old listeners
socket.<span class="apidocCodeKeywordSpan">removeAllListeners</span>("easyrtcCmd");
socket.removeAllListeners("easyrtcMsg");
socket.removeAllListeners("disconnect"); // TODO: Come up with alternative to removing all disconnect listeners

pub.util.logDebug("Emitting Authenticate");

var username    = (msg.msgData.username     ? msg.msgData.username  : null);
var credential  = (msg.msgData.credential   ? msg.msgData.credential: null);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.setOption" id="apidoc.module.easyrtc.setOption">module easyrtc.setOption</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.setOption.setOption" id="apidoc.element.easyrtc.setOption.setOption">
        function <span class="apidocSignatureSpan">easyrtc.</span>setOption
        <span class="apidocSignatureSpan">(optionName, optionValue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setOption = function (optionName, optionValue) {
    // Can only set options which currently exist
    if (typeof e.option[optionName] == "undefined") {
        pub.util.logError("Error setting option. Unrecognised option name '" + optionName + "'.");
        return false;
    }

    e.option[optionName] = pub.util.deepCopy(optionValue);
    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (err) {
    callback(err);
    return;
}

// Set all options in options object. If any fail, an error will be sent to the callback.
async.each(Object.keys(options), function(currentOptionName, asyncCallback) {
    appObj.<span class="apidocCodeKeywordSpan">setOption</span>(currentOptionName, options[currentOptionName]);
    asyncCallback(null);
},
        function(err) {
            if (err) {
                callback(new pub.util.ApplicationError("Could not set options when creating application: '" + appName
 + "'", err));
                return;
            }
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util" id="apidoc.module.easyrtc.util">module easyrtc.util</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.ApplicationError" id="apidoc.element.easyrtc.util.ApplicationError">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>ApplicationError
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ApplicationError = function (msg) {
    eu.ApplicationError.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Set all options in options object. If any fail, an error will be sent to the callback.
async.each(Object.keys(options), function(currentOptionName, asyncCallback) {
    appObj.setOption(currentOptionName, options[currentOptionName]);
    asyncCallback(null);
},
        function(err) {
            if (err) {
                callback(new pub.util.<span class="apidocCodeKeywordSpan">ApplicationError</span>("Could not set options when
 creating application: '" + appName + "'", err));
                return;
            }
            // Set default application fields
            var appDefaultFieldObj = appObj.getOption("appDefaultFieldObj");
            if (_.isObject(appDefaultFieldObj)) {
                for (var currentFieldName in appDefaultFieldObj) {
                    appObj.setField(
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ApplicationWarning" id="apidoc.element.easyrtc.util.ApplicationWarning">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>ApplicationWarning
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ApplicationWarning = function (msg) {
    eu.ApplicationWarning.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
pub.createApp = function(appName, options, callback) {
if (!_.isFunction(callback)) {
    callback = function(err, appObj) {
    };
}
if (!appName || !pub.getOption("appNameRegExp").test(appName)) {
    pub.util.logWarning("Can not create application with improper name: '" + appName + "'");
    callback(new pub.util.<span class="apidocCodeKeywordSpan">ApplicationWarning</span>("Can not create application with improper
 name: '" + appName + "'"));
    return;
}
if (e.app[appName]) {
    pub.util.logWarning("Can not create application which already exists: '" + appName + "'");
    callback(new pub.util.ApplicationWarning("Can not create application which already exists: '" + appName + "
;'"));
    return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ConnectionError" id="apidoc.element.easyrtc.util.ConnectionError">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>ConnectionError
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ConnectionError = function (msg) {
    eu.ConnectionError.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// If message structure is invalid, send error, disconnect socket, and write to log
if (!isMsgValid) {
    try{
        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
        socket.disconnect();
    }catch(e){}
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with invalid message format [" + msgErrorCode
 + "]. Disconnecting socket.", msg);
    callback(new pub.util.<span class="apidocCodeKeywordSpan">ConnectionError</span>("["+easyrtcid+"] EasyRTC Auth
 message received with invalid message format [" + msgErrorCode + "]. Disconnecting socket."));
    return;
}

// Remove any old listeners
socket.removeAllListeners("easyrtcCmd");
socket.removeAllListeners("easyrtcMsg");
socket.removeAllListeners("disconnect"); // TODO: Come up with alternative to removing all disconnect listeners
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ConnectionWarning" id="apidoc.element.easyrtc.util.ConnectionWarning">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>ConnectionWarning
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ConnectionWarning = function (msg) {
    eu.ConnectionWarning.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   for (var key in e.app) {
       if (e.app[key].connection[easyrtcid] &amp;&amp; e.app[key].connection[easyrtcid].isAuthenticated) {
           pub.app(key, callback);
           return;
       }
   }
   pub.util.logWarning("Can not find connection [" + easyrtcid + "]");
   callback(new pub.util.<span class="apidocCodeKeywordSpan">ConnectionWarning</span>("Can not find connection [" + easyrtcid
 + "]"));
};


/**
* Sends the count of the number of connections to the server to a provided callback.
*
* @param       {function(?Error, Number)} callback Callback with error and array containing all easyrtcids.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ServerError" id="apidoc.element.easyrtc.util.ServerError">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>ServerError
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ServerError = function (msg) {
    eu.ServerError.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*/
pub.events.setDefaultListeners = function() {
   pub.events._eventListener.removeAllListeners();
   for (var currentEventName in pub.events.defaultListeners) {
       if (_.isFunction(pub.events.defaultListeners[currentEventName])) {
           pub.events._eventListener.on(currentEventName, pub.events.defaultListeners[currentEventName]);
       } else {
           throw new pub.util.<span class="apidocCodeKeywordSpan">ServerError</span>("Error setting default listener. No default
 for event '" + currentEventName + "' exists.");
       }
   }
};


/**
* Map of EasyRTC event listener names to their default functions. This map can be used to run a default function manually.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ServerWarning" id="apidoc.element.easyrtc.util.ServerWarning">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>ServerWarning
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ServerWarning = function (msg) {
    eu.ServerWarning.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.deepCopy" id="apidoc.element.easyrtc.util.deepCopy">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>deepCopy
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deepCopy = function (input) {

    if (
        input === null || input === undefined ||
            typeof input !== "object" ||
                (input.constructor !== Object &amp;&amp; input.constructor !== Array)
    ) {
        return input;
    }

    if (
        input.constructor === Boolean ||
            input.constructor === Date ||
                input.constructor === Function ||
                    input.constructor === Number ||
                        input.constructor === RegExp ||
                            input.constructor === String
    ) {
        return new input.constructor(input);
    }

    var copy;
    if (input instanceof Array) {
        copy = [];
        for (var i = 0, len = input.length; i &lt; len; i++) {
            copy[i] = g.deepCopy(input[i]);
        }
        return copy;
    }

    if (input instanceof Object) {
        copy = {};
        for (var key in input) {
            if (input.hasOwnProperty(key)) {
                copy[key] = g.deepCopy(input[key]);
            }
        }
        return copy;
    }
    return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
pub.setOption = function(optionName, optionValue) {
   // Can only set options which currently exist
   if (typeof e.option[optionName] == "undefined") {
       pub.util.logError("Error setting option. Unrecognised option name '" + optionName + "'.");
       return false;
   }

   e.option[optionName] = pub.util.<span class="apidocCodeKeywordSpan">deepCopy</span>(optionValue);
   return true;
};


/**
* EasyRTC Event handling object which contain most methods for interacting with EasyRTC events. For convenience, this class has
also been attached to the application, connection, session, and room classes.
* @class
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.getAvailableEasyrtcid" id="apidoc.element.easyrtc.util.getAvailableEasyrtcid">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>getAvailableEasyrtcid
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAvailableEasyrtcid = function () {
    var newEasyrtcid = "";
    var easyrtcidExists = false;

    do {
        newEasyrtcid = g.randomString();
        easyrtcidExists = false;
        for (var key in e.app) {
            if (e.app[key].connection[newEasyrtcid]) {
                easyrtcidExists = true;
                break;
            }
        }
    } while (easyrtcidExists);

    return newEasyrtcid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            callback(null);
        },

        function(callback) {
            pub.util.logDebug("Configuring Socket server");

            pub.socketServer.sockets.on("connection", function (socket) {
var easyrtcid = pub.util.<span class="apidocCodeKeywordSpan">getAvailableEasyrtcid</span>();

pub.util.logDebug("["+easyrtcid+"]["+socket.id+"] Socket connected");
pub.util.logDebug("Emitting event 'connection'");
pub.events.emit("connection", socket, easyrtcid, function(err){
    if(err){
        socket.disconnect();
        pub.util.logError("["+easyrtcid+"] Connect error", err);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.getErrorMsg" id="apidoc.element.easyrtc.util.getErrorMsg">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>getErrorMsg
        <span class="apidocSignatureSpan">(errorCode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getErrorMsg = function (errorCode) {
    var msg = {
        msgType: "error",
        serverTime: Date.now(),
        msgData: {
            errorCode: errorCode,
            errorText: pub.util.getErrorText(errorCode)
        }
    };

    if (!msg.msgData.errorText) {
        msg.msgData.errorText = "Error occurred with error code: " + errorCode;
        pub.util.logWarning("Emitted unknown error with error code [" + errorCode + "]");
    }

    return msg;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    try{socket.disconnect();}catch(e){}
    return;
}

// Only accept authenticate message
if(!_.isObject(msg) || !_.isString(msg.msgType) || msg.msgType != "authenticate") {
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received without msgType of 'authenticate'
;. Disconnecting socket.", msg);
    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.<span class="apidocCodeKeywordSpan">getErrorMsg</span>(&amp;#
x22;LOGIN_BAD_AUTH"), appObj);
    try{socket.disconnect();}catch(e){}
    return;
}

// Check msg structure.
if(!_.isObject(msg.msgData)
    || !_.isString(msg.msgData.apiVersion)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.getErrorText" id="apidoc.element.easyrtc.util.getErrorText">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>getErrorText
        <span class="apidocSignatureSpan">(errorCode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getErrorText = function (errorCode) {
    switch (errorCode) {
        case "BANNED_IP_ADDR":
            return "Client IP address is banned. Socket will be disconnected.";
            break;
        case "LOGIN_APP_AUTH_FAIL":
            return "Authentication for application failed. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_APP_NAME":
            return "Provided application name is improper. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_AUTH":
            return "Authentication for application failed. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_ROOM":
            return "Requested room is invalid or does not exist. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_STRUCTURE":
            return "Authentication for application failed. The provided structure is improper. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_USER_CFG":
            return "Provided configuration options improper or invalid. Socket will be disconnected.";
            break;
        case "LOGIN_GEN_FAIL":
            return "Authentication failed. Socket will be disconnected.";
            break;
        case "LOGIN_NO_SOCKETS":
            return "No sockets available for account. Socket will be disconnected.";
            break;
        case "LOGIN_TIMEOUT":
            return "Login has timed out. Socket will be disconnected.";
            break;
        case "MSG_REJECT_BAD_DATA":
            return "Message rejected. The provided msgData is improper.";
            break;
        case "MSG_REJECT_BAD_ROOM":
            return "Message rejected. Requested room is invalid or does not exist.";
            break;
        case "MSG_REJECT_BAD_FIELD":
            return "Message rejected. Problem with field structure or name.";
            break;
        case "MSG_REJECT_BAD_SIZE":
            return "Message rejected. Packet size is too large.";
            break;
        case "MSG_REJECT_BAD_STRUCTURE":
            return "Message rejected. The provided structure is improper.";
            break;
        case "MSG_REJECT_BAD_TYPE":
            return "Message rejected. The provided msgType is unsupported.";
            break;
        case "MSG_REJECT_GEN_FAIL":
            return "Message rejected. General failure occurred.";
            break;
        case "MSG_REJECT_NO_AUTH":
            return "Message rejected. Not logged in or client not authorized.";
            break;
        case "MSG_REJECT_NO_ROOM_LIST":
            return "Message rejected. Room list unavailable.";
            break;
        case "MSG_REJECT_PRESENCE":
            return "Message rejected. Presence could could not be set.";
            break;
        case "MSG_REJECT_TARGET_EASYRTCID":
            return "Message rejected. Target easyrtcid is invalid, not using same application, or no longer online.";
            break;
        case "MSG_REJECT_TARGET_GROUP":
            return "Message rejected. Target group is invalid or not defined.";
            break;
        case "MSG_REJECT_TARGET_ROOM":
            return "Message rejected. Target room is invalid or not created.";
            break;
        case "SERVER_SHUTDOWN":
            return "Server is being shutdown. Socket will be disconnected.";
            break;
        default:
            pub.util.logWarning("Unknown message errorCode requested [" + errorCode + "]");
            return null;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
pub.util.getErrorMsg = function(errorCode) {
var msg = {
    msgType: "error",
    serverTime: Date.now(),
    msgData: {
        errorCode: errorCode,
        errorText: pub.util.<span class="apidocCodeKeywordSpan">getErrorText</span>(errorCode)
    }
};

if (!msg.msgData.errorText) {
    msg.msgData.errorText = "Error occurred with error code: " + errorCode;
    pub.util.logWarning("Emitted unknown error with error code [" + errorCode + "]");
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.isError" id="apidoc.element.easyrtc.util.isError">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>isError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isError = function (err) {
    if (err &amp;&amp; ((err instanceof eu.ConnectionError)||(err instanceof eu.ApplicationError)||(err instanceof eu.ServerError)||(err
 instanceof Error))) {
        return true;
    } else {
        return false;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        consoleText += currentDate.toISOString() + " - ";
    }
    consoleText += level;
    consoleText += " - " + "EasyRTC: " + logText;
}

if (logFields != undefined &amp;&amp; logFields != null) {
    if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.util.<span class="apidocCodeKeywordSpan">isError</span>(
logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.util.isWarning(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else {
        console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth
:pub.getOption("logObjectDepth")}));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.isValidIncomingMessage" id="apidoc.element.easyrtc.util.isValidIncomingMessage">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>isValidIncomingMessage
        <span class="apidocSignatureSpan">(type, msg, appObj, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValidIncomingMessage = function (type, msg, appObj, callback) {
    // A generic getOption variable which points to the getOption function at either the top or application level
    var getOption = (_.isObject(appObj) ? appObj.getOption : pub.getOption);

    // All messages follow the basic structure
    if (!_.isString(type)) {
        callback(null, false, "MSG_REJECT_BAD_TYPE");
        return;
    }
    if (!_.isObject(msg)) {
        callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
        return;
    }
    if (!_.isString(msg.msgType)) {
        callback(null, false, "MSG_REJECT_BAD_TYPE");
        return;
    }

    switch (type) {
        case "easyrtcAuth":
            if (msg.msgType != "authenticate") {
                callback(null, false, "MSG_REJECT_BAD_TYPE");
                return;
            }
            if (!_.isObject(msg.msgData)) {
                callback(null, false, "MSG_REJECT_BAD_DATA");
                return;
            }

            // msgData.apiVersion (required)
            if (msg.msgData.apiVersion === undefined || !_.isString(msg.msgData.apiVersion) || !getOption("apiVersionRegExp").test
(msg.msgData.apiVersion)) {
                callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                return;
            }

            // msgData.appName
            if (msg.msgData.applicationName !== undefined &amp;&amp; (!_.isString(msg.msgData.applicationName) || !getOption("appNameRegExp
").test(msg.msgData.applicationName))) {
                callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                return;
            }

            // msgData.easyrtcsid
            if (msg.msgData.easyrtcsid !== undefined &amp;&amp; (!_.isString(msg.msgData.easyrtcsid) || !getOption("easyrtcsidRegExp").test
(msg.msgData.easyrtcsid))) {
                callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                return;
            }

            var isCallbackRun = false;
            async.waterfall([
                function(asyncCallback) {
                    if (!appObj) {
                        pub.app((msg.msgData.applicationName !== undefined ? msg.msgData.applicationName : getOption("appDefaultName
")), function(err, newAppObj) {
                            if (!err) {
                                appObj = newAppObj;
                                getOption = appObj.getOption;
                            }
                            asyncCallback(null);
                        });
                    }
                    else {
                        asyncCallback(null);
                    }
                },
                function(asyncCallback) {
                    // msgData.username
                    if (msg.msgData.username !== undefined &amp;&amp; (!_.isString(msg.msgData.username) || !getOption("usernameRegExp").
test(msg.msgData.username))) {
                        callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                        isCallbackRun = true;
                        return;
                    }

                    // msgData.credential
                    if (msg.msgData.credential !== undefined &amp;&amp; (!_.isObject(msg.msgData.credential) || _.isEmpty(msg.msgData.credential
))) {
                        callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                        isCallbackRun = true;
                        return;
                    }

                    // msgData.roomJoin
                    if (msg.msgData.roomJoin !== undefined) {
                        if (!_.isObject(msg.msgData.roomJoin)) {
                            callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                            isCallbackRun = true;
                            return;
                        }

                        for (var currentRoomName in msg.msgData.roomJoin) {
                            if (!getOption("roomNameRegExp").test(currentRoomName) || !_.isObject(msg.msgData.roomJoin[currentRoomName
]) || !_.isString(msg.msgData.roomJoin[currentRoomName].roomName) || currentRoomName != ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
try{socket.disconnect();}catch(e){}
return;
    }

    async.waterfall([
function(asyncCallback) {
    // Check message structure
    pub.util.<span class="apidocCodeKeywordSpan">isValidIncomingMessage</span>("easyrtcAuth", msg, null, asyncCallback
);
},

function(isMsgValid, msgErrorCode, asyncCallback) {
    // If message structure is invalid, send error, disconnect socket, and write to log
    if (!isMsgValid) {
        try{
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.isWarning" id="apidoc.element.easyrtc.util.isWarning">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>isWarning
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isWarning = function (err) {
    if (err &amp;&amp; ((err instanceof eu.ConnectionWarning)||(err instanceof eu.ApplicationWarning)||(err instanceof eu.ServerWarning))) {
        return true;
    } else {
        return false;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    consoleText += " - " + "EasyRTC: " + logText;
}

if (logFields != undefined &amp;&amp; logFields != null) {
    if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.util.isError(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.util.<span class="apidocCodeKeywordSpan">isWarning
</span>(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else {
        console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth
:pub.getOption("logObjectDepth")}));
    }
} else {
    console.log(consoleText);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.log" id="apidoc.element.easyrtc.util.log">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>log
        <span class="apidocSignatureSpan">(level, logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function (level, logText, logFields) {
    switch (e.option.logLevel) {
        case "error":
            if (level != "error") {
                break;
            }

        case "warning":
            if (level == "info") {
                break;
            }

        case "info":
            if (level == "debug") {
                break;
            }

        case "debug":
            pub.events.emit("log", level, logText, logFields);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
    consoleText += level;
    consoleText += " - " + "EasyRTC: " + logText;
}

if (logFields != undefined &amp;&amp; logFields != null) {
    if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.util.isError(logFields)) {
        console.<span class="apidocCodeKeywordSpan">log</span>(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold + logFields.stack.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.util.isWarning(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else {
        console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth
:pub.getOption("logObjectDepth")}));
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.logDebug" id="apidoc.element.easyrtc.util.logDebug">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>logDebug
        <span class="apidocSignatureSpan">(logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logDebug = function (logText, logFields) {
    pub.util.log("debug", logText, logFields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var connectionObj = {};             // prepare variables to house the connection object

    // Initially upon a connection, we are only concerned with receiving an easyrtcAuth message
    socket.on("easyrtcAuth", function(msg, socketCallback) {

if (pub.getOption("logMessagesEnable")) {
    try {
        pub.util.<span class="apidocCodeKeywordSpan">logDebug</span>("["+easyrtcid+"] Incoming socket.io message: [&amp;#
x22;+JSON.stringify(msg)+"]");
    }
    catch(err) {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
    }
}

pub.events.emit("easyrtcAuth", socket, easyrtcid, msg, socketCallback, function(err, newConnectionObj){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.logError" id="apidoc.element.easyrtc.util.logError">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>logError
        <span class="apidocSignatureSpan">(logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logError = function (logText, logFields) {
    pub.util.log("error", logText, logFields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        catch(err) {
            pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
        }
    }

    pub.events.emit("easyrtcAuth", socket, easyrtcid, msg, socketCallback, function(err, newConnectionObj){
        if(err){
            pub.util.<span class="apidocCodeKeywordSpan">logError</span>("["+easyrtcid+"] Unhandled easyrtcCmd listener
 error.", err);
            return;
        }

        connectionObj = newConnectionObj;
    });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.logInfo" id="apidoc.element.easyrtc.util.logInfo">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>logInfo
        <span class="apidocSignatureSpan">(logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logInfo = function (logText, logFields) {
    pub.util.log("info", logText, logFields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    // Authenticate is responsible for authenticating the connection
    pub.events.emit("authenticate", socket, easyrtcid, newAppName, username, credential, msg, function(err){
        if (err) {
            try{
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("LOGIN_BAD_AUTH"), appObj
);
                socket.disconnect();
                pub.util.<span class="apidocCodeKeywordSpan">logInfo</span>("["+newAppName+"]["+easyrtcid+&amp;#
x22;] Authentication denied. Socket disconnected.", err);
            }catch(e){}
        } else {
            asyncCallback(null);
        }
    });
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.logWarning" id="apidoc.element.easyrtc.util.logWarning">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>logWarning
        <span class="apidocSignatureSpan">(logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logWarning = function (logText, logFields) {
    pub.util.log("warning", logText, logFields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

var appName;
var newAppName = (_.isObject(msg.msgData) &amp;&amp;_.isString(msg.msgData.applicationName)) ? msg.msgData.applicationName : pub
.getOption("appDefaultName");

// Ensure socketCallback is present
if(!_.isFunction(socketCallback)) {
    pub.util.<span class="apidocCodeKeywordSpan">logWarning</span>("["+easyrtcid+"] EasyRTC Auth message received
 with no callback. Disconnecting socket.", msg);
    try{socket.disconnect();}catch(e){}
    return;
}

// Only accept authenticate message
if(!_.isObject(msg) || !_.isString(msg.msgType) || msg.msgType != "authenticate") {
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received without msgType of 'authenticate'
;. Disconnecting socket.", msg);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.nextToNowhere" id="apidoc.element.easyrtc.util.nextToNowhere">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>nextToNowhere
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextToNowhere = function (err) {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.sendSessionCookie" id="apidoc.element.easyrtc.util.sendSessionCookie">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>sendSessionCookie
        <span class="apidocSignatureSpan">(req, res)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendSessionCookie = function (req, res) {
    // If sessions or session cookies are disabled, return without an error.
    if (!pub.getOption("sessionEnable") || !pub.getOption("sessionCookieEnable")) {
        return;
    }
    if (req.sessionID &amp;&amp; (!req.cookies || !req.cookies["easyrtcsid"] || req.cookies["easyrtcsid"] != req.sessionID)) {
        try {
            pub.util.logDebug("Sending easyrtcsid cookie [" + req.sessionID + "] to [" + req.ip + "] for request [" + req.url + "]");
            res.cookie("easyrtcsid", req.sessionID, {maxAge: 2592000000, httpOnly: false});
        } catch (e) {
            pub.util.logWarning("Problem setting easyrtcsid cookie [" + req.sessionID + "] to [" + req.ip + "] for request [" +
req.url + "]");
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // Forward people who forget the trailing slash to the folder.
    pub.httpApp.get(pub.getOption("demosPublicFolder"), function(req, res) {res.redirect(pub.getOption("demosPublicFolder
") + "/");});
}

if (pub.getOption("apiEnable")) {
    // Set the EasyRTC API files
    pub.util.logDebug("Setting up API files to be accessed from '" + pub.getOption("apiPublicFolder") + &amp;#
x22;/'");
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.js",                  function(req, res) {pub
.util.<span class="apidocCodeKeywordSpan">sendSessionCookie</span>(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc
.js",                   {root:__dirname + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc_ft.js",               function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc_ft.js",                {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.css",                 function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc.css",                  {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.min.js",              function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"open_source/api/easyrtc.min.js",   {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc_ft.min.js",           function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc_ft.min.js",            {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.min.css",             function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"open_source/api/easyrtc.min.css",  {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/img/*", function(req, res) {
        pub.util.sendSessionCookie(req, res);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.sendSocketCallbackAck" id="apidoc.element.easyrtc.util.sendSocketCallbackAck">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>sendSocketCallbackAck
        <span class="apidocSignatureSpan">(easyrtcid, socketCallback, appObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendSocketCallbackAck = function (easyrtcid, socketCallback, appObj) {
    return pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"ack"}, appObj);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            asyncCallback(null);
        },
        function(asyncCallback) {
            // The msgType controls how each message is handled
            switch(msg.msgType) {
case "setUserCfg":
    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] WebRTC setUserCfg
 command received. This feature is not yet complete.");
    pub.util.<span class="apidocCodeKeywordSpan">sendSocketCallbackAck</span>(easyrtcid, socketCallback, appObj);
    next(null);
    break;

case "setPresence":
    pub.events.emit("msgTypeSetPresence", connectionObj, msg.msgData.setPresence, socketCallback, next);
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.sendSocketCallbackMsg" id="apidoc.element.easyrtc.util.sendSocketCallbackMsg">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>sendSocketCallbackMsg
        <span class="apidocSignatureSpan">(easyrtcid, socketCallback, msg, appObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendSocketCallbackMsg = function (easyrtcid, socketCallback, msg, appObj) {
    var appName;

    if (appObj) {
        appName = appObj.getAppName();
        if (!appObj.isConnectedSync(easyrtcid)) {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Unable to return socket message. Peer no longer connected.");
            return false;
        }
    }

    if (!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+appName+"]["+easyrtcid+"] Unable to return socket message. Provided socketCallback was not a function
.");
        return false;
    }

    try {
        socketCallback(msg);
    } catch(err) {
        pub.util.logWarning("["+appName+"]["+easyrtcid+"] Unable to return socket message. Call to socketCallback failed.");
    }

    if (e.option.logMessagesEnable) {
        try {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Returning socket.io message: ["+JSON.stringify(msg)+"]");
        }
        catch(err) {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Returning socket.io message");
        }
    }
    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    try{socket.disconnect();}catch(e){}
    return;
}

// Only accept authenticate message
if(!_.isObject(msg) || !_.isString(msg.msgType) || msg.msgType != "authenticate") {
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received without msgType of 'authenticate'
;. Disconnecting socket.", msg);
    pub.util.<span class="apidocCodeKeywordSpan">sendSocketCallbackMsg</span>(easyrtcid, socketCallback, pub.util.getErrorMsg(&amp;#
x22;LOGIN_BAD_AUTH"), appObj);
    try{socket.disconnect();}catch(e){}
    return;
}

// Check msg structure.
if(!_.isObject(msg.msgData)
    || !_.isString(msg.msgData.apiVersion)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.updateCheck" id="apidoc.element.easyrtc.util.updateCheck">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>updateCheck
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateCheck = function () {
    var easyrtcVersion = pub.getVersion();

    require("http").get("http://easyrtc.com/version/?app=easyrtc&amp;ver=" + easyrtcVersion + "&amp;platform=" + process.platform + "&amp;nodever
=" + process.version, function(res) {
        if (res.statusCode == 200)
            res.on('data', function(latestVersion) {
                latestVersion = (latestVersion + "").replace(/[^0-9a-z.]/g, "");
                if (latestVersion != easyrtcVersion) {
                    var l = latestVersion.replace(/[^0-9.]/g, "").split(".", 3);
                    l[0] = parseInt(l[0]);
                    l[1] = parseInt(l[1]);
                    l[2] = parseInt(l[2]);
                    var v = easyrtcVersion.replace(/[^0-9.]/g, "").split(".", 3);
                    v[0] = parseInt(v[0]);
                    v[1] = parseInt(v[1]);
                    v[2] = parseInt(v[2]);
                    if (v[0] &lt; l[0] || (v[0] == l[0] &amp;&amp; v[1] &lt; l[1]) || (v[0] == l[0] &amp;&amp; v[1] == l[1] &amp;&amp; v[2] &lt; l[2]))
                        pub.util.logWarning("Update Check: New version of EasyRTC is available (" + latestVersion + "). Visit http
://easyrtc.com/ for details or run 'npm update' to upgrade.");
                    else if (v[0] == l[0] &amp;&amp; v[1] == l[1] &amp;&amp; v[2] == l[2] &amp;&amp; easyrtcVersion.replace(/[^a-z]/gi, "") != "")
                        pub.util.logWarning("Update Check: New non-beta version of EasyRTC is available (" + latestVersion + ").
Visit http://easyrtc.com/ for details.");
                }
            });
    }).on('error', function(e) {
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    function(callback) {
        pub.createApp(pub.getOption("appDefaultName"), null, callback);
    },

    function(appObj, callback) {
        // Checks to see if there is a newer version of EasyRTC available
        if (pub.getOption("updateCheckEnable")) {
            pub.util.<span class="apidocCodeKeywordSpan">updateCheck</span>();
        }
        callback(null);
    }
],
// This function is called upon completion of the async waterfall, or upon an error being thrown.
function (err) {
    next(err);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.ApplicationError" id="apidoc.module.easyrtc.util.ApplicationError">module easyrtc.util.ApplicationError</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.ApplicationError.ApplicationError" id="apidoc.element.easyrtc.util.ApplicationError.ApplicationError">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>ApplicationError
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ApplicationError = function (msg) {
    eu.ApplicationError.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Set all options in options object. If any fail, an error will be sent to the callback.
async.each(Object.keys(options), function(currentOptionName, asyncCallback) {
    appObj.setOption(currentOptionName, options[currentOptionName]);
    asyncCallback(null);
},
        function(err) {
            if (err) {
                callback(new pub.util.<span class="apidocCodeKeywordSpan">ApplicationError</span>("Could not set options when
 creating application: '" + appName + "'", err));
                return;
            }
            // Set default application fields
            var appDefaultFieldObj = appObj.getOption("appDefaultFieldObj");
            if (_.isObject(appDefaultFieldObj)) {
                for (var currentFieldName in appDefaultFieldObj) {
                    appObj.setField(
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ApplicationError.super_" id="apidoc.element.easyrtc.util.ApplicationError.super_">
        function <span class="apidocSignatureSpan">easyrtc.util.ApplicationError.</span>super_
        <span class="apidocSignatureSpan">(msg, constr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (msg, constr){
    Error.captureStackTrace(this, constr || this);
    this.message = msg || "Error";
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.ApplicationWarning" id="apidoc.module.easyrtc.util.ApplicationWarning">module easyrtc.util.ApplicationWarning</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.ApplicationWarning.ApplicationWarning" id="apidoc.element.easyrtc.util.ApplicationWarning.ApplicationWarning">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>ApplicationWarning
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ApplicationWarning = function (msg) {
    eu.ApplicationWarning.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
pub.createApp = function(appName, options, callback) {
if (!_.isFunction(callback)) {
    callback = function(err, appObj) {
    };
}
if (!appName || !pub.getOption("appNameRegExp").test(appName)) {
    pub.util.logWarning("Can not create application with improper name: '" + appName + "'");
    callback(new pub.util.<span class="apidocCodeKeywordSpan">ApplicationWarning</span>("Can not create application with improper
 name: '" + appName + "'"));
    return;
}
if (e.app[appName]) {
    pub.util.logWarning("Can not create application which already exists: '" + appName + "'");
    callback(new pub.util.ApplicationWarning("Can not create application which already exists: '" + appName + "
;'"));
    return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ApplicationWarning.super_" id="apidoc.element.easyrtc.util.ApplicationWarning.super_">
        function <span class="apidocSignatureSpan">easyrtc.util.ApplicationWarning.</span>super_
        <span class="apidocSignatureSpan">(msg, constr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (msg, constr){
    Error.captureStackTrace(this, constr || this);
    this.message = msg || "Error";
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.ConnectionError" id="apidoc.module.easyrtc.util.ConnectionError">module easyrtc.util.ConnectionError</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.ConnectionError.ConnectionError" id="apidoc.element.easyrtc.util.ConnectionError.ConnectionError">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>ConnectionError
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ConnectionError = function (msg) {
    eu.ConnectionError.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// If message structure is invalid, send error, disconnect socket, and write to log
if (!isMsgValid) {
    try{
        pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
        socket.disconnect();
    }catch(e){}
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received with invalid message format [" + msgErrorCode
 + "]. Disconnecting socket.", msg);
    callback(new pub.util.<span class="apidocCodeKeywordSpan">ConnectionError</span>("["+easyrtcid+"] EasyRTC Auth
 message received with invalid message format [" + msgErrorCode + "]. Disconnecting socket."));
    return;
}

// Remove any old listeners
socket.removeAllListeners("easyrtcCmd");
socket.removeAllListeners("easyrtcMsg");
socket.removeAllListeners("disconnect"); // TODO: Come up with alternative to removing all disconnect listeners
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ConnectionError.super_" id="apidoc.element.easyrtc.util.ConnectionError.super_">
        function <span class="apidocSignatureSpan">easyrtc.util.ConnectionError.</span>super_
        <span class="apidocSignatureSpan">(msg, constr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (msg, constr){
    Error.captureStackTrace(this, constr || this);
    this.message = msg || "Error";
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.ConnectionWarning" id="apidoc.module.easyrtc.util.ConnectionWarning">module easyrtc.util.ConnectionWarning</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.ConnectionWarning.ConnectionWarning" id="apidoc.element.easyrtc.util.ConnectionWarning.ConnectionWarning">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>ConnectionWarning
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ConnectionWarning = function (msg) {
    eu.ConnectionWarning.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   for (var key in e.app) {
       if (e.app[key].connection[easyrtcid] &amp;&amp; e.app[key].connection[easyrtcid].isAuthenticated) {
           pub.app(key, callback);
           return;
       }
   }
   pub.util.logWarning("Can not find connection [" + easyrtcid + "]");
   callback(new pub.util.<span class="apidocCodeKeywordSpan">ConnectionWarning</span>("Can not find connection [" + easyrtcid
 + "]"));
};


/**
* Sends the count of the number of connections to the server to a provided callback.
*
* @param       {function(?Error, Number)} callback Callback with error and array containing all easyrtcids.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ConnectionWarning.super_" id="apidoc.element.easyrtc.util.ConnectionWarning.super_">
        function <span class="apidocSignatureSpan">easyrtc.util.ConnectionWarning.</span>super_
        <span class="apidocSignatureSpan">(msg, constr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (msg, constr){
    Error.captureStackTrace(this, constr || this);
    this.message = msg || "Error";
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.ServerError" id="apidoc.module.easyrtc.util.ServerError">module easyrtc.util.ServerError</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.ServerError.ServerError" id="apidoc.element.easyrtc.util.ServerError.ServerError">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>ServerError
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ServerError = function (msg) {
    eu.ServerError.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*/
pub.events.setDefaultListeners = function() {
   pub.events._eventListener.removeAllListeners();
   for (var currentEventName in pub.events.defaultListeners) {
       if (_.isFunction(pub.events.defaultListeners[currentEventName])) {
           pub.events._eventListener.on(currentEventName, pub.events.defaultListeners[currentEventName]);
       } else {
           throw new pub.util.<span class="apidocCodeKeywordSpan">ServerError</span>("Error setting default listener. No default
 for event '" + currentEventName + "' exists.");
       }
   }
};


/**
* Map of EasyRTC event listener names to their default functions. This map can be used to run a default function manually.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ServerError.super_" id="apidoc.element.easyrtc.util.ServerError.super_">
        function <span class="apidocSignatureSpan">easyrtc.util.ServerError.</span>super_
        <span class="apidocSignatureSpan">(msg, constr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (msg, constr){
    Error.captureStackTrace(this, constr || this);
    this.message = msg || "Error";
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.ServerWarning" id="apidoc.module.easyrtc.util.ServerWarning">module easyrtc.util.ServerWarning</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.ServerWarning.ServerWarning" id="apidoc.element.easyrtc.util.ServerWarning.ServerWarning">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>ServerWarning
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ServerWarning = function (msg) {
    eu.ServerWarning.super_.call(this, msg, this.constructor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.easyrtc.util.ServerWarning.super_" id="apidoc.element.easyrtc.util.ServerWarning.super_">
        function <span class="apidocSignatureSpan">easyrtc.util.ServerWarning.</span>super_
        <span class="apidocSignatureSpan">(msg, constr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function (msg, constr){
    Error.captureStackTrace(this, constr || this);
    this.message = msg || "Error";
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.deepCopy" id="apidoc.module.easyrtc.util.deepCopy">module easyrtc.util.deepCopy</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.deepCopy.deepCopy" id="apidoc.element.easyrtc.util.deepCopy.deepCopy">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>deepCopy
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deepCopy = function (input) {

    if (
        input === null || input === undefined ||
            typeof input !== "object" ||
                (input.constructor !== Object &amp;&amp; input.constructor !== Array)
    ) {
        return input;
    }

    if (
        input.constructor === Boolean ||
            input.constructor === Date ||
                input.constructor === Function ||
                    input.constructor === Number ||
                        input.constructor === RegExp ||
                            input.constructor === String
    ) {
        return new input.constructor(input);
    }

    var copy;
    if (input instanceof Array) {
        copy = [];
        for (var i = 0, len = input.length; i &lt; len; i++) {
            copy[i] = g.deepCopy(input[i]);
        }
        return copy;
    }

    if (input instanceof Object) {
        copy = {};
        for (var key in input) {
            if (input.hasOwnProperty(key)) {
                copy[key] = g.deepCopy(input[key]);
            }
        }
        return copy;
    }
    return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
pub.setOption = function(optionName, optionValue) {
   // Can only set options which currently exist
   if (typeof e.option[optionName] == "undefined") {
       pub.util.logError("Error setting option. Unrecognised option name '" + optionName + "'.");
       return false;
   }

   e.option[optionName] = pub.util.<span class="apidocCodeKeywordSpan">deepCopy</span>(optionValue);
   return true;
};


/**
* EasyRTC Event handling object which contain most methods for interacting with EasyRTC events. For convenience, this class has
also been attached to the application, connection, session, and room classes.
* @class
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.getAvailableEasyrtcid" id="apidoc.module.easyrtc.util.getAvailableEasyrtcid">module easyrtc.util.getAvailableEasyrtcid</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.getAvailableEasyrtcid.getAvailableEasyrtcid" id="apidoc.element.easyrtc.util.getAvailableEasyrtcid.getAvailableEasyrtcid">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>getAvailableEasyrtcid
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAvailableEasyrtcid = function () {
    var newEasyrtcid = "";
    var easyrtcidExists = false;

    do {
        newEasyrtcid = g.randomString();
        easyrtcidExists = false;
        for (var key in e.app) {
            if (e.app[key].connection[newEasyrtcid]) {
                easyrtcidExists = true;
                break;
            }
        }
    } while (easyrtcidExists);

    return newEasyrtcid;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            callback(null);
        },

        function(callback) {
            pub.util.logDebug("Configuring Socket server");

            pub.socketServer.sockets.on("connection", function (socket) {
var easyrtcid = pub.util.<span class="apidocCodeKeywordSpan">getAvailableEasyrtcid</span>();

pub.util.logDebug("["+easyrtcid+"]["+socket.id+"] Socket connected");
pub.util.logDebug("Emitting event 'connection'");
pub.events.emit("connection", socket, easyrtcid, function(err){
    if(err){
        socket.disconnect();
        pub.util.logError("["+easyrtcid+"] Connect error", err);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.getErrorMsg" id="apidoc.module.easyrtc.util.getErrorMsg">module easyrtc.util.getErrorMsg</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.getErrorMsg.getErrorMsg" id="apidoc.element.easyrtc.util.getErrorMsg.getErrorMsg">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>getErrorMsg
        <span class="apidocSignatureSpan">(errorCode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getErrorMsg = function (errorCode) {
    var msg = {
        msgType: "error",
        serverTime: Date.now(),
        msgData: {
            errorCode: errorCode,
            errorText: pub.util.getErrorText(errorCode)
        }
    };

    if (!msg.msgData.errorText) {
        msg.msgData.errorText = "Error occurred with error code: " + errorCode;
        pub.util.logWarning("Emitted unknown error with error code [" + errorCode + "]");
    }

    return msg;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    try{socket.disconnect();}catch(e){}
    return;
}

// Only accept authenticate message
if(!_.isObject(msg) || !_.isString(msg.msgType) || msg.msgType != "authenticate") {
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received without msgType of 'authenticate'
;. Disconnecting socket.", msg);
    pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.<span class="apidocCodeKeywordSpan">getErrorMsg</span>(&amp;#
x22;LOGIN_BAD_AUTH"), appObj);
    try{socket.disconnect();}catch(e){}
    return;
}

// Check msg structure.
if(!_.isObject(msg.msgData)
    || !_.isString(msg.msgData.apiVersion)
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.getErrorText" id="apidoc.module.easyrtc.util.getErrorText">module easyrtc.util.getErrorText</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.getErrorText.getErrorText" id="apidoc.element.easyrtc.util.getErrorText.getErrorText">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>getErrorText
        <span class="apidocSignatureSpan">(errorCode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getErrorText = function (errorCode) {
    switch (errorCode) {
        case "BANNED_IP_ADDR":
            return "Client IP address is banned. Socket will be disconnected.";
            break;
        case "LOGIN_APP_AUTH_FAIL":
            return "Authentication for application failed. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_APP_NAME":
            return "Provided application name is improper. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_AUTH":
            return "Authentication for application failed. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_ROOM":
            return "Requested room is invalid or does not exist. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_STRUCTURE":
            return "Authentication for application failed. The provided structure is improper. Socket will be disconnected.";
            break;
        case "LOGIN_BAD_USER_CFG":
            return "Provided configuration options improper or invalid. Socket will be disconnected.";
            break;
        case "LOGIN_GEN_FAIL":
            return "Authentication failed. Socket will be disconnected.";
            break;
        case "LOGIN_NO_SOCKETS":
            return "No sockets available for account. Socket will be disconnected.";
            break;
        case "LOGIN_TIMEOUT":
            return "Login has timed out. Socket will be disconnected.";
            break;
        case "MSG_REJECT_BAD_DATA":
            return "Message rejected. The provided msgData is improper.";
            break;
        case "MSG_REJECT_BAD_ROOM":
            return "Message rejected. Requested room is invalid or does not exist.";
            break;
        case "MSG_REJECT_BAD_FIELD":
            return "Message rejected. Problem with field structure or name.";
            break;
        case "MSG_REJECT_BAD_SIZE":
            return "Message rejected. Packet size is too large.";
            break;
        case "MSG_REJECT_BAD_STRUCTURE":
            return "Message rejected. The provided structure is improper.";
            break;
        case "MSG_REJECT_BAD_TYPE":
            return "Message rejected. The provided msgType is unsupported.";
            break;
        case "MSG_REJECT_GEN_FAIL":
            return "Message rejected. General failure occurred.";
            break;
        case "MSG_REJECT_NO_AUTH":
            return "Message rejected. Not logged in or client not authorized.";
            break;
        case "MSG_REJECT_NO_ROOM_LIST":
            return "Message rejected. Room list unavailable.";
            break;
        case "MSG_REJECT_PRESENCE":
            return "Message rejected. Presence could could not be set.";
            break;
        case "MSG_REJECT_TARGET_EASYRTCID":
            return "Message rejected. Target easyrtcid is invalid, not using same application, or no longer online.";
            break;
        case "MSG_REJECT_TARGET_GROUP":
            return "Message rejected. Target group is invalid or not defined.";
            break;
        case "MSG_REJECT_TARGET_ROOM":
            return "Message rejected. Target room is invalid or not created.";
            break;
        case "SERVER_SHUTDOWN":
            return "Server is being shutdown. Socket will be disconnected.";
            break;
        default:
            pub.util.logWarning("Unknown message errorCode requested [" + errorCode + "]");
            return null;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
pub.util.getErrorMsg = function(errorCode) {
var msg = {
    msgType: "error",
    serverTime: Date.now(),
    msgData: {
        errorCode: errorCode,
        errorText: pub.util.<span class="apidocCodeKeywordSpan">getErrorText</span>(errorCode)
    }
};

if (!msg.msgData.errorText) {
    msg.msgData.errorText = "Error occurred with error code: " + errorCode;
    pub.util.logWarning("Emitted unknown error with error code [" + errorCode + "]");
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.isError" id="apidoc.module.easyrtc.util.isError">module easyrtc.util.isError</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.isError.isError" id="apidoc.element.easyrtc.util.isError.isError">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>isError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isError = function (err) {
    if (err &amp;&amp; ((err instanceof eu.ConnectionError)||(err instanceof eu.ApplicationError)||(err instanceof eu.ServerError)||(err
 instanceof Error))) {
        return true;
    } else {
        return false;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        consoleText += currentDate.toISOString() + " - ";
    }
    consoleText += level;
    consoleText += " - " + "EasyRTC: " + logText;
}

if (logFields != undefined &amp;&amp; logFields != null) {
    if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.util.<span class="apidocCodeKeywordSpan">isError</span>(
logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.util.isWarning(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else {
        console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth
:pub.getOption("logObjectDepth")}));
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.isValidIncomingMessage" id="apidoc.module.easyrtc.util.isValidIncomingMessage">module easyrtc.util.isValidIncomingMessage</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.isValidIncomingMessage.isValidIncomingMessage" id="apidoc.element.easyrtc.util.isValidIncomingMessage.isValidIncomingMessage">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>isValidIncomingMessage
        <span class="apidocSignatureSpan">(type, msg, appObj, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValidIncomingMessage = function (type, msg, appObj, callback) {
    // A generic getOption variable which points to the getOption function at either the top or application level
    var getOption = (_.isObject(appObj) ? appObj.getOption : pub.getOption);

    // All messages follow the basic structure
    if (!_.isString(type)) {
        callback(null, false, "MSG_REJECT_BAD_TYPE");
        return;
    }
    if (!_.isObject(msg)) {
        callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
        return;
    }
    if (!_.isString(msg.msgType)) {
        callback(null, false, "MSG_REJECT_BAD_TYPE");
        return;
    }

    switch (type) {
        case "easyrtcAuth":
            if (msg.msgType != "authenticate") {
                callback(null, false, "MSG_REJECT_BAD_TYPE");
                return;
            }
            if (!_.isObject(msg.msgData)) {
                callback(null, false, "MSG_REJECT_BAD_DATA");
                return;
            }

            // msgData.apiVersion (required)
            if (msg.msgData.apiVersion === undefined || !_.isString(msg.msgData.apiVersion) || !getOption("apiVersionRegExp").test
(msg.msgData.apiVersion)) {
                callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                return;
            }

            // msgData.appName
            if (msg.msgData.applicationName !== undefined &amp;&amp; (!_.isString(msg.msgData.applicationName) || !getOption("appNameRegExp
").test(msg.msgData.applicationName))) {
                callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                return;
            }

            // msgData.easyrtcsid
            if (msg.msgData.easyrtcsid !== undefined &amp;&amp; (!_.isString(msg.msgData.easyrtcsid) || !getOption("easyrtcsidRegExp").test
(msg.msgData.easyrtcsid))) {
                callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                return;
            }

            var isCallbackRun = false;
            async.waterfall([
                function(asyncCallback) {
                    if (!appObj) {
                        pub.app((msg.msgData.applicationName !== undefined ? msg.msgData.applicationName : getOption("appDefaultName
")), function(err, newAppObj) {
                            if (!err) {
                                appObj = newAppObj;
                                getOption = appObj.getOption;
                            }
                            asyncCallback(null);
                        });
                    }
                    else {
                        asyncCallback(null);
                    }
                },
                function(asyncCallback) {
                    // msgData.username
                    if (msg.msgData.username !== undefined &amp;&amp; (!_.isString(msg.msgData.username) || !getOption("usernameRegExp").
test(msg.msgData.username))) {
                        callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                        isCallbackRun = true;
                        return;
                    }

                    // msgData.credential
                    if (msg.msgData.credential !== undefined &amp;&amp; (!_.isObject(msg.msgData.credential) || _.isEmpty(msg.msgData.credential
))) {
                        callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                        isCallbackRun = true;
                        return;
                    }

                    // msgData.roomJoin
                    if (msg.msgData.roomJoin !== undefined) {
                        if (!_.isObject(msg.msgData.roomJoin)) {
                            callback(null, false, "MSG_REJECT_BAD_STRUCTURE");
                            isCallbackRun = true;
                            return;
                        }

                        for (var currentRoomName in msg.msgData.roomJoin) {
                            if (!getOption("roomNameRegExp").test(currentRoomName) || !_.isObject(msg.msgData.roomJoin[currentRoomName
]) || !_.isString(msg.msgData.roomJoin[currentRoomName].roomName) || currentRoomName != ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
try{socket.disconnect();}catch(e){}
return;
    }

    async.waterfall([
function(asyncCallback) {
    // Check message structure
    pub.util.<span class="apidocCodeKeywordSpan">isValidIncomingMessage</span>("easyrtcAuth", msg, null, asyncCallback
);
},

function(isMsgValid, msgErrorCode, asyncCallback) {
    // If message structure is invalid, send error, disconnect socket, and write to log
    if (!isMsgValid) {
        try{
            pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg(msgErrorCode), appObj);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.isWarning" id="apidoc.module.easyrtc.util.isWarning">module easyrtc.util.isWarning</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.isWarning.isWarning" id="apidoc.element.easyrtc.util.isWarning.isWarning">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>isWarning
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isWarning = function (err) {
    if (err &amp;&amp; ((err instanceof eu.ConnectionWarning)||(err instanceof eu.ApplicationWarning)||(err instanceof eu.ServerWarning))) {
        return true;
    } else {
        return false;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    consoleText += " - " + "EasyRTC: " + logText;
}

if (logFields != undefined &amp;&amp; logFields != null) {
    if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.util.isError(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.util.<span class="apidocCodeKeywordSpan">isWarning
</span>(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else {
        console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth
:pub.getOption("logObjectDepth")}));
    }
} else {
    console.log(consoleText);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.log" id="apidoc.module.easyrtc.util.log">module easyrtc.util.log</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.log.log" id="apidoc.element.easyrtc.util.log.log">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>log
        <span class="apidocSignatureSpan">(level, logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function (level, logText, logFields) {
    switch (e.option.logLevel) {
        case "error":
            if (level != "error") {
                break;
            }

        case "warning":
            if (level == "info") {
                break;
            }

        case "info":
            if (level == "debug") {
                break;
            }

        case "debug":
            pub.events.emit("log", level, logText, logFields);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
    consoleText += level;
    consoleText += " - " + "EasyRTC: " + logText;
}

if (logFields != undefined &amp;&amp; logFields != null) {
    if (pub.getOption("logErrorStackEnable") &amp;&amp; pub.util.isError(logFields)) {
        console.<span class="apidocCodeKeywordSpan">log</span>(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold + logFields.stack.magenta + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else if (pub.getOption("logWarningStackEnable") &amp;&amp; pub.util.isWarning(logFields)) {
        console.log(consoleText, ((pub.getOption("logColorEnable"))? "\nStack Trace:\n------------\n".bold +
logFields.stack.cyan + "\n------------".bold : "\nStack Trace:\n------------\n" + logFields.stack + "\n------------"));
    }
    else {
        console.log(consoleText, util.inspect(logFields, {colors:pub.getOption("logColorEnable"), showHidden:false, depth
:pub.getOption("logObjectDepth")}));
    }
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.logDebug" id="apidoc.module.easyrtc.util.logDebug">module easyrtc.util.logDebug</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.logDebug.logDebug" id="apidoc.element.easyrtc.util.logDebug.logDebug">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>logDebug
        <span class="apidocSignatureSpan">(logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logDebug = function (logText, logFields) {
    pub.util.log("debug", logText, logFields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var connectionObj = {};             // prepare variables to house the connection object

    // Initially upon a connection, we are only concerned with receiving an easyrtcAuth message
    socket.on("easyrtcAuth", function(msg, socketCallback) {

if (pub.getOption("logMessagesEnable")) {
    try {
        pub.util.<span class="apidocCodeKeywordSpan">logDebug</span>("["+easyrtcid+"] Incoming socket.io message: [&amp;#
x22;+JSON.stringify(msg)+"]");
    }
    catch(err) {
        pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
    }
}

pub.events.emit("easyrtcAuth", socket, easyrtcid, msg, socketCallback, function(err, newConnectionObj){
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.logError" id="apidoc.module.easyrtc.util.logError">module easyrtc.util.logError</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.logError.logError" id="apidoc.element.easyrtc.util.logError.logError">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>logError
        <span class="apidocSignatureSpan">(logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logError = function (logText, logFields) {
    pub.util.log("error", logText, logFields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        catch(err) {
            pub.util.logDebug("["+easyrtcid+"] Incoming socket.io message");
        }
    }

    pub.events.emit("easyrtcAuth", socket, easyrtcid, msg, socketCallback, function(err, newConnectionObj){
        if(err){
            pub.util.<span class="apidocCodeKeywordSpan">logError</span>("["+easyrtcid+"] Unhandled easyrtcCmd listener
 error.", err);
            return;
        }

        connectionObj = newConnectionObj;
    });
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.logInfo" id="apidoc.module.easyrtc.util.logInfo">module easyrtc.util.logInfo</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.logInfo.logInfo" id="apidoc.element.easyrtc.util.logInfo.logInfo">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>logInfo
        <span class="apidocSignatureSpan">(logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logInfo = function (logText, logFields) {
    pub.util.log("info", logText, logFields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    // Authenticate is responsible for authenticating the connection
    pub.events.emit("authenticate", socket, easyrtcid, newAppName, username, credential, msg, function(err){
        if (err) {
            try{
                pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, pub.util.getErrorMsg("LOGIN_BAD_AUTH"), appObj
);
                socket.disconnect();
                pub.util.<span class="apidocCodeKeywordSpan">logInfo</span>("["+newAppName+"]["+easyrtcid+&amp;#
x22;] Authentication denied. Socket disconnected.", err);
            }catch(e){}
        } else {
            asyncCallback(null);
        }
    });
},
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.logWarning" id="apidoc.module.easyrtc.util.logWarning">module easyrtc.util.logWarning</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.logWarning.logWarning" id="apidoc.element.easyrtc.util.logWarning.logWarning">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>logWarning
        <span class="apidocSignatureSpan">(logText, logFields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logWarning = function (logText, logFields) {
    pub.util.log("warning", logText, logFields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

var appName;
var newAppName = (_.isObject(msg.msgData) &amp;&amp;_.isString(msg.msgData.applicationName)) ? msg.msgData.applicationName : pub
.getOption("appDefaultName");

// Ensure socketCallback is present
if(!_.isFunction(socketCallback)) {
    pub.util.<span class="apidocCodeKeywordSpan">logWarning</span>("["+easyrtcid+"] EasyRTC Auth message received
 with no callback. Disconnecting socket.", msg);
    try{socket.disconnect();}catch(e){}
    return;
}

// Only accept authenticate message
if(!_.isObject(msg) || !_.isString(msg.msgType) || msg.msgType != "authenticate") {
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received without msgType of 'authenticate'
;. Disconnecting socket.", msg);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.nextToNowhere" id="apidoc.module.easyrtc.util.nextToNowhere">module easyrtc.util.nextToNowhere</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.nextToNowhere.nextToNowhere" id="apidoc.element.easyrtc.util.nextToNowhere.nextToNowhere">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>nextToNowhere
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextToNowhere = function (err) {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.sendSessionCookie" id="apidoc.module.easyrtc.util.sendSessionCookie">module easyrtc.util.sendSessionCookie</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.sendSessionCookie.sendSessionCookie" id="apidoc.element.easyrtc.util.sendSessionCookie.sendSessionCookie">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>sendSessionCookie
        <span class="apidocSignatureSpan">(req, res)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendSessionCookie = function (req, res) {
    // If sessions or session cookies are disabled, return without an error.
    if (!pub.getOption("sessionEnable") || !pub.getOption("sessionCookieEnable")) {
        return;
    }
    if (req.sessionID &amp;&amp; (!req.cookies || !req.cookies["easyrtcsid"] || req.cookies["easyrtcsid"] != req.sessionID)) {
        try {
            pub.util.logDebug("Sending easyrtcsid cookie [" + req.sessionID + "] to [" + req.ip + "] for request [" + req.url + "]");
            res.cookie("easyrtcsid", req.sessionID, {maxAge: 2592000000, httpOnly: false});
        } catch (e) {
            pub.util.logWarning("Problem setting easyrtcsid cookie [" + req.sessionID + "] to [" + req.ip + "] for request [" +
req.url + "]");
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // Forward people who forget the trailing slash to the folder.
    pub.httpApp.get(pub.getOption("demosPublicFolder"), function(req, res) {res.redirect(pub.getOption("demosPublicFolder
") + "/");});
}

if (pub.getOption("apiEnable")) {
    // Set the EasyRTC API files
    pub.util.logDebug("Setting up API files to be accessed from '" + pub.getOption("apiPublicFolder") + &amp;#
x22;/'");
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.js",                  function(req, res) {pub
.util.<span class="apidocCodeKeywordSpan">sendSessionCookie</span>(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc
.js",                   {root:__dirname + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc_ft.js",               function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc_ft.js",                {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.css",                 function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc.css",                  {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.min.js",              function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"open_source/api/easyrtc.min.js",   {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc_ft.min.js",           function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"api/easyrtc_ft.min.js",            {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/easyrtc.min.css",             function(req, res) {pub
.util.sendSessionCookie(req, res); (res.sendFile||res.sendfile).call(res,"open_source/api/easyrtc.min.css",  {root:__dirname
 + "/../"});});
    pub.httpApp.get(pub.getOption("apiPublicFolder") + "/img/*", function(req, res) {
        pub.util.sendSessionCookie(req, res);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.sendSocketCallbackAck" id="apidoc.module.easyrtc.util.sendSocketCallbackAck">module easyrtc.util.sendSocketCallbackAck</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.sendSocketCallbackAck.sendSocketCallbackAck" id="apidoc.element.easyrtc.util.sendSocketCallbackAck.sendSocketCallbackAck">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>sendSocketCallbackAck
        <span class="apidocSignatureSpan">(easyrtcid, socketCallback, appObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendSocketCallbackAck = function (easyrtcid, socketCallback, appObj) {
    return pub.util.sendSocketCallbackMsg(easyrtcid, socketCallback, {"msgType":"ack"}, appObj);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            asyncCallback(null);
        },
        function(asyncCallback) {
            // The msgType controls how each message is handled
            switch(msg.msgType) {
case "setUserCfg":
    pub.util.logDebug("["+connectionObj.getAppName()+"]["+connectionObj.getEasyrtcid()+"] WebRTC setUserCfg
 command received. This feature is not yet complete.");
    pub.util.<span class="apidocCodeKeywordSpan">sendSocketCallbackAck</span>(easyrtcid, socketCallback, appObj);
    next(null);
    break;

case "setPresence":
    pub.events.emit("msgTypeSetPresence", connectionObj, msg.msgData.setPresence, socketCallback, next);
    break;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.sendSocketCallbackMsg" id="apidoc.module.easyrtc.util.sendSocketCallbackMsg">module easyrtc.util.sendSocketCallbackMsg</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.sendSocketCallbackMsg.sendSocketCallbackMsg" id="apidoc.element.easyrtc.util.sendSocketCallbackMsg.sendSocketCallbackMsg">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>sendSocketCallbackMsg
        <span class="apidocSignatureSpan">(easyrtcid, socketCallback, msg, appObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sendSocketCallbackMsg = function (easyrtcid, socketCallback, msg, appObj) {
    var appName;

    if (appObj) {
        appName = appObj.getAppName();
        if (!appObj.isConnectedSync(easyrtcid)) {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Unable to return socket message. Peer no longer connected.");
            return false;
        }
    }

    if (!_.isFunction(socketCallback)) {
        pub.util.logWarning("["+appName+"]["+easyrtcid+"] Unable to return socket message. Provided socketCallback was not a function
.");
        return false;
    }

    try {
        socketCallback(msg);
    } catch(err) {
        pub.util.logWarning("["+appName+"]["+easyrtcid+"] Unable to return socket message. Call to socketCallback failed.");
    }

    if (e.option.logMessagesEnable) {
        try {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Returning socket.io message: ["+JSON.stringify(msg)+"]");
        }
        catch(err) {
            pub.util.logDebug("["+appName+"]["+easyrtcid+"] Returning socket.io message");
        }
    }
    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    try{socket.disconnect();}catch(e){}
    return;
}

// Only accept authenticate message
if(!_.isObject(msg) || !_.isString(msg.msgType) || msg.msgType != "authenticate") {
    pub.util.logWarning("["+easyrtcid+"] EasyRTC Auth message received without msgType of 'authenticate'
;. Disconnecting socket.", msg);
    pub.util.<span class="apidocCodeKeywordSpan">sendSocketCallbackMsg</span>(easyrtcid, socketCallback, pub.util.getErrorMsg(&amp;#
x22;LOGIN_BAD_AUTH"), appObj);
    try{socket.disconnect();}catch(e){}
    return;
}

// Check msg structure.
if(!_.isObject(msg.msgData)
    || !_.isString(msg.msgData.apiVersion)
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.easyrtc.util.updateCheck" id="apidoc.module.easyrtc.util.updateCheck">module easyrtc.util.updateCheck</a></h1>


    <h2>
        <a href="#apidoc.element.easyrtc.util.updateCheck.updateCheck" id="apidoc.element.easyrtc.util.updateCheck.updateCheck">
        function <span class="apidocSignatureSpan">easyrtc.util.</span>updateCheck
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateCheck = function () {
    var easyrtcVersion = pub.getVersion();

    require("http").get("http://easyrtc.com/version/?app=easyrtc&amp;ver=" + easyrtcVersion + "&amp;platform=" + process.platform + "&amp;nodever
=" + process.version, function(res) {
        if (res.statusCode == 200)
            res.on('data', function(latestVersion) {
                latestVersion = (latestVersion + "").replace(/[^0-9a-z.]/g, "");
                if (latestVersion != easyrtcVersion) {
                    var l = latestVersion.replace(/[^0-9.]/g, "").split(".", 3);
                    l[0] = parseInt(l[0]);
                    l[1] = parseInt(l[1]);
                    l[2] = parseInt(l[2]);
                    var v = easyrtcVersion.replace(/[^0-9.]/g, "").split(".", 3);
                    v[0] = parseInt(v[0]);
                    v[1] = parseInt(v[1]);
                    v[2] = parseInt(v[2]);
                    if (v[0] &lt; l[0] || (v[0] == l[0] &amp;&amp; v[1] &lt; l[1]) || (v[0] == l[0] &amp;&amp; v[1] == l[1] &amp;&amp; v[2] &lt; l[2]))
                        pub.util.logWarning("Update Check: New version of EasyRTC is available (" + latestVersion + "). Visit http
://easyrtc.com/ for details or run 'npm update' to upgrade.");
                    else if (v[0] == l[0] &amp;&amp; v[1] == l[1] &amp;&amp; v[2] == l[2] &amp;&amp; easyrtcVersion.replace(/[^a-z]/gi, "") != "")
                        pub.util.logWarning("Update Check: New non-beta version of EasyRTC is available (" + latestVersion + ").
Visit http://easyrtc.com/ for details.");
                }
            });
    }).on('error', function(e) {
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    function(callback) {
        pub.createApp(pub.getOption("appDefaultName"), null, callback);
    },

    function(appObj, callback) {
        // Checks to see if there is a newer version of EasyRTC available
        if (pub.getOption("updateCheckEnable")) {
            pub.util.<span class="apidocCodeKeywordSpan">updateCheck</span>();
        }
        callback(null);
    }
],
// This function is called upon completion of the async waterfall, or upon an error being thrown.
function (err) {
    next(err);
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>